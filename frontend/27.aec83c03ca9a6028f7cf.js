(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{ZMzJ:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return a}));var n=c("fXoL");let l=(()=>{class e{constructor(e){this.ele=e}onInputChange(e){const t=this.ele.nativeElement.value;this.ele.nativeElement.value=t.replace(/[^0-9]*/g,""),t!==this.ele.nativeElement.value&&e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(n.bc(n.o))},e.\u0275dir=n.Wb({type:e,selectors:[["","appNumberInput",""]],hostBindings:function(e,t){1&e&&n.sc("input",(function(e){return t.onInputChange(e)}))}}),e})(),a=(()=>{class e{}return e.\u0275mod=n.Zb({type:e}),e.\u0275inj=n.Yb({factory:function(t){return new(t||e)}}),e})()},"y+IW":function(e,t,c){"use strict";c.r(t),c.d(t,"EmailSettingsModule",(function(){return de}));var n=c("ofXK"),l=c("tyNb"),a=c("1kSV"),i=c("t0ZU"),o=c("AytR"),s=c("fXoL"),r=c("tk/3"),d=c("5eHb"),m=c("3Pt+"),g=c("HgEw"),u=c("ZMzJ"),h=c("CzEO");function p(e,t){1&e&&(s.hc(0,"span"),s.cd(1,"SMTP Settings "),s.cc(2,"i",16),s.gc())}function f(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function b(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function _(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function M(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function v(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function D(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function w(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function N(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function T(e,t){if(1&e){const e=s.ic();s.hc(0,"div",19),s.hc(1,"div",20),s.hc(2,"label",46),s.cd(3,"Use SSL"),s.gc(),s.hc(4,"select",47,48),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).smtpSettings.use_ssl=t})),s.hc(6,"option",49),s.cd(7,"Select Status"),s.gc(),s.hc(8,"option",50),s.cd(9,"Yes"),s.gc(),s.hc(10,"option",51),s.cd(11,"No"),s.gc(),s.gc(),s.ad(12,N,2,0,"small",24),s.gc(),s.gc()}if(2&e){const e=s.Nc(5),t=s.wc(3);s.Nb(4),s.Dc("ngModel",t.smtpSettings.use_ssl),s.Nb(8),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function C(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function I(e,t){if(1&e){const e=s.ic();s.hc(0,"div",19),s.hc(1,"div",20),s.hc(2,"label",46),s.cd(3,"Use TLS"),s.gc(),s.hc(4,"select",52,53),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).smtpSettings.use_tls=t})),s.hc(6,"option",49),s.cd(7,"Select Status"),s.gc(),s.hc(8,"option",50),s.cd(9,"Yes"),s.gc(),s.hc(10,"option",51),s.cd(11,"No"),s.gc(),s.gc(),s.ad(12,C,2,0,"small",24),s.gc(),s.gc()}if(2&e){const e=s.Nc(5),t=s.wc(3);s.Nb(4),s.Dc("ngModel",t.smtpSettings.use_tls),s.Nb(8),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function S(e,t){if(1&e){const e=s.ic();s.hc(0,"form",null,17),s.hc(2,"div",5),s.hc(3,"div",18),s.hc(4,"div",5),s.hc(5,"div",19),s.hc(6,"div",20),s.hc(7,"input",21,22),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).smtpSettings.email_id=t})),s.gc(),s.hc(9,"label",23),s.cd(10,"Email Address"),s.gc(),s.ad(11,f,2,0,"small",24),s.gc(),s.gc(),s.hc(12,"div",19),s.hc(13,"div",20),s.hc(14,"input",25,26),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).smtpSettings.name=t})),s.gc(),s.hc(16,"label",27),s.cd(17,"Domain name"),s.gc(),s.ad(18,b,2,0,"small",24),s.gc(),s.gc(),s.hc(19,"div",19),s.hc(20,"div",20),s.hc(21,"input",28,29),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).smtpSettings.email_server=t})),s.gc(),s.hc(23,"label",30),s.cd(24,"Email Server"),s.gc(),s.ad(25,_,2,0,"small",24),s.gc(),s.gc(),s.hc(26,"div",19),s.hc(27,"div",20),s.hc(28,"input",31,32),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).smtpSettings.incoming_port=t})),s.gc(),s.hc(30,"label",33),s.cd(31,"Incoming Port"),s.gc(),s.ad(32,M,2,0,"small",24),s.gc(),s.gc(),s.hc(33,"div",19),s.hc(34,"div",20),s.hc(35,"input",34,35),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).smtpSettings.attachment_limit=t})),s.gc(),s.hc(37,"label",36),s.cd(38,"Attachment Limit(in MB)"),s.gc(),s.ad(39,v,2,0,"small",24),s.gc(),s.gc(),s.hc(40,"div",19),s.hc(41,"div",20),s.hc(42,"input",37,38),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).smtpSettings.smtp_server=t})),s.gc(),s.hc(44,"label",39),s.cd(45,"SMTP Server"),s.gc(),s.ad(46,D,2,0,"small",24),s.gc(),s.gc(),s.hc(47,"div",19),s.hc(48,"div",20),s.hc(49,"input",40,41),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).smtpSettings.smtp_port=t})),s.gc(),s.hc(51,"label",42),s.cd(52,"SMTP Port"),s.gc(),s.ad(53,w,2,0,"small",24),s.gc(),s.gc(),s.ad(54,T,13,2,"div",43),s.ad(55,I,13,2,"div",43),s.gc(),s.hc(56,"div",3),s.hc(57,"button",44),s.sc("click",(function(){s.Pc(e);const t=s.Nc(1);return s.wc(2).onSubmit(t)})),s.cd(58,"save"),s.gc(),s.gc(),s.gc(),s.gc(),s.gc()}if(2&e){const e=s.Nc(8),t=s.Nc(15),c=s.Nc(22),n=s.Nc(29),l=s.Nc(36),a=s.Nc(43),i=s.Nc(50),o=s.wc(2);s.Nb(7),s.Dc("ngModel",o.smtpSettings.email_id),s.Nb(4),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),s.Nb(3),s.Dc("ngModel",o.smtpSettings.name),s.Nb(4),s.Dc("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),s.Nb(3),s.Dc("ngModel",o.smtpSettings.email_server),s.Nb(4),s.Dc("ngIf",c.touched&&(null==c||null==c.errors?null:c.errors.required)),s.Nb(3),s.Dc("ngModel",o.smtpSettings.incoming_port),s.Nb(4),s.Dc("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),s.Nb(3),s.Dc("ngModel",o.smtpSettings.attachment_limit),s.Nb(4),s.Dc("ngIf",l.touched&&(null==l||null==l.errors?null:l.errors.required)),s.Nb(3),s.Dc("ngModel",o.smtpSettings.smtp_server),s.Nb(4),s.Dc("ngIf",a.touched&&(null==a||null==a.errors?null:a.errors.required)),s.Nb(3),s.Dc("ngModel",o.smtpSettings.smtp_port),s.Nb(4),s.Dc("ngIf",i.touched&&(null==i||null==i.errors?null:i.errors.required)),s.Nb(1),s.Dc("ngIf","Administrator"==(null==o.loginUser?null:o.loginUser.full_name)),s.Nb(1),s.Dc("ngIf","Administrator"==(null==o.loginUser?null:o.loginUser.full_name))}}function q(e,t){1&e&&(s.hc(0,"ngb-panel",13),s.ad(1,p,3,0,"ng-template",14),s.ad(2,S,59,16,"ng-template",15),s.gc())}function y(e,t){1&e&&(s.hc(0,"span"),s.cd(1,"Email Templates "),s.cc(2,"i",16),s.gc())}function P(e,t){if(1&e){const e=s.ic();s.hc(0,"div",58),s.hc(1,"div",59),s.hc(2,"div",60),s.hc(3,"h6"),s.hc(4,"b"),s.cd(5),s.gc(),s.gc(),s.hc(6,"p"),s.hc(7,"b"),s.cd(8,"Subject"),s.gc(),s.hc(9,"span",61),s.cd(10),s.gc(),s.gc(),s.gc(),s.hc(11,"div",62),s.hc(12,"button",63),s.sc("click",(function(){s.Pc(e);const c=t.$implicit;return s.wc(3).deleteTemp(c)})),s.cd(13,"Delete"),s.gc(),s.hc(14,"button",63),s.sc("click",(function(){s.Pc(e);const c=t.$implicit,n=s.wc(3),l=s.Nc(17);return n.editTemp(c,l)})),s.cd(15,"Edit"),s.gc(),s.gc(),s.gc(),s.gc()}if(2&e){const e=t.$implicit;s.Nb(5),s.dd(e.name),s.Nb(5),s.ed(" : ",e.subject," ")}}function x(e,t){if(1&e){const e=s.ic();s.cc(0,"div",0),s.hc(1,"div",5),s.hc(2,"div",19),s.hc(3,"div",55),s.sc("click",(function(){s.Pc(e);const t=s.wc(2),c=s.Nc(17);return t.addNewTemp(c)})),s.hc(4,"h6"),s.hc(5,"b"),s.cc(6,"i",56),s.cd(7," Create New Template "),s.gc(),s.gc(),s.gc(),s.gc(),s.ad(8,P,16,2,"div",57),s.gc()}if(2&e){const e=s.wc(2);s.Nb(8),s.Dc("ngForOf",e.emailTemplates)}}function k(e,t){1&e&&(s.hc(0,"ngb-panel",54),s.ad(1,y,3,0,"ng-template",14),s.ad(2,x,9,1,"ng-template",15),s.gc())}function A(e,t){1&e&&(s.hc(0,"span"),s.cd(1,"Email Account "),s.cc(2,"i",16),s.gc())}function U(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function $(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function R(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function E(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function O(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function j(e,t){if(1&e){const e=s.ic();s.hc(0,"div",19),s.hc(1,"div",20),s.hc(2,"label",77),s.cd(3,"Initial Sync Count"),s.gc(),s.hc(4,"select",78,79),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailAccount.initial_sync_count=t})),s.hc(6,"option",49),s.cd(7,"Selected Mode"),s.gc(),s.hc(8,"option",80),s.cd(9,"100"),s.gc(),s.hc(10,"option",81),s.cd(11,"250"),s.gc(),s.hc(12,"option",82),s.cd(13,"500"),s.gc(),s.gc(),s.ad(14,O,2,0,"small",24),s.gc(),s.gc()}if(2&e){const e=s.Nc(5),t=s.wc(3);s.Nb(4),s.Dc("ngModel",t.emailAccount.initial_sync_count),s.Nb(10),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function F(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function J(e,t){if(1&e){const e=s.ic();s.hc(0,"div",19),s.hc(1,"div",20),s.hc(2,"label",83),s.cd(3,"Create Contact"),s.gc(),s.hc(4,"select",84,85),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailAccount.create_contact=t})),s.hc(6,"option",49),s.cd(7,"Select Status"),s.gc(),s.hc(8,"option",50),s.cd(9,"Yes"),s.gc(),s.hc(10,"option",51),s.cd(11,"No"),s.gc(),s.gc(),s.ad(12,F,2,0,"small",24),s.gc(),s.gc()}if(2&e){const e=s.Nc(5),t=s.wc(3);s.Nb(4),s.Dc("ngModel",t.emailAccount.create_contact),s.Nb(8),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function L(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function Y(e,t){if(1&e){const e=s.ic();s.hc(0,"div",19),s.hc(1,"div",20),s.hc(2,"label",86),s.cd(3,"Enable Outgoing"),s.gc(),s.hc(4,"select",87,88),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailAccount.enable_outgoing=t})),s.hc(6,"option",49),s.cd(7,"Select Status"),s.gc(),s.hc(8,"option",50),s.cd(9,"Yes"),s.gc(),s.hc(10,"option",51),s.cd(11,"No"),s.gc(),s.gc(),s.ad(12,L,2,0,"small",24),s.gc(),s.gc()}if(2&e){const e=s.Nc(5),t=s.wc(3);s.Nb(4),s.Dc("ngModel",t.emailAccount.enable_outgoing),s.Nb(8),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function z(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function Z(e,t){if(1&e){const e=s.ic();s.hc(0,"div",19),s.hc(1,"div",20),s.hc(2,"label",89),s.cd(3,"Default Outgoing"),s.gc(),s.hc(4,"select",90,91),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailAccount.default_outgoing=t})),s.hc(6,"option",49),s.cd(7,"Select Status"),s.gc(),s.hc(8,"option",50),s.cd(9,"Yes"),s.gc(),s.hc(10,"option",51),s.cd(11,"No"),s.gc(),s.gc(),s.ad(12,z,2,0,"small",24),s.gc(),s.gc()}if(2&e){const e=s.Nc(5),t=s.wc(3);s.Nb(4),s.Dc("ngModel",t.emailAccount.default_outgoing),s.Nb(8),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function B(e,t){1&e&&(s.hc(0,"small",45),s.cd(1,"Required"),s.gc())}function H(e,t){if(1&e){const e=s.ic();s.hc(0,"div",19),s.hc(1,"div",20),s.hc(2,"label",92),s.cd(3,"Track Email Status"),s.gc(),s.hc(4,"select",93,94),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailAccount.track_email_status=t})),s.hc(6,"option",49),s.cd(7,"Select Status"),s.gc(),s.hc(8,"option",50),s.cd(9,"Yes"),s.gc(),s.hc(10,"option",51),s.cd(11,"No"),s.gc(),s.gc(),s.ad(12,B,2,0,"small",24),s.gc(),s.gc()}if(2&e){const e=s.Nc(5),t=s.wc(3);s.Nb(4),s.Dc("ngModel",t.emailAccount.track_email_status),s.Nb(8),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function K(e,t){if(1&e){const e=s.ic();s.hc(0,"form",null,65),s.hc(2,"div",5),s.hc(3,"div",18),s.hc(4,"div",5),s.hc(5,"div",19),s.hc(6,"div",20),s.hc(7,"input",66,22),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailAccount.email_id=t})),s.gc(),s.hc(9,"label",67),s.cd(10,"Email Address"),s.gc(),s.ad(11,U,2,0,"small",24),s.gc(),s.gc(),s.hc(12,"div",19),s.hc(13,"div",20),s.hc(14,"input",68,69),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailAccount.password=t})),s.gc(),s.hc(16,"label",70),s.cd(17,"Password"),s.gc(),s.ad(18,$,2,0,"small",24),s.gc(),s.gc(),s.hc(19,"div",19),s.hc(20,"div",20),s.hc(21,"input",71,72),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailAccount.email_account_name=t})),s.gc(),s.hc(23,"label",73),s.cd(24,"Email Account Name"),s.gc(),s.ad(25,R,2,0,"small",24),s.gc(),s.gc(),s.hc(26,"div",19),s.hc(27,"div",20),s.hc(28,"input",74,75),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailAccount.domain=t})),s.gc(),s.hc(30,"label",76),s.cd(31,"Domain"),s.gc(),s.ad(32,E,2,0,"small",24),s.gc(),s.gc(),s.ad(33,j,15,2,"div",43),s.ad(34,J,13,2,"div",43),s.ad(35,Y,13,2,"div",43),s.ad(36,Z,13,2,"div",43),s.ad(37,H,13,2,"div",43),s.gc(),s.gc(),s.gc(),s.hc(38,"div",3),s.hc(39,"button",44),s.sc("click",(function(){s.Pc(e);const t=s.Nc(1);return s.wc(2).onSubmitaccountForm(t)})),s.cd(40,"save"),s.gc(),s.gc(),s.gc()}if(2&e){const e=s.Nc(8),t=s.Nc(15),c=s.Nc(22),n=s.Nc(29),l=s.wc(2);s.Nb(7),s.Dc("ngModel",l.emailAccount.email_id),s.Nb(4),s.Dc("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),s.Nb(3),s.Dc("ngModel",l.emailAccount.password),s.Nb(4),s.Dc("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),s.Nb(3),s.Dc("ngModel",l.emailAccount.email_account_name),s.Nb(4),s.Dc("ngIf",c.touched&&(null==c||null==c.errors?null:c.errors.required)),s.Nb(3),s.Dc("ngModel",l.emailAccount.domain),s.Nb(4),s.Dc("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),s.Nb(1),s.Dc("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),s.Nb(1),s.Dc("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),s.Nb(1),s.Dc("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),s.Nb(1),s.Dc("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),s.Nb(1),s.Dc("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name))}}function W(e,t){1&e&&(s.hc(0,"ngb-panel",64),s.ad(1,A,3,0,"ng-template",14),s.ad(2,K,41,13,"ng-template",15),s.gc())}function X(e,t){if(1&e){const e=s.ic();s.hc(0,"quill-editor",123,124),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailTempData.response_html=t})),s.cc(2,"object",125),s.gc()}if(2&e){const e=s.wc(3);s.Dc("ngModel",e.emailTempData.response_html),s.Nb(2),s.Dc("data",e.domain+e.emailTempData.email_client_banner,s.Rc)}}function G(e,t){if(1&e){const e=s.ic();s.hc(0,"textarea",126),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailTempData.response_html=t})),s.cd(1,"\n            "),s.gc()}if(2&e){const e=s.wc(3);s.Dc("ngModel",e.emailTempData.response_html)}}function V(e,t){if(1&e){const e=s.ic();s.hc(0,"textarea",127),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailTempData.response=t})),s.cd(1,'                \x3c!-- <img [src]="domain+emailTempData.email_client_banner" height="200"> --\x3e\n                \n            '),s.gc()}if(2&e){const e=s.wc(3);s.Dc("ngModel",e.emailTempData.response)}}function Q(e,t){if(1&e){const e=s.ic();s.hc(0,"form",102,17),s.sc("ngSubmit",(function(){s.Pc(e);const t=s.Nc(1),c=s.wc().$implicit;return s.wc().emailForm(t,c)})),s.hc(2,"div",20),s.hc(3,"input",103,104),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailTempData.name=t})),s.gc(),s.hc(5,"label",105),s.cd(6,"Email Template"),s.gc(),s.gc(),s.hc(7,"div",20),s.hc(8,"input",106,107),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailTempData.subject=t})),s.gc(),s.hc(10,"label",108),s.cd(11,"Subject"),s.gc(),s.gc(),s.hc(12,"div",109),s.hc(13,"input",110),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailTempData.use_html=t})),s.gc(),s.hc(14,"label",111),s.cd(15," html code "),s.gc(),s.gc(),s.ad(16,X,3,2,"quill-editor",112),s.ad(17,G,2,1,"textarea",113),s.ad(18,V,2,1,"textarea",114),s.hc(19,"div",20),s.hc(20,"small"),s.cd(21,"Client Banner"),s.gc(),s.hc(22,"input",115),s.sc("change",(function(t){return s.Pc(e),s.wc(2).handleFileInput(t.target.files,"email_client_banner")})),s.gc(),s.hc(23,"label",116),s.hc(24,"small",117),s.cd(25),s.gc(),s.gc(),s.hc(26,"label",118),s.cd(27),s.gc(),s.gc(),s.cc(28,"img",119),s.hc(29,"div",120),s.hc(30,"button",121),s.sc("click",(function(){return s.Pc(e),s.wc().$implicit.dismiss("Cross click")})),s.cd(31,"Cancel"),s.gc(),s.hc(32,"button",122),s.cd(33,"Save"),s.gc(),s.gc(),s.gc()}if(2&e){const e=s.wc(2);s.Nb(3),s.Dc("ngModel",e.emailTempData.name)("readonly",e.checkTempMethod),s.Nb(5),s.Dc("ngModel",e.emailTempData.subject),s.Nb(5),s.Dc("ngModel",e.emailTempData.use_html),s.Nb(3),s.Dc("ngIf",e.emailTempData.use_html),s.Nb(1),s.Dc("ngIf",e.emailTempData.use_html),s.Nb(1),s.Dc("ngIf",!e.emailTempData.use_html),s.Nb(7),s.ed("",null!=e.emailTempData&&e.emailTempData.email_client_banner?e.emailTempData.email_client_banner:"Upload"," "),s.Nb(2),s.ed(" ",e.emailTempData.email_client_banner?"Change":"Upload"," "),s.Nb(1),s.Dc("src",e.domain+e.emailTempData.email_client_banner,s.Sc)}}function ee(e,t){1&e&&(s.hc(0,"div",128),s.hc(1,"h3"),s.cd(2,"Please Wait"),s.gc(),s.gc())}function te(e,t){if(1&e&&(s.hc(0,"div",95),s.hc(1,"h5",96),s.cd(2,"Email"),s.gc(),s.hc(3,"button",97),s.sc("click",(function(){return t.$implicit.dismiss("Cross click")})),s.hc(4,"span",98),s.cd(5,"\xd7"),s.gc(),s.gc(),s.gc(),s.hc(6,"div",99),s.ad(7,Q,34,10,"form",100),s.ad(8,ee,3,0,"div",101),s.gc()),2&e){const e=s.wc();s.Nb(7),s.Dc("ngIf",e.emailTempData),s.Nb(1),s.Dc("ngIf",!e.emailTempData)}}function ce(e,t){if(1&e){const e=s.ic();s.hc(0,"quill-editor",135,124),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailTempData.response_html=t})),s.gc()}if(2&e){const e=s.wc(3);s.Dc("ngModel",e.emailTempData.response_html)}}function ne(e,t){if(1&e){const e=s.ic();s.hc(0,"textarea",126),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailTempData.response_html=t})),s.cd(1,"            "),s.gc()}if(2&e){const e=s.wc(3);s.Dc("ngModel",e.emailTempData.response_html)}}function le(e,t){if(1&e){const e=s.ic();s.hc(0,"textarea",127),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(3).emailTempData.response=t})),s.gc()}if(2&e){const e=s.wc(3);s.Dc("ngModel",e.emailTempData.response)}}function ae(e,t){if(1&e){const e=s.ic();s.hc(0,"form",102,17),s.sc("ngSubmit",(function(){s.Pc(e);const t=s.Nc(1),c=s.wc(2);return c.emailForm(t,c.modal)})),s.hc(2,"div",20),s.hc(3,"input",103,104),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailTempData.name=t})),s.gc(),s.hc(5,"label",105),s.cd(6,"Email Template"),s.gc(),s.gc(),s.hc(7,"div",20),s.hc(8,"input",106,107),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailTempData.subject=t})),s.gc(),s.hc(10,"label",108),s.cd(11,"Subject"),s.gc(),s.gc(),s.hc(12,"div",109),s.hc(13,"input",110),s.sc("ngModelChange",(function(t){return s.Pc(e),s.wc(2).emailTempData.use_html=t})),s.gc(),s.hc(14,"label",111),s.cd(15," html code "),s.gc(),s.gc(),s.ad(16,ce,2,1,"quill-editor",134),s.ad(17,ne,2,1,"textarea",113),s.ad(18,le,1,1,"textarea",114),s.cc(19,"img",119),s.gc()}if(2&e){const e=s.wc(2);s.Nb(3),s.Dc("ngModel",e.emailTempData.name)("readonly",e.checkTempMethod),s.Nb(5),s.Dc("ngModel",e.emailTempData.subject),s.Nb(5),s.Dc("ngModel",e.emailTempData.use_html),s.Nb(3),s.Dc("ngIf",e.emailTempData.use_html),s.Nb(1),s.Dc("ngIf",e.emailTempData.use_html),s.Nb(1),s.Dc("ngIf",!e.emailTempData.use_html),s.Nb(1),s.Dc("src",e.domain+e.emailTempData.email_client_banner,s.Sc)}}function ie(e,t){if(1&e){const e=s.ic();s.hc(0,"div",95),s.hc(1,"h4",129),s.cd(2,"Email Preview"),s.gc(),s.hc(3,"button",130),s.sc("click",(function(){return(0,t.dismiss)("Cross click")})),s.cc(4,"i",131),s.gc(),s.gc(),s.hc(5,"div",99),s.ad(6,ae,20,8,"form",100),s.gc(),s.hc(7,"div",132),s.hc(8,"button",133),s.sc("click",(function(){return s.Pc(e),s.wc().succesToaster()})),s.cd(9,"Save"),s.gc(),s.gc()}if(2&e){const e=s.wc();s.Nb(6),s.Dc("ngIf",e.emailTempData)}}const oe=function(){return["/home"]},se=[{path:"",component:(()=>{class e{constructor(e,t,c,n){this.http=e,this.toaster=t,this.modal=c,this.modalService=n,this.loginUser={},this.smtpSettings={},this.emailTemplates={},this.emailAccount={},this.emailTempData={},this.checkTempMethod=!1,this.domain=o.a.apiDomain,this.closeResult="",this.use_html=!0}ngOnInit(){this.loginUser=JSON.parse(localStorage.getItem("login")),this.loginUSerRole=this.loginUser.rolesFilter.some(e=>"ezy-IT"==e),this.getSmtpData(),this.getEmailAccountData(),this.getTemplateData()}getSmtpData(){this.http.get(`${i.a.resource}/${i.b.emailDomain}`).subscribe(e=>{e.data&&(e.data.length>1?this.http.get(`${i.a.resource}/${i.b.emailDomain}/${e.data[0].name}`).subscribe(e=>{this.smtpSettings=null==e?void 0:e.data}):this.smtpSettings={})})}onSubmit(e){var t,c;(null===(t=this.smtpSettings)||void 0===t?void 0:t.name)?this.http.put(`${i.a.resource}/${i.b.emailDomain}/${null===(c=this.smtpSettings)||void 0===c?void 0:c.name}`,e.value).subscribe(e=>{e&&(this.smtpSettings=null==e?void 0:e.data,this.toaster.success("Updated"))}):this.http.post(`${i.a.resource}/${i.b.emailDomain}`,e.value).subscribe(e=>{e&&(this.smtpSettings=null==e?void 0:e.data,this.toaster.success("Added"))})}getEmailAccountData(){let e={filters:[],limit_start:0,limit_page_length:20,order_by:"`tabEmail Account`.`creation` desc"};e.filters.push(["default_outgoing","=",1]),e.fields=JSON.stringify(["name","default_outgoing"]),e.filters=JSON.stringify(e.filters),this.http.get(`${i.a.resource}/${i.b.emailAccount}`,{params:e}).subscribe(e=>{e.data&&this.http.get(`${i.a.resource}/${i.b.emailAccount}/${e.data[0].name}`).subscribe(e=>{this.emailAccount=null==e?void 0:e.data})})}onSubmitaccountForm(e){var t,c;(null===(t=this.emailAccount)||void 0===t?void 0:t.name)?this.http.put(`${i.a.resource}/${i.b.emailAccount}/${null===(c=this.emailAccount)||void 0===c?void 0:c.name}`,e.value).subscribe(e=>{e&&(this.emailAccount=null==e?void 0:e.data,this.toaster.success("Updated"))}):this.http.post(`${i.a.resource}/${i.b.emailAccount}`,e.value).subscribe(e=>{e&&(this.emailAccount=null==e?void 0:e.data,this.toaster.success("Added"))})}getTemplateData(){let e={filters:[]};e.fields=JSON.stringify(["name","subject","response_html","response","use_html","email_client_banner"]),this.http.get(`${i.a.resource}/${i.b.emailTemplates}`,{params:e}).subscribe(e=>{0!=e.data.length&&(this.emailTemplates=e.data)})}addNewTemp(e){this.emailTempData={},this.checkTempMethod=!1,this.modal.open(e,{size:"lg",centered:!0})}emailForm(e,t){var c,n;let l=1==e.value.use_html?{name:e.value.template_name,subject:e.value.subject,response_html:e.value.message,use_html:1,owner:null===(c=this.loginUser)||void 0===c?void 0:c.name,email_client_banner:this.emailTempData.email_client_banner}:{name:e.value.template_name,subject:e.value.subject,response:e.value.emailTemplatesText,use_html:0,owner:null===(n=this.loginUser)||void 0===n?void 0:n.name,email_client_banner:this.emailTempData.email_client_banner};this.checkTempMethod?this.http.put(`${i.a.resource}/${i.b.emailTemplates}/${l.name}`,l).subscribe(e=>{e&&(t.dismiss("close"),this.getTemplateData(),this.toaster.success("Updated"))}):this.http.post(`${i.a.resource}/${i.b.emailTemplates}`,l).subscribe(e=>{e&&(t.dismiss("close"),this.getTemplateData(),this.toaster.success("Added"))})}deleteTemp(e){if(!window.confirm(`Are you sure to delete ${e.name} Template? `))return null;this.http.delete(`${i.a.resource}/${i.b.emailTemplates}/${e.name}`).subscribe(t=>{"ok"==(null==t?void 0:t.message)&&(this.getTemplateData(),this.toaster.success(e.name+" Template is deleted"))})}editTemp(e,t){this.emailTempData=e,this.checkTempMethod=!0,this.modal.open(t,{size:"lg",centered:!0})}open(e){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:"lg",centered:!0}).result.then(e=>{this.closeResult="Closed with: "+e},e=>{this.closeResult="Dismissed "+this.getDismissReason(e)})}getDismissReason(e){return e===a.a.ESC?"by pressing ESC":e===a.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+e}succesToaster(){this.toaster.success("Updated")}handleFileInput(e,t){if(this.filename=e[0].name,this.fileToUpload=e[0],this.fileToUpload){const e=new FormData;e.append("file",this.fileToUpload,this.fileToUpload.name),e.append("is_private","1"),e.append("folder","Home"),this.http.post(i.a.uploadFile,e).subscribe(e=>{if(e.message.file_url&&"email_client_banner"===t){this.emailTempData.email_client_banner=e.message.file_url,console.log(this.emailTempData.email_client_banner);const t=new FormData;t.append("doc",JSON.stringify(this.emailTempData)),t.append("action","Save")}})}}}return e.\u0275fac=function(t){return new(t||e)(s.bc(r.b),s.bc(d.d),s.bc(a.k),s.bc(a.k))},e.\u0275cmp=s.Vb({type:e,selectors:[["app-email-settings"]],decls:20,vars:6,consts:[[1,"row","mb-3"],[1,"col-md-6"],[1,"text-white","mt-1"],[1,"text-right"],["type","button",1,"btn","btn-outline-primary","mb-0","text-uppercase",3,"routerLink"],[1,"row"],[1,"col-md-12"],["activeIds","static-1",3,"closeOthers"],["id","static-1",4,"ngIf"],["id","static-2",4,"ngIf"],["id","static-3",4,"ngIf"],["emailtemplate",""],["content",""],["id","static-1"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"ri-add-line","float-right"],["form","ngForm"],[1,"col-lg-12","col-md-12"],[1,"col-lg-6","col-md-6"],[1,"form-group"],["type","text","appMatInput","","name","email_id","id","email_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["email_id","ngModel"],["for","email_id",1,"mat-label"],["class","text-danger",4,"ngIf"],["type","text","appMatInput","","name","name","id","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","name",1,"mat-label"],["type","text","appMatInput","","name","email_server","id","email_server","required","",1,"form-control",3,"ngModel","ngModelChange"],["email_server","ngModel"],["for","email_server",1,"mat-label"],["type","text","appMatInput","","appNumberInput","","name","incoming_port","id","incoming_port","required","",1,"form-control",3,"ngModel","ngModelChange"],["incoming_port","ngModel"],["for","incoming_port",1,"mat-label"],["type","text","appMatInput","","appNumberInput","","name","attachment_limit","id","attachment_limit","required","",1,"form-control",3,"ngModel","ngModelChange"],["attachment_limit","ngModel"],["for","attachment_limit",1,"mat-label"],["type","text","appMatInput","","name","smtp_server","id","smtp_server","required","",1,"form-control",3,"ngModel","ngModelChange"],["smtp_server","ngModel"],["for","smtp_server",1,"mat-label"],["type","text","appMatInput","","appNumberInput","","name","smtp_port","id","smtp_port","required","",1,"form-control",3,"ngModel","ngModelChange"],["smtp_port","ngModel"],["for","smtp_port",1,"mat-label"],["class","col-lg-6 col-md-6",4,"ngIf"],["type","button",1,"btn","btn-primary","mb-0","text-uppercase","ml-3",3,"click"],[1,"text-danger"],["for","use_ssl",1,"mat-label"],["appMatInput","","name","use_ssl","id","use_ssl","required","",1,"custom-select",3,"ngModel","ngModelChange"],["use_ssl","ngModel"],["selected","","hidden","","disabled",""],["value","1"],["value","0"],["appMatInput","","name","use_tls","id","use_tls","required","",1,"custom-select",3,"ngModel","ngModelChange"],["use_tls","ngModel"],["id","static-2"],[1,"text-center","newTemplate",3,"click"],[1,"ri-add-line"],["class","col-6 mb-3 email-trmplates",4,"ngFor","ngForOf"],[1,"col-6","mb-3","email-trmplates"],[1,"row","m-0","justify-content-between","align-items-center","p-2","listTemplate"],[1,"col"],[1,"text-truncate-company"],[1,"col","text-right"],["type","button",1,"btn","btn-info","ml-2",3,"click"],["id","static-3"],["accountForm","ngForm"],["type","text","appMatInput","","name","email_id","id","email_id_ac","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email_id_ac",1,"mat-label"],["type","password","appMatInput","","name","password","id","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["for","password",1,"mat-label"],["type","text","appMatInput","","name","email_account_name","id","email_account_name","required","",1,"form-control",3,"ngModel","ngModelChange"],["email_account_name","ngModel"],["for","email_account_name",1,"mat-label"],["type","text","appMatInput","","name","domain","id","domain","required","",1,"form-control",3,"ngModel","ngModelChange"],["domain","ngModel"],["for","domain",1,"mat-label"],["for","initial_sync_count",1,"mat-label"],["appMatInput","","name","initial_sync_count","id","initial_sync_count","required","",1,"custom-select",3,"ngModel","ngModelChange"],["initial_sync_count","ngModel"],["value","100"],["value","250"],["value","500"],["for","create_contact",1,"mat-label"],["appMatInput","","name","create_contact","id","create_contact","required","",1,"custom-select",3,"ngModel","ngModelChange"],["create_contact","ngModel"],["for","enable_outgoing",1,"mat-label"],["appMatInput","","name","enable_outgoing","id","enable_outgoing","required","",1,"custom-select",3,"ngModel","ngModelChange"],["enable_outgoing","ngModel"],["for","default_outgoing",1,"mat-label"],["appMatInput","","name","default_outgoing","id","default_outgoing","required","",1,"custom-select",3,"ngModel","ngModelChange"],["default_outgoing","ngModel"],["for","track_email_status",1,"mat-label"],["appMatInput","","name","track_email_status","id","track_email_status","required","",1,"custom-select",3,"ngModel","ngModelChange"],["track_email_status","ngModel"],[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit",4,"ngIf"],["class","text-center p-4",4,"ngIf"],[3,"ngSubmit"],["type","text","appMatInput","","id","template_name","name","template_name","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["template_name","ngModel"],["for","GuestName",1,"mat-label"],["type","text","appMatInput","","id","subject","name","subject","required","",1,"form-control",3,"ngModel","ngModelChange"],["subject","ngModel"],["for","subject",1,"mat-label"],[1,"form-check"],["type","checkbox","value","","name","use_html","id","flexCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexCheckDefault",1,"form-check-label"],["class","ql-container","id","message","name","message","required","","accept","image/png",3,"ngModel","ngModelChange",4,"ngIf"],["name","","id","","cols","30","rows","10","class","w-100","id","message","name","message","placeholder","Enter html code",3,"ngModel","ngModelChange",4,"ngIf"],["name","","id","","cols","30","rows","10","class","w-100","id","emailTemplatesText","name","emailTemplatesText",3,"ngModel","ngModelChange",4,"ngIf"],["type","file","name","email_client_banner","id","email_client_banner","accept","image/png",1,"d-none","form-control",3,"change"],["for","font_file",1,"border","d-block","f-upload","clearfix","rounded-sm","position-relative","w-100"],[1,"text-muted"],["for","email_client_banner",1,"float-right","upload-btn"],["height","200",3,"src"],[1,"mt-3","text-right"],["type","button",1,"btn","btn-outline-primary","mb-0","text-uppercase",3,"click"],["type","submit",1,"btn","btn-primary","ml-2"],["id","message","name","message","required","","accept","image/png",1,"ql-container",3,"ngModel","ngModelChange"],["message","ngModel"],["type","image",3,"data"],["name","","id","","cols","30","rows","10","id","message","name","message","placeholder","Enter html code",1,"w-100",3,"ngModel","ngModelChange"],["name","","id","","cols","30","rows","10","id","emailTemplatesText","name","emailTemplatesText",1,"w-100",3,"ngModel","ngModelChange"],[1,"text-center","p-4"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn","btn-primary",3,"click"],[1,"ri-close-line"],[1,"modal-footer"],["type","button",1,"btn","btn-outline-primary",3,"click"],["class","ql-container","id","message","name","message","required","",3,"ngModel","ngModelChange",4,"ngIf"],["id","message","name","message","required","",1,"ql-container",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(s.hc(0,"section"),s.hc(1,"div",0),s.hc(2,"div",1),s.hc(3,"h4",2),s.hc(4,"b"),s.cd(5,"Email Settings"),s.gc(),s.gc(),s.gc(),s.hc(6,"div",1),s.hc(7,"div",3),s.hc(8,"button",4),s.cd(9,"Cancel"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(10,"div",5),s.hc(11,"div",6),s.hc(12,"ngb-accordion",7),s.ad(13,q,3,0,"ngb-panel",8),s.ad(14,k,3,0,"ngb-panel",9),s.ad(15,W,3,0,"ngb-panel",10),s.gc(),s.gc(),s.gc(),s.gc(),s.ad(16,te,9,2,"ng-template",null,11,s.bd),s.ad(18,ie,10,1,"ng-template",null,12,s.bd)),2&e&&(s.Nb(8),s.Dc("routerLink",s.Gc(5,oe)),s.Nb(4),s.Dc("closeOthers",!0),s.Nb(1),s.Dc("ngIf","Administrator"==(null==t.loginUser?null:t.loginUser.full_name)||t.loginUSerRole),s.Nb(1),s.Dc("ngIf","Administrator"==(null==t.loginUser?null:t.loginUser.full_name)||t.loginUSerRole),s.Nb(1),s.Dc("ngIf","Administrator"==(null==t.loginUser?null:t.loginUser.full_name)||t.loginUSerRole))},directives:[l.f,a.b,n.p,a.v,a.x,a.w,m.u,m.j,m.k,m.b,g.a,m.q,m.i,m.l,u.a,m.r,m.m,m.t,n.o,m.a,h.a],styles:[".newTemplate[_ngcontent-%COMP%]{background-color:#c1c1c1;padding:27px 0}.listTemplate[_ngcontent-%COMP%], .newTemplate[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;cursor:pointer}.listTemplate[_ngcontent-%COMP%]{background-color:#fff}.text-truncate-company[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;white-space:nowrap;text-transform:capitalize;width:200px;overflow:hidden;vertical-align:bottom;text-align:left}.email-trmplates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex}.email-trmplates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{padding-right:10px}.upload-btn[_ngcontent-%COMP%]{position:absolute;top:38px;padding:6px;background:#f26135;color:#fff;border-radius:3px;right:5px;margin:0;cursor:pointer}.f-upload[_ngcontent-%COMP%]{padding:20px 10px;position:relative}"]}),e})()}];let re=(()=>{class e{}return e.\u0275mod=s.Zb({type:e}),e.\u0275inj=s.Yb({factory:function(t){return new(t||e)},imports:[[l.i.forChild(se)],l.i]}),e})(),de=(()=>{class e{}return e.\u0275mod=s.Zb({type:e}),e.\u0275inj=s.Yb({factory:function(t){return new(t||e)},imports:[[n.c,m.d,re,u.b,a.D,g.b,a.c,h.b.forRoot()]]}),e})()}}]);