(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"+qE3":function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function c(){c.init.call(this)}t.exports=c,t.exports.once=function(t,e){return new Promise((function(n,r){function i(){void 0!==o&&t.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==e&&(o=function(n){t.removeListener(e,i),r(n)},t.once("error",o)),t.once(e,i)}))},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var a=10;function l(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?c.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s;if(l(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=u(t))>0&&s.length>i&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,console&&console.warn&&console.warn(c)}return t}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=d.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):v(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function(){return u(this)},c.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var c=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw c.context=s,c}var a=i[t];if(void 0===a)return!1;if("function"==typeof a)o(a,this,e);else{var l=a.length,u=v(a,l);for(n=0;n<l;++n)o(u[n],this,e)}return!0},c.prototype.on=c.prototype.addListener=function(t,e){return h(this,t,e,!1)},c.prototype.prependListener=function(t,e){return h(this,t,e,!0)},c.prototype.once=function(t,e){return l(e),this.on(t,p(this,t,e)),this},c.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,p(this,t,e)),this},c.prototype.off=c.prototype.removeListener=function(t,e){var n,r,i,o,s;if(l(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},c.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},c.prototype.listeners=function(t){return f(this,t,!0)},c.prototype.rawListeners=function(t){return f(this,t,!1)},c.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},c.prototype.listenerCount=g,c.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},k4gq:function(t,e,n){"use strict";n.r(e),n.d(e,"BenchLogsModule",(function(){return w}));var r=n("ofXK"),i=n("tyNb"),o=n("+qE3"),s=n("cp0P"),c=n("eIep"),a=n("t0ZU"),l=n("fXoL"),u=n("tk/3"),h=n("1kSV");const d=["maintenence"];function p(t,e){if(1&t){const t=l.ic();l.hc(0,"button",13),l.sc("click",(function(){return l.Pc(t),l.wc().update()})),l.cd(1,"Update Now"),l.gc()}}const f=function(t,e,n){return{"badge-success":t,"badge-danger":e,"badge-warning":n}},g=function(){return["MMM d y h:mm a"]};function v(t,e){if(1&t&&(l.hc(0,"tr"),l.hc(1,"td"),l.cd(2),l.gc(),l.hc(3,"td"),l.cd(4),l.gc(),l.hc(5,"td"),l.hc(6,"span",14),l.cd(7),l.gc(),l.gc(),l.hc(8,"td"),l.cd(9),l.xc(10,"date"),l.gc(),l.gc()),2&t){const t=e.$implicit,n=e.index;l.Nb(2),l.dd(n+1),l.Nb(2),l.dd(null==t?null:t.name),l.Nb(2),l.Dc("ngClass",l.Jc(8,f,"Success"==t.Status,"Failed"==t.Status,"Ongoing"==t.Status)),l.Nb(1),l.dd(t.Status),l.Nb(2),l.dd(l.zc(10,5,null==t?null:t.creation,l.Gc(12,g)))}}function m(t,e){1&t&&(l.hc(0,"div",15),l.hc(1,"h5"),l.cd(2,"No Data Found"),l.gc(),l.gc())}function b(t,e){1&t&&(l.hc(0,"div"),l.hc(1,"p"),l.cd(2,"Under Maintenence Mode"),l.gc(),l.gc())}class y{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0}}const _=[{path:"",component:(()=>{class t{constructor(t,e,n,r){this.http=t,this.router=e,this.activatedRoute=n,this.modal=r,this.filters=new y,this.onSearch=new o.EventEmitter,this.logsList=[],this.showUpdateBtn=!1}ngOnInit(){var t;this.getTotalCountofLogs();let e=localStorage.getItem("update"),n=localStorage.getItem("updateUI");this.loginUser=JSON.parse(localStorage.getItem("login")),this.loginUSerRole=this.loginUser.rolesFilter.some(t=>"ezy-IT"==t),this.companyDetails=JSON.parse(localStorage.getItem("company")),this.filters.itemsPerPage=null===(t=this.companyDetails)||void 0===t?void 0:t.items_per_page,this.showUpdateBtn="true"==e||"true"==n}getTotalCountofLogs(){this.http.get(`${a.a.resource}/${a.b.updateLogs}`,{params:{fields:JSON.stringify(["count( `tabUpdate Logs`.`name`) AS total_count"])}}).subscribe(t=>{this.filters.totalCount=t.data[0].total_count,this.getBenchLogs()})}getBenchLogs(){this.activatedRoute.queryParams.pipe(Object(c.a)(t=>{const e={filters:[]};e.limit_start=this.filters.start,e.limit_page_length=this.filters.totalCount,e.order_by="`tabUpdate Logs`.`creation` desc",e.fields=JSON.stringify(["name","creation","modified","modified_by","Status","Command"]),e.filters=JSON.stringify(e.filters);const n=this.http.get(`${a.a.resource}/${a.b.updateLogs}`,{params:{fields:JSON.stringify(["count( `tabUpdate Logs`.`name`) AS total_count"]),filters:e.filters}}),r=this.http.get(`${a.a.resource}/${a.b.updateLogs}`,{params:e});return Object(s.a)([n,r])})).subscribe(t=>{const[e,n]=t;this.filters.totalCount=e.data[0].total_count,this.logsList=n.data})}update(){var t,e,n,r;1==(null===(t=this.companyDetails)||void 0===t?void 0:t.proxy)?this.http.post(a.a.checkProxy,{data:{company:null===(e=this.companyDetails)||void 0===e?void 0:e.name,type:"set"}}).subscribe(t=>{var e,n;t.message.success&&this.http.post(""+a.a.benchUpdate_new,{data:{company:null===(e=this.companyDetails)||void 0===e?void 0:e.name,username:null===(n=this.loginUser)||void 0===n?void 0:n.username}}).subscribe(t=>{})}):this.http.post(""+a.a.benchUpdate_new,{data:{company:null===(n=this.companyDetails)||void 0===n?void 0:n.name,username:null===(r=this.loginUser)||void 0===r?void 0:r.username}}).subscribe(t=>{})}navigate(t,e){this.router.navigate(["./home/bench-logs-info"],{queryParams:{id:t.name,type:e},queryParamsHandling:"merge"})}ngOnDestroy(){this.modal.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(l.bc(u.b),l.bc(i.e),l.bc(i.a),l.bc(h.k))},t.\u0275cmp=l.Vb({type:t,selectors:[["app-bench-logs"]],viewQuery:function(t,e){var n;1&t&&l.jd(d,!0),2&t&&l.Mc(n=l.tc())&&(e.maintenence=n.first)},decls:28,vars:4,consts:[[1,"row","mb-3"],[1,"col-md-9","col-lg-9"],[1,"d-flex"],[1,"font-weight-bold","text-white","my-auto"],[1,"col-lg-3","col-md-3","text-right"],["class","btn btn-primary text-uppercase mb-0 mr-2","type","button",3,"click",4,"ngIf"],[1,"card"],[1,"table-responsive"],[1,"table"],[1,"thead"],[4,"ngFor","ngForOf"],["class","text-center py-3",4,"ngIf"],["maintenence",""],["type","button",1,"btn","btn-primary","text-uppercase","mb-0","mr-2",3,"click"],[1,"badge",3,"ngClass"],[1,"text-center","py-3"]],template:function(t,e){1&t&&(l.hc(0,"section"),l.hc(1,"div",0),l.hc(2,"div",1),l.hc(3,"div",2),l.hc(4,"h4",3),l.cd(5,"Update Logs"),l.hc(6,"small"),l.cd(7),l.gc(),l.gc(),l.gc(),l.gc(),l.hc(8,"div",4),l.ad(9,p,2,0,"button",5),l.gc(),l.gc(),l.hc(10,"div",6),l.hc(11,"div",7),l.hc(12,"table",8),l.hc(13,"thead",9),l.hc(14,"tr"),l.hc(15,"th"),l.cd(16,"#"),l.gc(),l.hc(17,"th"),l.cd(18,"Name"),l.gc(),l.hc(19,"th"),l.cd(20,"Status"),l.gc(),l.hc(21,"th"),l.cd(22,"Updated On"),l.gc(),l.gc(),l.gc(),l.hc(23,"tbody"),l.ad(24,v,11,13,"tr",10),l.gc(),l.gc(),l.ad(25,m,3,0,"div",11),l.gc(),l.gc(),l.gc(),l.ad(26,b,3,0,"ng-template",null,12,l.bd)),2&t&&(l.Nb(7),l.ed("(",e.filters.totalCount,")"),l.Nb(2),l.Dc("ngIf",e.showUpdateBtn&&("Administrator"==(null==e.loginUser?null:e.loginUser.full_name)||e.loginUSerRole)),l.Nb(15),l.Dc("ngForOf",e.logsList),l.Nb(1),l.Dc("ngIf",!e.logsList.length))},directives:[r.p,r.o,r.n],pipes:[r.f],styles:["table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:0;border-top:0;font-size:12px;padding:9px 10px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:9px 10px;font-size:14px;border:1px solid rgba(221,218,218,.3)}"]}),t})()}];let L=(()=>{class t{}return t.\u0275mod=l.Zb({type:t}),t.\u0275inj=l.Yb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(_)],i.i]}),t})(),w=(()=>{class t{}return t.\u0275mod=l.Zb({type:t}),t.\u0275inj=l.Yb({factory:function(e){return new(e||t)},imports:[[r.c,L]]}),t})()}}]);