(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{eJlO:function(t,e,c){"use strict";c.r(e),c.d(e,"GstrModule",(function(){return I}));var n=c("ofXK"),o=c("tyNb"),i=c("fXoL"),s=c("wd/R"),r=c.n(s),a=c("1G5W"),h=c("eIep"),g=c("t0ZU"),l=c("tk/3"),d=c("nbXG"),u=c("mFJh"),p=c("5eHb"),f=c("3Pt+"),m=c("1kSV");function v(t,e){if(1&t&&(i.hc(0,"option",44),i.cd(1),i.gc()),2&t){const t=e.$implicit;i.Dc("value",t.short),i.Nb(1),i.dd(t.long)}}function b(t,e){if(1&t&&(i.hc(0,"option"),i.cd(1),i.gc()),2&t){const t=e.$implicit;i.Nb(1),i.dd(t)}}const y=function(){return["/gstr/gstr1"]},w=function(){return["/gstr/gstr2"]};class O{constructor(){this.search={searchBy:"",searchCond:"Invoice No",confno:"",invoiceType:"B2B",category:"",filterBy:"Custom",filterType:"invoice_date",filterDate:"",month:"",year:""}}}let M=(()=>{class t{constructor(t,e,c,n,o,s){this.http=t,this.router=e,this.storageService=c,this.yearService=n,this.activatedRoute=o,this.toastr=s,this.destroyEvents=new i.q,this.yearsList=[],this.monthList=[],this.filters=new O,this.onSearch=new i.q}ngOnInit(){this.companyDetails=JSON.parse(localStorage.getItem("company")),this.yearService.years.pipe(Object(a.a)(this.destroyEvents)).subscribe(t=>this.yearsList=t),this.yearService.months.pipe(Object(a.a)(this.destroyEvents)).subscribe(t=>this.monthList=t);const t=new Date;let e=t.getMonth()+1,c=t.getFullYear();this.filters.search.month=e.toString(),this.filters.search.year=c.toString(),this.minDate=new Date(JSON.parse(this.filters.search.year),JSON.parse(this.filters.search.month)-1,1),this.maxDate=new Date(JSON.parse(this.filters.search.year),JSON.parse(this.filters.search.month),0),this.setDates(e,c),this.gstInvoice(),this.gstInvoiceReconLastUpdatedData()}gstr1(){}gstInvoice(){this.activatedRoute.queryParams.pipe(Object(h.a)(t=>{const e={filters:[["invoice_type","=","B2B"],["irn_generated","=","Success"]]},c=r()(this.minDate).format("YYYY-MM-DD"),n=r()(this.maxDate).format("YYYY-MM-DD");return e.filters.push(["Invoices","invoice_date","Between",[c,n]]),e.fields=JSON.stringify(["count( `tabInvoices`.`name`) AS total_count"]),e.filters=JSON.stringify(e.filters),this.http.get(`${g.a.resource}/${g.b.invoices}`,{params:e})})).subscribe(t=>{(null==t?void 0:t.data[0])&&(this.documentsCountGstr1=null==t?void 0:t.data[0].total_count)}),this.getReconDetails()}gstInvoiceReconLastUpdatedData(){this.activatedRoute.queryParams.pipe(Object(h.a)(t=>this.http.get(""+g.a.invoice_recon_last_updated))).subscribe(t=>{var e,c;console.log(t),(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)&&(this.invoice_recon_last_updated=null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.date)})}gstr2(){}selectMonthYear(t,e){"month"===e&&t&&(this.filters.search.month=t,this.setDates(t,null),this.updateRouterParams()),"year"===e&&t&&(this.filters.search.year=t,this.setDates(null,t),this.updateRouterParams())}setDates(t,e){localStorage.setItem("dateFilters",JSON.stringify({month:t||this.filters.search.month,year:e||this.filters.search.year}))}updateRouterParams(){this.minDate=new Date(JSON.parse(this.filters.search.year),JSON.parse(this.filters.search.month)-1,1),this.maxDate=new Date(JSON.parse(this.filters.search.year),JSON.parse(this.filters.search.month),0);const t=JSON.parse(JSON.stringify(this.filters));t.search=JSON.stringify(t.search),this.router.navigate(["gstr/dashboard"],{queryParams:t})}invoiceReconcilation(){this.router.navigate(["gstr/invoice-recon-list"],{queryParams:{month:this.filters.search.month,year:this.filters.search.year}})}ngOnDestroy(){this.destroyEvents.next(),this.destroyEvents.unsubscribe()}comingSoon(){this.toastr.warning("Coming Soon")}getReconDetails(){this.http.get(`${g.a.resource}/${g.b.reconDetails}`,{params:{fields:JSON.stringify(["*"])}}).subscribe(t=>{})}}return t.\u0275fac=function(e){return new(e||t)(i.bc(l.b),i.bc(o.e),i.bc(d.a),i.bc(u.a),i.bc(o.a),i.bc(p.d))},t.\u0275cmp=i.Vb({type:t,selectors:[["app-dashboard"]],decls:119,vars:19,consts:[[1,"border-bottom","bg-linear","py-2","px-3"],[1,"container-fluid","px-5"],[1,"d-flex","no-gutters","justify-content-between"],[1,"d-flex"],[1,"mb-0","text-white"],[1,"mx-2","text-white","font-weight-bold"],[1,"mx-1","text-white"],[1,"mt-4","px-3"],[1,"row"],[1,"col-md-4"],[1,"d-flex","align-items-center"],[1,"m-0"],[1,"pr-2"],[1,"flex-fill"],[1,""],["id","my-select","name","month",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-fill","ml-3"],["id","my-select","name","year",1,"form-control","px-4",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"mt-4"],[1,"d-flex","justify-content-between","mb-2"],[1,"gst-heading"],[1,"mb-0"],[1,"gst-card","hover-effect","shadow-sm","mr-2",3,"click"],[1,"d-flex","justify-content-between"],[1,"gst-circle2"],[1,"gst-title",2,"width","64%"],[1,"title"],[1,"font-13",3,"ngbTooltip"],[1,"arrow-right"],[1,"ri-arrow-right-s-line"],[1,"gst-card","hover-effect","shadow-sm","mx-2",3,"routerLink"],[1,"gst-circle"],[1,"gst-title"],[1,"font-13"],[1,"gst-card","hover-effect","shadow-sm","py-3","mx-2",3,"click"],[1,"gst-title2"],["type","button",1,"btn","btn-sm","btn-primary"],[1,"arrow-right2"],[1,"mt-4","cus-card"],[1,"gst-card","hover-effect","shadow-sm","py-4","mr-2",3,"click"],[1,"gst-card","hover-effect","shadow-sm","mx-2",3,"routerLink","click"],[1,"gst-card","hover-effect","shadow-sm","mx-2",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.hc(0,"section",0),i.hc(1,"div",1),i.hc(2,"div",2),i.hc(3,"div",3),i.hc(4,"h6",4),i.hc(5,"strong"),i.cd(6),i.gc(),i.gc(),i.hc(7,"div",5),i.cd(8,"|"),i.gc(),i.hc(9,"p",4),i.cd(10),i.gc(),i.gc(),i.hc(11,"div"),i.hc(12,"h4",4),i.cd(13,"Ezy"),i.hc(14,"span",6),i.cd(15,"|"),i.gc(),i.hc(16,"strong"),i.cd(17,"GST"),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.hc(18,"section",7),i.hc(19,"div",1),i.hc(20,"div",8),i.hc(21,"div",9),i.hc(22,"div",10),i.hc(23,"div"),i.hc(24,"p",11),i.hc(25,"small",12),i.cd(26,"Return Period"),i.gc(),i.gc(),i.gc(),i.hc(27,"div",13),i.hc(28,"div",14),i.hc(29,"select",15),i.sc("ngModelChange",(function(t){return e.filters.search.month=t}))("ngModelChange",(function(t){return e.selectMonthYear(t,"month")})),i.ad(30,v,2,2,"option",16),i.gc(),i.gc(),i.gc(),i.hc(31,"div",17),i.hc(32,"div",14),i.hc(33,"select",18),i.sc("ngModelChange",(function(t){return e.filters.search.year=t}))("ngModelChange",(function(t){return e.selectMonthYear(t,"year")})),i.ad(34,b,2,1,"option",19),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.hc(35,"section",20),i.hc(36,"div",1),i.hc(37,"div",21),i.hc(38,"div",22),i.hc(39,"h5",23),i.hc(40,"b"),i.cd(41,"GSTR 1"),i.gc(),i.gc(),i.gc(),i.gc(),i.hc(42,"div",3),i.hc(43,"div",24),i.sc("click",(function(){return e.invoiceReconcilation()})),i.hc(44,"div",25),i.hc(45,"div",26),i.hc(46,"h5"),i.cd(47,"IR"),i.gc(),i.gc(),i.hc(48,"div",27),i.hc(49,"p",28),i.cd(50,"Invoice Reconciliation"),i.gc(),i.hc(51,"p",29),i.xc(52,"date"),i.cd(53,"Last Updated On: "),i.hc(54,"small"),i.hc(55,"strong"),i.cd(56),i.xc(57,"date"),i.gc(),i.gc(),i.gc(),i.gc(),i.hc(58,"div",30),i.cc(59,"i",31),i.gc(),i.gc(),i.gc(),i.hc(60,"div",32),i.hc(61,"div",25),i.hc(62,"div",33),i.hc(63,"h5"),i.cd(64,"R1"),i.gc(),i.gc(),i.hc(65,"div",34),i.hc(66,"p",28),i.cd(67,"GSTR 1"),i.gc(),i.hc(68,"p",35),i.cd(69),i.gc(),i.gc(),i.hc(70,"div",30),i.cc(71,"i",31),i.gc(),i.gc(),i.gc(),i.hc(72,"div",36),i.sc("click",(function(){return e.gstInvoice(),e.comingSoon()})),i.hc(73,"div",25),i.hc(74,"div",37),i.hc(75,"p",28),i.cd(76,"E-invoicing Vs Ezy Invoicing"),i.gc(),i.hc(77,"button",38),i.cd(78,"GSTR 1"),i.gc(),i.gc(),i.hc(79,"div",39),i.cc(80,"i",31),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.hc(81,"section",40),i.hc(82,"div",1),i.hc(83,"div",21),i.hc(84,"div",22),i.hc(85,"h5",23),i.hc(86,"b"),i.cd(87,"GSTR 2"),i.gc(),i.gc(),i.gc(),i.gc(),i.hc(88,"div",3),i.hc(89,"div",41),i.sc("click",(function(){return e.comingSoon()})),i.hc(90,"div",25),i.hc(91,"div",26),i.hc(92,"h5"),i.cd(93,"PR"),i.gc(),i.gc(),i.hc(94,"div",34),i.hc(95,"p",28),i.cd(96,"Purchase Register"),i.gc(),i.hc(97,"p",35),i.cd(98,"Documents: 0"),i.gc(),i.gc(),i.hc(99,"div",30),i.cc(100,"i",31),i.gc(),i.gc(),i.gc(),i.hc(101,"div",42),i.sc("click",(function(){return e.comingSoon()})),i.hc(102,"div",25),i.hc(103,"div",37),i.hc(104,"p",28),i.cd(105,"2A vs Purchase Register"),i.gc(),i.hc(106,"button",38),i.cd(107,"GSTR 2"),i.gc(),i.gc(),i.hc(108,"div",39),i.cc(109,"i",31),i.gc(),i.gc(),i.gc(),i.hc(110,"div",43),i.sc("click",(function(){return e.comingSoon()})),i.hc(111,"div",25),i.hc(112,"div",37),i.hc(113,"p",28),i.cd(114,"2B vs Purchase Register"),i.gc(),i.hc(115,"button",38),i.cd(116,"GSTR 2"),i.gc(),i.gc(),i.hc(117,"div",39),i.cc(118,"i",31),i.gc(),i.gc(),i.gc(),i.gc(),i.gc(),i.gc()),2&t&&(i.Nb(6),i.dd((null==e.companyDetails?null:e.companyDetails.company_name)||"EzyGST"),i.Nb(4),i.dd((null==e.companyDetails?null:e.companyDetails.gst_number)||"------"),i.Nb(19),i.Dc("ngModel",e.filters.search.month),i.Nb(1),i.Dc("ngForOf",e.monthList),i.Nb(3),i.Dc("ngModel",e.filters.search.year),i.Nb(1),i.Dc("ngForOf",e.yearsList),i.Nb(17),i.Ec("ngbTooltip",i.zc(52,11,e.invoice_recon_last_updated,"dd/MM/yyyy hh:mm:ss")),i.Nb(5),i.dd(i.zc(57,14,e.invoice_recon_last_updated,"dd/MM/yyyy hh:mm:ss")),i.Nb(4),i.Dc("routerLink",i.Gc(17,y)),i.Nb(9),i.ed("Documents: ",e.documentsCountGstr1,""),i.Nb(32),i.Dc("routerLink",i.Gc(18,w)))},directives:[f.r,f.i,f.l,n.o,m.B,o.f,f.m,f.t],pipes:[n.f],styles:[".date[_ngcontent-%COMP%]{max-width:250px;height:35px;font-size:13px}.border-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px!important;margin-bottom:0!important}.view[_ngcontent-%COMP%]{background:#0070d4;padding:2px 40px!important;border-radius:6px!important}.cus-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]{font-size:14px;height:35px}.custom-select[_ngcontent-%COMP%]{height:35px}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem rgba(0,0,0,.08)!important}.gst-card[_ngcontent-%COMP%]{position:relative;border:1px solid #e4e4e4;overflow:hidden;background-color:#fff;border-radius:6px;padding:20px 13px;height:107px;width:320px}.gst-card[_ngcontent-%COMP%] > .foreground[_ngcontent-%COMP%]{height:100%;width:100%}.gst-card[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;transform:translateX(100%);background-color:#042354;transition:.5s ease;opacity:.8}.foreground[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.foreground[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff;font-size:18px!important}.gst-card[_ngcontent-%COMP%]:hover   .foreground[_ngcontent-%COMP%]{transform:translateX(0)}.flex-fill[_ngcontent-%COMP%]{max-width:300px!important}.arrow-right[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;line-height:45px}.arrow-right2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;line-height:2.5}.gst-circle[_ngcontent-%COMP%]{background-color:#1dffe4}.gst-circle[_ngcontent-%COMP%], .gst-circle2[_ngcontent-%COMP%]{width:52px;height:52px;text-align:center;border-radius:50%}.gst-circle2[_ngcontent-%COMP%]{background-color:#e7e26f}.gst-circle2[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .gst-circle[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:20px;line-height:50px;color:#183153}.gst-title[_ngcontent-%COMP%]{padding:4px 0}.gst-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;line-height:22px;font-weight:600;margin-bottom:0;color:#183153}.gst-title2[_ngcontent-%COMP%]{width:auto}.gst-title2[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:15px;line-height:22px;font-weight:600;color:#183153;margin-bottom:10px}.gst-title[_ngcontent-%COMP%]   .font-13[_ngcontent-%COMP%]{font-weight:400;font-size:13px;line-height:20px;color:rgba(24,49,83,.75);width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.gst-heading[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;font-size:15px;line-height:22px;color:#183153}.gst-title2[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#6bc5ff;color:#292929;border-color:#6bc5ff;font-weight:500;font-size:13px;line-height:20px}.sub-heading[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#183153}.gst-card[_ngcontent-%COMP%]:hover{cursor:pointer}.hover-effect[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:.5s}.font-13[_ngcontent-%COMP%]{font-size:13px!important}"]}),t})();var x=c("yFR0");const P=[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"",component:(()=>{class t{constructor(t){this.socketService=t}ngOnInit(){this.socketService.connectMe()}}return t.\u0275fac=function(e){return new(e||t)(i.bc(x.a))},t.\u0275cmp=i.Vb({type:t,selectors:[["app-gstr"]],decls:2,vars:0,template:function(t,e){1&t&&(i.hc(0,"div"),i.cc(1,"router-outlet"),i.gc())},directives:[o.j],styles:[""]}),t})(),children:[{path:"dashboard",component:M}]},{path:"gstr1",loadChildren:()=>c.e(20).then(c.bind(null,"Onwx")).then(t=>t.Gstr1Module)},{path:"gstr2",loadChildren:()=>Promise.all([c.e(0),c.e(61)]).then(c.bind(null,"4Mi9")).then(t=>t.Gstr2Module)},{path:"invoice-recon-list",loadChildren:()=>Promise.all([c.e(0),c.e(62)]).then(c.bind(null,"JiQQ")).then(t=>t.InvoiceReconcilationListModule)}];let _=(()=>{class t{}return t.\u0275mod=i.Zb({type:t}),t.\u0275inj=i.Yb({factory:function(e){return new(e||t)},imports:[[o.i.forChild(P)],o.i]}),t})();var C=c("OhPG"),S=c("icpI"),D=c("z17N"),N=c("PCNd");let I=(()=>{class t{}return t.\u0275mod=i.Zb({type:t}),t.\u0275inj=i.Yb({factory:function(e){return new(e||t)},imports:[[n.c,_,C.b,S.b,f.d,D.e,D.g,m.n,N.a]]}),t})()},nbXG:function(t,e,c){"use strict";c.d(e,"b",(function(){return i})),c.d(e,"a",(function(){return s}));var n=c("2Vo4"),o=c("fXoL");const i={LOGIN:"login"};let s=(()=>{class t{constructor(){this.subjectNames=[],this.subjects={}}removeItem(t){return localStorage.removeItem(t)}select(t,e=null,c=!1){try{if(this.subjects.hasOwnProperty(t))return this.subjects[t];let o;!window.localStorage.getItem(t)&&e&&("string"==typeof e?window.localStorage.setItem(t,e):window.localStorage.setItem(t,JSON.stringify(e)));const i=window.localStorage.getItem(t);return c&&i&&"string"==typeof i||(o=null!=i&&i?JSON.parse(window.localStorage.getItem(t)||""):e),this.subjects[t]=new n.a(o),this.subjects[t]}catch(o){return this.subjects[t]=new n.a(null),this.subjects[t]}}getRawValue(t){return window.localStorage.getItem(t)}setVal(t,e,c=!1){try{"string"==typeof e?window.localStorage.setItem(t,e):window.localStorage.setItem(t,JSON.stringify(e)),this.subjects.hasOwnProperty(t)?this.subjects[t].next(e):this.subjects[t]=new n.a(e)}catch(o){console.log(o,"error in setVal method in local storage")}}remove(t){window.localStorage.removeItem(t),this.subjects.hasOwnProperty(t)&&this.subjects[t].next(null)}removeAll(){Object.keys(window.localStorage).forEach(t=>{this.subjects[t]&&this.subjects[t].next(null),window.localStorage.removeItem(t)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);