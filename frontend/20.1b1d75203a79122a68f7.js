(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"6Mto":function(t,e,n){"use strict";n.r(e),n.d(e,"ClbsModule",(function(){return Ca}));var c=n("ofXK"),i=n("tyNb"),o=n("fXoL"),a=n("AytR"),s=n("F2Ga"),r=n.n(s),l=n("t0ZU"),d=n("Kj3r"),g=n("eIep"),h=n("LRne"),u=n("wd/R"),p=n.n(u),m=n("tk/3"),b=n("3Pt+"),f=n("BcJq"),_=n("z17N"),v=n("1kSV"),y=n("MgRC");function C(t,e){if(1&t&&(o.hc(0,"option",28),o.cd(1),o.gc()),2&t){const t=e.$implicit;o.Ec("value",null==t?null:t.name),o.Nb(1),o.dd(null==t?null:t.name)}}function P(t,e){if(1&t){const t=o.ic();o.hc(0,"div",29),o.hc(1,"input",30),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().filterDate.custom=e}))("dateTimeChange",(function(){return o.Qc(t),o.wc().updateRouterParams()})),o.gc(),o.hc(2,"span",31),o.cc(3,"i",32),o.gc(),o.cc(4,"owl-date-time",33,34),o.gc()}if(2&t){const t=o.Oc(5),e=o.wc();o.Nb(1),o.Ec("ngModel",e.filterDate.custom)("owlDateTime",t)("selectMode","range")("owlDateTimeTrigger",t),o.Nb(1),o.Ec("owlDateTimeTrigger",t),o.Nb(2),o.Ec("pickerType","calendar")}}function O(t,e){if(1&t){const t=o.ic();o.hc(0,"div",35),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return c.filterDate.taxpayer=null==n?null:n.name,c.inputfocus(),c.onSearch.emit(c.filterDate)})),o.hc(1,"p",36),o.cd(2),o.gc(),o.hc(3,"small",37),o.cd(4),o.gc(),o.gc()}if(2&t){const t=e.$implicit;o.Nb(2),o.dd(t.name),o.Nb(2),o.dd((null==t?null:t.trade_name)||"NA")}}function M(t,e){if(1&t){const t=o.ic();o.hc(0,"div",38),o.hc(1,"button",39),o.cd(2,"Export"),o.gc(),o.hc(3,"div",40),o.hc(4,"button",41),o.sc("click",(function(){return o.Qc(t),o.wc().exportData("Excel")})),o.cd(5,"Excel"),o.gc(),o.gc(),o.gc()}}class x{constructor(){this.default_Date="This Year",this.from_date="",this.to_date="",this.custom="",this.reportType="",this.taxpayer="",this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search=""}}let w=(()=>{class t{constructor(t,e,n){this.http=t,this.activatedRoute=e,this.router=n,this.filterDate=new x,this.onSearch=new o.q,this.colList=[],this.valueList=[],this.apiDomain=a.a.apiDomain,this.reportTypeList=[],this.colListXL=[],this.taxpayerList=[],this.unableExport=!1}ngOnInit(){this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{t&&(""!==(null==t?void 0:t.taxpayer)?(this.getTaxPayerBySearch(null==t?void 0:t.taxpayer),this.getActivatedParamsData()):(this.getTaxPayerList(),this.getActivatedParamsData()),this.filterDate.start=0,this.filterDate.totalCount=0)}),this.company=JSON.parse(localStorage.getItem("company")),this.getReportsTypes(),this.getTaxPayerList()}updateRouterParams(){this.router.navigate(["clbs/clbs-reports"],{queryParams:this.filterDate})}exportData(t){var e;let n={data:{company:null===(e=this.company)||void 0===e?void 0:e.name,columns:this.colListXL,values:this.valueList,report_name:this.filterDate.reportType,file_type:t}};this.http.post(l.a.reportMethod,n).subscribe(t=>{(null==t?void 0:t.message)&&window.open(`${this.apiDomain}${t.message}`,"_blank")})}remove(t){var e;let n={data:{company:null===(e=this.company)||void 0===e?void 0:e.name,filepath:t}};this.http.post(l.a.deleteReportFile,n).subscribe(t=>{})}getReportsTypes(){const t={filters:JSON.stringify([["Report","ref_doctype","in",["Summaries","Invoices"]],["Report","name","in",["Invoices In Summary","Invoices Not In Summary","Summary Report"]],["Report","disabled","=",0]])};this.http.get(l.a.reportList,{params:t}).subscribe(t=>{this.reportTypeList=null==t?void 0:t.data,this.filterDate.reportType=this.reportTypeList[0].name,this.getActivatedParamsData()})}onreportTypeChange(t){this.updateRouterParams()}onDateFilterChange(){this.filterDate.custom="",this.filterDate.from_date="",this.filterDate.to_date="",this.updateRouterParams()}getActivatedParamsData(){let t=document.querySelector("#datatable");this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{let e;if(this.filterDate.default_Date=t.default_Date||this.filterDate.default_Date,this.filterDate.reportType=t.reportType||this.filterDate.reportType,this.filterDate.default_Date=t.default_Date||this.filterDate.default_Date,"Custom"===this.filterDate.default_Date&&t.custom&&2==t.custom.length)this.filterDate.custom=[new Date(t.custom[0]),new Date(t.custom[1])],e=new D("Reports",this.filterDate.default_Date,this.filterDate.custom).filter;else{if("Custom"===this.filterDate.default_Date)return Object(h.a)(null);e=new D("Reports",this.filterDate.default_Date).filter}return console.log(e),this.http.get(l.a.reports,{params:{filters:JSON.stringify({from_date:e[0],to_date:e[1],tax_payer_details:this.filterDate.taxpayer}),report_name:this.filterDate.reportType}})})).subscribe(e=>{var n,c,i;if(e){this.colListXL=null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.columns.map(t=>t.label),this.valueList=null===(c=null==e?void 0:e.message)||void 0===c?void 0:c.result.map(t=>Object.values(t)),this.colList=null===(i=null==e?void 0:e.message)||void 0===i?void 0:i.columns.map(t=>{let e={};return e.name=null==t?void 0:t.label,e.width="Emails"==(null==t?void 0:t.label)?300:170,e}),this.unableExport=!(!this.colList.length&&!this.valueList);let o={columns:this.colList,data:this.valueList,dropdownButton:"\u25bc",headerDropdown:[{label:"Custom Action",action:function(t){}}],sortIndicator:{asc:"\u2191",desc:"\u2193",none:""},serialNoColumn:!0,noDataMessage:"No Data",inlineFilters:!0};console.log("Options ====",o),new r.a(t,o)}else console.log("===============")})}inputfocus(){document.getElementsByClassName("paragraphClass")[0].style.display="block"}inputblur(){const t=document.getElementsByClassName("paragraphClass");setTimeout(()=>{t[0].style.display="none"},200)}getTaxPayerList(){this.http.get(`${l.a.resource}/${l.b.taxPayers}`,{params:{fields:JSON.stringify(["*"]),limit_page_length:"None"}}).subscribe(t=>{t.data&&(this.taxpayerList=null==t?void 0:t.data)})}getTaxPayerBySearch(t){let e;e=parseInt(t.slice(0,2))?[["gst_number","like",`%${t}%`]]:[["legal_name","like",`%${t}%`]],this.http.get(l.a.taxPayerDefault,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify(e)}}).subscribe(t=>{this.taxpayerList=t.data})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(i.a),o.bc(i.e))},t.\u0275cmp=o.Vb({type:t,selectors:[["ng-component"]],decls:43,vars:7,consts:[[1,"container-fluid","h-100vh"],[1,"row","py-3","filter-card","shadow-sm"],[1,"col-md-9","col-lg-9"],[1,"d-flex"],[1,"my-auto","mx-1"],[1,"form-group","my-0","mx-1"],["id","my-select","name","",1,"custom-select",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["value","Today"],["value","Yesterday"],["value","This Week"],["value","Last Week"],["value","This Month"],["value","Last Month"],["value","This Year"],["value","Custom"],["class","form-group calendar position-relative my-0 mx-1",4,"ngIf"],[1,"ml-1"],["autocomplete","off","type","search","placeholder","Select by Company","name","taxpayer","id","taxpayer","noWhiteSpace","",1,"form-control","h-auto",3,"ngModel","ngModelChange","keyup","keydown","focus","blur","search"],["taxpayer","ngModel"],[1,"input-wrapper","paragraphClass","shadow-sm"],[1,"px-2"],["class","border-bottom text-left",3,"click",4,"ngFor","ngForOf"],[1,"col-md-3","col-lg-3","text-right"],["ngbDropdown","","class","d-inline-block",4,"ngIf"],[1,"btn","btn-primary","btn-sm","mb-0","text-case","ml-3",3,"click"],[1,"card","mt-3"],["id","datatable"],[3,"value"],[1,"form-group","calendar","position-relative","my-0","mx-1"],["placeholder","Date Time",1,"form-control","h-auto",3,"ngModel","owlDateTime","selectMode","owlDateTimeTrigger","ngModelChange","dateTimeChange"],[1,"example-trigger",3,"owlDateTimeTrigger"],[1,"ri-calendar-2-line"],[3,"pickerType"],["dt1",""],[1,"border-bottom","text-left",3,"click"],[1,"font-weight-bold","m-0"],[1,"m-0"],["ngbDropdown","",1,"d-inline-block"],["id","dropdownBasic1","appPermissionButton","","accessType","export","ngbDropdownToggle","",1,"btn","btn-primary","btn-sm"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",1,"pl-2",3,"click"]],template:function(t,e){1&t&&(o.hc(0,"div",0),o.hc(1,"section"),o.hc(2,"div",1),o.hc(3,"div",2),o.hc(4,"div",3),o.hc(5,"h6",4),o.hc(6,"b"),o.cd(7,"Reports"),o.gc(),o.gc(),o.hc(8,"div",5),o.hc(9,"select",6),o.sc("ngModelChange",(function(t){return e.filterDate.reportType=t}))("ngModelChange",(function(t){return e.onreportTypeChange(t)})),o.ad(10,C,2,2,"option",7),o.gc(),o.gc(),o.hc(11,"div",5),o.hc(12,"select",6),o.sc("ngModelChange",(function(t){return e.filterDate.default_Date=t}))("ngModelChange",(function(){return e.onDateFilterChange()})),o.hc(13,"option",8),o.cd(14,"Today"),o.gc(),o.hc(15,"option",9),o.cd(16,"Yesterday"),o.gc(),o.hc(17,"option",10),o.cd(18,"This Week"),o.gc(),o.hc(19,"option",11),o.cd(20,"Last Week"),o.gc(),o.hc(21,"option",12),o.cd(22,"This Month"),o.gc(),o.hc(23,"option",13),o.cd(24,"Last Month"),o.gc(),o.hc(25,"option",14),o.cd(26,"This Year"),o.gc(),o.hc(27,"option",15),o.cd(28,"Custom"),o.gc(),o.gc(),o.gc(),o.ad(29,P,6,6,"div",16),o.hc(30,"div",17),o.hc(31,"input",18,19),o.sc("ngModelChange",(function(t){return e.filterDate.taxpayer=t}))("keyup",(function(){return e.onSearch.emit(e.filterDate)}))("keydown",(function(){return e.onSearch.emit(e.filterDate)}))("focus",(function(){return e.inputfocus()}))("blur",(function(){return e.inputblur()}))("search",(function(){return e.onSearch.emit(e.filterDate)})),o.gc(),o.hc(33,"div",20),o.hc(34,"ul",21),o.hc(35,"li"),o.ad(36,O,5,2,"div",22),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(37,"div",23),o.ad(38,M,6,0,"div",24),o.hc(39,"button",25),o.sc("click",(function(){return e.getActivatedParamsData()})),o.cd(40,"Refresh"),o.gc(),o.gc(),o.gc(),o.hc(41,"div",26),o.cc(42,"div",27),o.gc(),o.gc(),o.gc()),2&t&&(o.Nb(9),o.Ec("ngModel",e.filterDate.reportType),o.Nb(1),o.Ec("ngForOf",e.reportTypeList),o.Nb(2),o.Ec("ngModel",e.filterDate.default_Date),o.Nb(17),o.Ec("ngIf","Custom"==(null==e.filterDate?null:e.filterDate.default_Date)),o.Nb(2),o.Ec("ngModel",e.filterDate.taxpayer),o.Nb(5),o.Ec("ngForOf",e.taxpayerList),o.Nb(2),o.Ec("ngIf",e.unableExport))},directives:[b.r,b.i,b.l,c.o,b.m,b.t,c.p,b.b,f.a,_.d,_.f,_.c,v.e,y.a,v.j,v.h,v.g],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}select.custom-select[_ngcontent-%COMP%]{font-size:12px;height:34px}.input-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:1;width:17rem;background:#fafafa}ul[_ngcontent-%COMP%]{overflow-y:scroll;max-height:15rem}.paragraphClass[_ngcontent-%COMP%]{display:none}.btn-primary[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]{background-color:#ff0}"]}),t})();class D{constructor(t,e,n){switch(e){case"Today":const t=u(new Date).format("YYYY-MM-DD");this.filter=[t,t];break;case"Yesterday":const e=u(new Date).subtract(1,"day").format("YYYY-MM-DD");this.filter=[e,e];break;case"This Week":const c=u(new Date).startOf("week").format("YYYY-MM-DD"),i=u(new Date).endOf("week").format("YYYY-MM-DD");this.filter=[c,i];break;case"Last Week":const o=u(new Date).subtract(1,"week").startOf("week").format("YYYY-MM-DD"),a=u(new Date).subtract(1,"week").endOf("week").format("YYYY-MM-DD");this.filter=[o,a];break;case"This Month":const s=u(new Date).startOf("month").format("YYYY-MM-DD"),r=u(new Date).endOf("month").format("YYYY-MM-DD");this.filter=[s,r];break;case"Last Month":const l=u(new Date).subtract(1,"month").startOf("month").format("YYYY-MM-DD"),d=u(new Date).subtract(1,"month").endOf("month").format("YYYY-MM-DD");this.filter=[l,d];break;case"This Year":const g=u(new Date).startOf("year").format("YYYY-MM-DD"),h=u(new Date).endOf("year").format("YYYY-MM-DD");this.filter=[g,h];break;case"Custom":const[p,m]=n,b=u(p).format("YYYY-MM-DD"),f=u(m).format("YYYY-MM-DD");this.filter=[b,f]}}}var k=n("yFR0");const N=function(){return["./summaries"]},S=function(){return["./taxpayers"]},I=function(){return["./contacts"]},E=function(){return["./clbs-reports"]},T=function(){return["./clbs-settings"]};let L=(()=>{class t{constructor(t){this.socketService=t,this.hideShow=!1,this.company={},this.domain=a.a.apiDomain}ngOnInit(){this.socketService.connectMe(),this.company=JSON.parse(localStorage.getItem("company"))}toggle(t){"list"===t&&(this.hideShow=!0),"grid"===t&&(this.hideShow=!1)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(k.a))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-clbs"]],decls:31,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2","px-0"],[1,"sideNav","p-2"],[1,"mt-2"],["alt","",1,"img-fluid",3,"src"],[1,"mt-4"],[1,"list-unstyled"],["routerLinkActive","active",3,"routerLink"],["aria-hidden","true",1,"fa","fa-list-alt","mr-2"],[1,"fa","fa-building","mr-2"],[1,"fa","fa-address-book","mr-2"],[1,"fa","fa-flag","mr-2"],[1,"fa","fa-cogs","mr-2"],[1,"col-10","p-0"]],template:function(t,e){1&t&&(o.hc(0,"section"),o.hc(1,"div",0),o.hc(2,"div",1),o.hc(3,"div",2),o.hc(4,"div",3),o.hc(5,"div",4),o.cc(6,"img",5),o.gc(),o.hc(7,"div",6),o.hc(8,"ul",7),o.hc(9,"li",8),o.hc(10,"span"),o.cc(11,"i",9),o.cd(12,"Summaries"),o.gc(),o.gc(),o.hc(13,"li",8),o.hc(14,"span"),o.cc(15,"i",10),o.cd(16,"Companies"),o.gc(),o.gc(),o.hc(17,"li",8),o.hc(18,"span"),o.cc(19,"i",11),o.cd(20,"Contacts"),o.gc(),o.gc(),o.hc(21,"li",8),o.hc(22,"span"),o.cc(23,"i",12),o.cd(24,"Reports"),o.gc(),o.gc(),o.hc(25,"li",8),o.hc(26,"span"),o.cc(27,"i",13),o.cd(28,"Settings"),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(29,"div",14),o.cc(30,"router-outlet"),o.gc(),o.gc(),o.gc(),o.gc()),2&t&&(o.Nb(6),o.Ec("src",e.domain+(null==e.company?null:e.company.company_logo),o.Tc),o.Nb(3),o.Ec("routerLink",o.Hc(6,N)),o.Nb(4),o.Ec("routerLink",o.Hc(7,S)),o.Nb(4),o.Ec("routerLink",o.Hc(8,I)),o.Nb(4),o.Ec("routerLink",o.Hc(9,E)),o.Nb(4),o.Ec("routerLink",o.Hc(10,T)))},directives:[i.g,i.f,i.j],styles:['.container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}.sideNav[_ngcontent-%COMP%]{height:100vh;background:#213d47}.max-100[_ngcontent-%COMP%]{max-width:230px}[_nghost-%COMP%]{font-size:13px}.c-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,2fr);gap:10px}.c-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;border:1px solid #c2c2c2}.d-card[_ngcontent-%COMP%]{border-top:1px solid #eee;position:absolute;width:100%;bottom:0;background:#fff;box-shadow:0 -4px 4px rgba(0,0,0,.15);padding:10px}.d-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:13px}.d-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px}.d-card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-radius:0;font-size:13px;color:#fff3f3;background:#23434f;border:0;margin-top:5px}.d-card[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-radius:0;font-size:12px;color:#fff3f3;border:1px solid #23434f;margin-top:5px;color:#292929}.d-card[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:transparent}.filter-card[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;border:1px solid #d3d0d0;box-shadow:0 4px 4px rgba(0,0,0,.1);border-radius:4px;font-size:20px;padding:0 8px;margin-right:10px}.filter-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#faf4e8;border:1px solid #cfcccc;font-size:13px;border-radius:0}.summary[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fffefb;border:1px solid #cfcccc;box-sizing:border-box;box-shadow:0 4px 4px rgba(0,0,0,.1);border-radius:4px;font-size:13px}.sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{width:98%;background:linear-gradient(90deg,rgba(240,242,243,.45098039215686275),rgba(240,242,243,.20392156862745098));font-weight:600;position:relative;padding-left:13px;transition-property:"background";transition-duration:.5s}.sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{height:35px;line-height:7px;margin-bottom:6px;border-radius:6px;font-size:15px;cursor:pointer;color:#fff}.sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px;font-weight:400}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;font-weight:600;font-size:14px;box-shadow:none;padding:10px 40px 10px 10px;line-height:1}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]:active{box-shadow:none}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;background:#ad8b3a;position:absolute;display:block;left:6px;color:#fff;top:8px;text-align:center;line-height:32px;border-radius:50%}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#214350;color:#fff}.bg-c[_ngcontent-%COMP%]{background:hsla(0,0%,93.3%,.712)!important}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.sideNav[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{background:transparent;margin-bottom:10px;border:0}.sideNav[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]{padding:0!important;color:#fff;background:transparent;border:0!important}.sideNav[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{display:block!important;width:100%;text-align:left;color:#fff;font-size:15px;box-shadow:none!important;border:0!important;text-decoration:none!important}.sideNav[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px 20px 0}.sideNav[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px;background:transparent;color:#fff;border-radius:4px;margin-bottom:10px}.img-fluid[_ngcontent-%COMP%]{max-width:52%!important}',"[_nghost-%COMP%]{background: #fff;height:100vh;display:block;}"]}),t})();var $=n("cp0P");const A=function(){return["../../clbs/create-contact/"]},F=function(t){return{prop:"View",name:t}},R=function(){return["MMM d, y, h:mm a"]},q=function(t){return{prop:"Edit",name:t}};function j(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td",20),o.cd(2),o.gc(),o.hc(3,"td",20),o.cd(4),o.gc(),o.hc(5,"td",20),o.cd(6),o.gc(),o.hc(7,"td",20),o.cd(8),o.gc(),o.hc(9,"td",20),o.cd(10),o.gc(),o.hc(11,"td",20),o.cd(12),o.xc(13,"date"),o.gc(),o.hc(14,"td"),o.hc(15,"div",21),o.hc(16,"input",22),o.sc("ngModelChange",(function(n){return o.Qc(t),e.$implicit.contact_status=n}))("change",(function(n){o.Qc(t);const c=e.$implicit,i=o.wc();return c.contact_status=n.currentTarget.checked?1:0,i.changeContactStatus(c)})),o.gc(),o.cc(17,"label",23),o.gc(),o.gc(),o.hc(18,"td",24),o.hc(19,"span",25),o.cc(20,"i",26),o.gc(),o.hc(21,"span",27),o.cc(22,"i",28),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index;o.Nb(1),o.Ec("routerLink",o.Hc(30,A))("queryParams",o.Ic(31,F,t.name)),o.Nb(1),o.ed(" ",n+1," "),o.Nb(1),o.Ec("routerLink",o.Hc(33,A))("queryParams",o.Ic(34,F,t.name)),o.Nb(1),o.dd(t.contact_name),o.Nb(1),o.Ec("routerLink",o.Hc(36,A))("queryParams",o.Ic(37,F,t.name)),o.Nb(1),o.dd(t.contact_type),o.Nb(1),o.Ec("routerLink",o.Hc(39,A))("queryParams",o.Ic(40,F,t.name)),o.Nb(1),o.dd(t.taxpayer),o.Nb(1),o.Ec("routerLink",o.Hc(42,A))("queryParams",o.Ic(43,F,t.name)),o.Nb(1),o.dd(t.location_name),o.Nb(1),o.Ec("routerLink",o.Hc(45,A))("queryParams",o.Ic(46,F,t.name)),o.Nb(1),o.dd(o.zc(13,27,t.creation,o.Hc(48,R))),o.Nb(3),o.Ec("title",t.contact_status?"Active":"Inactive"),o.Nb(1),o.Gc("id","check",n,""),o.Gc("name","check",n,""),o.Ec("ngModel",t.contact_status),o.Nb(1),o.Gc("for","check",n,""),o.Nb(2),o.Ec("routerLink",o.Hc(49,A))("queryParams",o.Ic(50,F,t.name)),o.Nb(2),o.Ec("routerLink",o.Hc(52,A))("queryParams",o.Ic(53,q,t.name))}}function z(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"p",36),o.sc("click",(function(){o.Qc(t);const e=o.wc(2);return e.filters.start=e.contactsList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.ec()}}const Q=function(t){return{"bg-count":t}};function B(t,e){if(1&t){const t=o.ic();o.hc(0,"div",29),o.hc(1,"div",30),o.ad(2,z,3,0,"ng-container",31),o.gc(),o.hc(3,"div",32),o.hc(4,"div",33),o.hc(5,"p",34),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(20)})),o.cd(6,"20"),o.gc(),o.hc(7,"p",34),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(50)})),o.cd(8,"50"),o.gc(),o.hc(9,"p",34),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(100)})),o.cd(10,"100"),o.gc(),o.hc(11,"p",35),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(500)})),o.cd(12,"500"),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(2),o.Ec("ngIf",t.contactsList.length<t.filters.totalCount),o.Nb(3),o.Ec("ngClass",o.Ic(5,Q,20==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(7,Q,50==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(9,Q,100==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(11,Q,500==t.filters.itemsPerPage))}}const J=function(){return["/clbs/create-contact"]},V=function(){return{prop:"Create"}};class Y{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=25,this.start=0,this.search="",this.searchGST=""}}let G=(()=>{class t{constructor(t,e,n){this.http=t,this.activatedRoute=e,this.router=n,this.filters=new Y,this.onSearch=new o.q,this.hideShow=!1,this.data=new Array(10),this.contactsList=[]}ngOnInit(){var t;this.companyDetails=JSON.parse(localStorage.getItem("company")),this.filters.itemsPerPage=null===(t=this.companyDetails)||void 0===t?void 0:t.items_per_page,this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{this.updateRouterParams()}),this.getContacts()}updateRouterParams(){this.router.navigate(["clbs/contacts"],{queryParams:this.filters})}checkPagination(t){this.filters.itemsPerPage=t,this.filters.currentPage=1,this.updateRouterParams()}toggle(t){"list"===t&&(this.hideShow=!0),"grid"===t&&(this.hideShow=!1)}getContacts(){this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{this.filters.search=t.search||this.filters.search,this.filters.searchGST=t.searchGST||this.filters.searchGST;const e={filters:[]};e.limit_start=(this.filters.currentPage-1)*this.filters.itemsPerPage,e.limit_page_length=this.filters.itemsPerPage,this.filters.search&&e.filters.push(["contact_name","like",`%${this.filters.search}%`]),this.filters.searchGST&&e.filters.push(["taxpayer","like",`%${this.filters.searchGST}%`]),e.filters=JSON.stringify(e.filters),e.fields=JSON.stringify(["*"]),e.order_by="`tabContacts`.`creation` desc";const n=this.http.get(""+l.a.contacts,{params:{fields:JSON.stringify(["count( `tabContacts`.`name`) AS total_count"]),filters:e.filters}}),c=this.http.get(""+l.a.contacts,{params:e});return Object($.a)([n,c])})).subscribe(t=>{1==this.filters.currentPage&&(this.contactsList=[]);const[e,n]=t;this.filters.totalCount=e.data[0].total_count,n.data=n.data.map((t,e)=>(t&&(t.index=this.contactsList.length+e+1),t)),n.data&&(this.contactsList=1!==this.filters.currentPage?this.contactsList.concat(n.data):n.data)})}changeContactStatus(t,e){console.log(t,e),this.http.put(l.a.contacts+"/"+t.name,Object.assign({},t)).subscribe(t=>{console.log(t),t.data&&this.getContacts()})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(i.a),o.bc(i.e))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-contacts"]],decls:57,vars:9,consts:[[1,"container-fluid","h-100vh"],[1,"row","py-3","filter-card","shadow-sm"],[1,"col-md-5","grid"],[1,"d-flex","align-items-center"],[1,"m-0"],["type","button","appPermissionButton","","accessType","create",1,"btn","btn-primary","btn-sm","shadow","ml-3",3,"routerLink","queryParams"],[1,"ri-add-line"],[1,"card","row","mt-3","list-table","shadow-sm"],[1,"col-md-12","p-0"],[1,"table-responsive"],[1,"table","table-hover"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ri-search-line"],["type","search",1,"form-control",3,"ngModel","ngModelChange","keyup","search","keyup.enter"],["search",""],["searchGST",""],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between morec mt-1",4,"ngIf"],[3,"routerLink","queryParams"],["data-bs-toggle","tooltip","data-bs-placement","top",1,"custom-control","custom-switch","ml-2","cursor-pointer",3,"title"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","name","ngModelChange","change"],[1,"custom-control-label",3,"for"],[1,"d-flex"],["data-bs-toggle","tooltip","data-bs-placement","top","title","View","queryParamsHandling","merge",1,"view","mt-1","cursor-pointer",3,"routerLink","queryParams"],[1,"ri-eye-line","btn-hover-gray","p-1"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Edit","appPermissionButton","","accessType","write",1,"view","pl-2","mt-1",3,"routerLink","queryParams"],[1,"ri-edit-box-line","cursor-pointer","btn-hover-gray","p-1"],[1,"d-flex","justify-content-between","morec","mt-1"],[1,"text-right","px-3"],[4,"ngIf"],[1,"px-3"],[1,"row","no-gutters","pagination"],[1,"px-2","py-1","mb-0","cursor-pointer","border-right",3,"ngClass","click"],[1,"px-2","py-1","mb-0","cursor-pointer",3,"ngClass","click"],[1,"cursor-pointer","px-2","py-1","pagination",3,"click"]],template:function(t,e){1&t&&(o.hc(0,"div",0),o.hc(1,"section"),o.hc(2,"div",1),o.hc(3,"div",2),o.hc(4,"div",3),o.hc(5,"h6",4),o.hc(6,"b"),o.cd(7),o.gc(),o.gc(),o.hc(8,"button",5),o.hc(9,"b"),o.cc(10,"i",6),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(11,"div",7),o.hc(12,"div",8),o.hc(13,"div",9),o.hc(14,"table",10),o.hc(15,"thead"),o.hc(16,"tr"),o.hc(17,"th"),o.cd(18,"#"),o.gc(),o.hc(19,"th"),o.cd(20,"Contact"),o.gc(),o.hc(21,"th"),o.cd(22,"Type"),o.gc(),o.hc(23,"th"),o.cd(24,"Tax Payers"),o.gc(),o.hc(25,"th"),o.cd(26,"Location"),o.gc(),o.hc(27,"th"),o.cd(28,"Created Date"),o.gc(),o.hc(29,"th"),o.cd(30,"Status"),o.gc(),o.hc(31,"th"),o.cd(32,"Actions"),o.gc(),o.gc(),o.hc(33,"tr"),o.cc(34,"td"),o.hc(35,"td"),o.hc(36,"div",11),o.hc(37,"div",12),o.hc(38,"span",13),o.cc(39,"i",14),o.gc(),o.gc(),o.hc(40,"input",15,16),o.sc("ngModelChange",(function(t){return e.filters.search=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.gc(),o.gc(),o.cc(42,"td"),o.hc(43,"td"),o.hc(44,"div",11),o.hc(45,"div",12),o.hc(46,"span",13),o.cc(47,"i",14),o.gc(),o.gc(),o.hc(48,"input",15,17),o.sc("ngModelChange",(function(t){return e.filters.searchGST=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.gc(),o.gc(),o.cc(50,"td"),o.cc(51,"td"),o.cc(52,"td"),o.cc(53,"td"),o.gc(),o.gc(),o.hc(54,"tbody"),o.ad(55,j,23,55,"tr",18),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(56,B,13,13,"div",19),o.gc(),o.gc()),2&t&&(o.Nb(7),o.ed("Contacts (",e.filters.totalCount,")"),o.Nb(1),o.Ec("routerLink",o.Hc(7,J))("queryParams",o.Hc(8,V)),o.Nb(32),o.Ec("ngModel",e.filters.search),o.Nb(8),o.Ec("ngModel",e.filters.searchGST),o.Nb(7),o.Ec("ngForOf",e.contactsList),o.Nb(1),o.Ec("ngIf",e.contactsList.length))},directives:[y.a,i.f,b.b,b.i,b.l,c.o,c.p,b.a,c.n],pipes:[c.f],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;font-weight:600;font-size:14px;box-shadow:none;padding:10px 40px 10px 10px;line-height:1}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]:active{box-shadow:none}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;background:#ad8b3a;position:absolute;display:block;left:6px;color:#fff;top:8px;text-align:center;line-height:32px;border-radius:50%}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}.filter-card[_ngcontent-%COMP%]{background:#f5f7f9}.filter-card[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;border:1px solid #d3d0d0;box-shadow:0 4px 4px rgba(0,0,0,.1);border-radius:4px;font-size:20px;padding:0 8px;margin-right:10px}.filter-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#faf4e8;border:1px solid #cfcccc;font-size:13px;border-radius:0;height:37px}.pagination[_ngcontent-%COMP%]{border:1px solid #d3d3d3}.bg-count[_ngcontent-%COMP%]{background-color:#ffd3d3!important;font-weight:700}.morec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}.more[_ngcontent-%COMP%]{color:#ee3737!important;font-weight:700;text-decoration:underline}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:130px!important}.bg-gray[_ngcontent-%COMP%]{background:#f9f9f9}.custom-select[_ngcontent-%COMP%]{height:30px!important}.table-responsive[_ngcontent-%COMP%]{max-height:82vh}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{z-index:11}"]}),t})();var H=n("5eHb"),U=n("ZOsW");function Z(t,e){1&t&&(o.hc(0,"small",25),o.cd(1,"Enter Valid Pincode"),o.gc())}function W(t,e){1&t&&(o.hc(0,"small",25),o.cd(1," Enter valid Pincode "),o.gc())}function X(t,e){if(1&t&&(o.hc(0,"ng-option",26),o.cd(1),o.gc()),2&t){const t=e.$implicit;o.Ec("value",t.Name),o.Nb(1),o.dd(t.Name)}}function K(t,e){1&t&&(o.hc(0,"span",25),o.cd(1,"Already Exist"),o.gc())}let tt=(()=>{class t{constructor(t,e,n,c){this.http=t,this.modal=e,this.toaster=n,this.activeModal=c,this.newLocationform={},this.locations=[]}ngOnInit(){this.company=JSON.parse(localStorage.getItem("company"))}addLocation(t){var e;if(t.form.markAllAsTouched(),t.form.invalid||this.locationExist)return;let n=Object.assign(Object.assign(Object.assign({},t.form.value),{taxpayer_details:this.gstNumber}),{company:null===(e=this.company)||void 0===e?void 0:e.name});"edit"==this.locationType?this.http.put(l.a.taxpayerlocation+"/"+this.newLocationform.name,n).subscribe(t=>{this.toaster.success("Updated"),this.activeModal.dismiss(this.location)}):this.http.post(l.a.taxpayerlocation,n).subscribe(t=>{(null==t?void 0:t.data)?(this.location=t.data.name,this.toaster.success("Success"),this.activeModal.dismiss(this.location)):this.toaster.error("Error")}),console.log(n)}search(t){this.newLocationform.state="",this.newLocationform.city="",this.cities=[],this.locations=[],this.invalidPincode="",t.length>5?fetch("https://api.postalpincode.in/pincode/"+t).then(t=>t.json()).then(t=>{var e,n,c,i;"Success"==(null===(e=t[0])||void 0===e?void 0:e.Status)?(this.zip_code_valid=!1,this.newLocationform.state=t[0].PostOffice[0].State,this.newLocationform.location=t[0].PostOffice[0].Name,this.cities=null===(n=t[0])||void 0===n?void 0:n.PostOffice,this.locations=null===(c=t[0])||void 0===c?void 0:c.PostOffice,console.log(this.cities)):(this.invalidPincode=null===(i=t[0])||void 0===i?void 0:i.Message,this.newLocationform.guest_state="",this.cities=[],this.locations=[],this.zip_code_valid=!0)}):this.invalidPincode="Enter Valid Pincode"}locationSearch(){console.log("location searcj"),this.isLocationExist()}isLocationExist(){var t;this.http.get(l.a.taxpayerlocation,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["location","=",this.newLocationform.location],["taxpayer_details","=",this.gstNumber],["company","=",null===(t=this.company)||void 0===t?void 0:t.name]])}}).subscribe(t=>{console.log(this.locationType),this.locationExist="edit"==this.locationType?t.data.length>1:!!t.data.length,console.log(t)})}keyPressNumbers(t){var e=t.which?t.which:t.keyCode;return!(e<48||e>57)||(t.preventDefault(),!1)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(v.k),o.bc(H.d),o.bc(v.d))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-location-modal"]],decls:44,vars:9,consts:[[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["addForm","ngForm"],[1,"form-group","mb-2"],["for","email_id"],["type","text","name","address","id","address","placeholder","Address","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],["for","pincode"],["type","text","autocomplete","false","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","placeholder","Enter Pincode","id","pin_code","name","pin_code","maxlength","6","minlength","6","required","",1,"form-control",3,"ngModel","keyup","ngModelChange","keypress"],["searchBox","","pin_code","ngModel"],["class","text-danger",4,"ngIf"],["id","location","name","location","placeholder","Select Location","required","",1,"custom-select","ngselect","p-0","border-0",3,"ngModel","ngModelChange"],["location","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","city"],["type","text","name","city","id","city","placeholder","city","required","",1,"form-control",3,"ngModel","ngModelChange"],["city","ngModel"],["type","text","name","state","id","state","placeholder","state","required","",1,"form-control",3,"ngModel","ngModelChange"],["state","ngModel"],[1,"text-center"],[1,"btn","btn-outline-primary","mx-1",3,"click"],[1,"btn","btn-primary","mx-1",3,"click"],[1,"text-danger"],[3,"value"]],template:function(t,e){if(1&t){const t=o.ic();o.hc(0,"div",0),o.hc(1,"h5",1),o.cd(2,"Add Location"),o.gc(),o.hc(3,"button",2),o.sc("click",(function(){return e.activeModal.dismiss()})),o.hc(4,"span",3),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",4),o.hc(7,"form",null,5),o.hc(9,"div",6),o.hc(10,"label",7),o.cd(11,"Address"),o.gc(),o.hc(12,"textarea",8,9),o.sc("ngModelChange",(function(t){return e.newLocationform.address=t})),o.gc(),o.gc(),o.hc(14,"div",6),o.hc(15,"label",10),o.cd(16,"Pincode"),o.gc(),o.hc(17,"input",11,12),o.sc("keyup",(function(){o.Qc(t);const n=o.Oc(18);return e.search(n.value)}))("ngModelChange",(function(t){return e.newLocationform.pin_code=t}))("keypress",(function(t){return e.keyPressNumbers(t)})),o.gc(),o.ad(20,Z,2,0,"small",13),o.ad(21,W,2,0,"small",13),o.gc(),o.hc(22,"div",6),o.hc(23,"label",7),o.cd(24,"Location Title"),o.gc(),o.hc(25,"ng-select",14,15),o.sc("ngModelChange",(function(t){return e.newLocationform.location=t})),o.ad(27,X,2,2,"ng-option",16),o.gc(),o.ad(28,K,2,0,"span",13),o.gc(),o.hc(29,"div",6),o.hc(30,"label",17),o.cd(31,"city"),o.gc(),o.hc(32,"input",18,19),o.sc("ngModelChange",(function(t){return e.newLocationform.city=t})),o.gc(),o.gc(),o.hc(34,"div",6),o.hc(35,"label",17),o.cd(36,"state"),o.gc(),o.hc(37,"input",20,21),o.sc("ngModelChange",(function(t){return e.newLocationform.state=t})),o.gc(),o.gc(),o.hc(39,"div",22),o.hc(40,"button",23),o.sc("click",(function(){return e.activeModal.dismiss()})),o.cd(41,"Cancel"),o.gc(),o.hc(42,"button",24),o.sc("click",(function(){o.Qc(t);const n=o.Oc(8);return e.addLocation(n)})),o.cd(43,"Save"),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(19);o.Nb(12),o.Ec("ngModel",e.newLocationform.address),o.Nb(5),o.Ec("ngModel",e.newLocationform.pin_code),o.Nb(3),o.Ec("ngIf",t.valid&&e.invalidPincode),o.Nb(1),o.Ec("ngIf",e.newLocationform.pin_code&&t.invalid),o.Nb(4),o.Ec("ngModel",e.newLocationform.location),o.Nb(2),o.Ec("ngForOf",e.locations),o.Nb(1),o.Ec("ngIf",e.locationExist),o.Nb(4),o.Ec("ngModel",e.newLocationform.city),o.Nb(5),o.Ec("ngModel",e.newLocationform.state)}},directives:[b.u,b.j,b.k,b.b,b.q,b.i,b.l,b.e,b.f,c.p,U.a,c.o,U.d],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}"]}),t})();var et=n("ZMzJ");function nt(t,e){1&t&&(o.hc(0,"small",46),o.cd(1,"Required"),o.gc())}function ct(t,e){if(1&t){const t=o.ic();o.hc(0,"div",50),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc(2).itemSelection(n)})),o.hc(1,"div",51),o.hc(2,"p",52),o.cd(3),o.gc(),o.hc(4,"p",53),o.cd(5),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit;o.Nb(3),o.ed(" ",t.name," "),o.Nb(2),o.ed(" ",t.trade_name?t.trade_name:"NA"," ")}}function it(t,e){if(1&t&&(o.hc(0,"div",47),o.hc(1,"ul",48),o.hc(2,"li"),o.ad(3,ct,6,2,"div",49),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(3),o.Ec("ngForOf",t.texpayerlist)}}function ot(t,e){if(1&t){const t=o.ic();o.hc(0,"div",55),o.hc(1,"p",56),o.sc("click",(function(){o.Qc(t);const e=o.wc(2),n=o.Oc(86);return e.openLocationModel(n)})),o.cd(2," Add Location"),o.gc(),o.gc()}}function at(t,e){1&t&&o.ad(0,ot,3,0,"ng-template",54)}function st(t,e){1&t&&(o.hc(0,"small",46),o.cd(1,"Required"),o.gc())}function rt(t,e){if(1&t&&(o.hc(0,"div",57),o.hc(1,"div",58),o.hc(2,"div",59),o.hc(3,"div",60),o.hc(4,"p",61),o.cd(5,"Location"),o.gc(),o.hc(6,"p",53),o.hc(7,"b"),o.cd(8),o.gc(),o.gc(),o.gc(),o.hc(9,"div",60),o.hc(10,"p",61),o.cd(11,"Address"),o.gc(),o.hc(12,"p",53),o.hc(13,"b"),o.cd(14),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(15,"div",59),o.hc(16,"div",60),o.hc(17,"p",61),o.cd(18,"City"),o.gc(),o.hc(19,"p",53),o.hc(20,"b"),o.cd(21),o.gc(),o.gc(),o.gc(),o.hc(22,"div",60),o.hc(23,"p",61),o.cd(24,"State"),o.gc(),o.hc(25,"p",53),o.hc(26,"b"),o.cd(27),o.gc(),o.gc(),o.gc(),o.hc(28,"div",60),o.hc(29,"p",61),o.cd(30,"Pincode"),o.gc(),o.hc(31,"p",53),o.hc(32,"b"),o.cd(33),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(8),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.location?t.selectedLocationDetails.location:"NA"),o.Nb(6),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.address?t.selectedLocationDetails.address:"NA"),o.Nb(7),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.city?t.selectedLocationDetails.city:"NA"),o.Nb(6),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.state?t.selectedLocationDetails.state:"NA"),o.Nb(6),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.pin_code?t.selectedLocationDetails.pin_code:"NA")}}function lt(t,e){1&t&&(o.hc(0,"small",46),o.cd(1,"Required"),o.gc())}function dt(t,e){1&t&&(o.hc(0,"small",46),o.cd(1,"Required"),o.gc())}function gt(t,e){1&t&&(o.hc(0,"small",46),o.cd(1," Enter valid phone number "),o.gc())}function ht(t,e){1&t&&(o.hc(0,"small",46),o.cd(1," Enter valid land line number "),o.gc())}function ut(t,e){1&t&&(o.hc(0,"small",46),o.cd(1,"Required"),o.gc())}function pt(t,e){1&t&&(o.hc(0,"small",46),o.cd(1,"Please Enter valid Email"),o.gc())}function mt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",2),o.hc(1,"div",62),o.hc(2,"button",63),o.sc("click",(function(){return o.Qc(t),o.wc().goBack()})),o.cd(3,"Cancel"),o.gc(),o.hc(4,"button",64),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(16);return"Edit"==e.routingFromPage?e.updateContact(n):e.saveContact(n),e.createformsubmitted=!0})),o.cd(5),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(5),o.dd("Edit"==t.routingFromPage?"Update":"Create")}}function bt(t,e){1&t&&(o.hc(0,"small",46),o.cd(1,"Enter Valid Pincode"),o.gc())}function ft(t,e){1&t&&(o.hc(0,"small",46),o.cd(1," Enter valid Pincode "),o.gc())}function _t(t,e){if(1&t&&(o.hc(0,"ng-option",87),o.cd(1),o.gc()),2&t){const t=e.$implicit;o.Ec("value",t.Name),o.Nb(1),o.dd(t.Name)}}function vt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",65),o.hc(1,"h5",66),o.cd(2,"Add Location"),o.gc(),o.hc(3,"button",67),o.sc("click",(function(){return e.$implicit.dismiss("Cross click")})),o.hc(4,"span",68),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",69),o.hc(7,"form",null,70),o.hc(9,"div",71),o.hc(10,"label",41),o.cd(11,"Location Title"),o.gc(),o.hc(12,"input",72,25),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().newLocationform.location=e})),o.gc(),o.gc(),o.hc(14,"div",71),o.hc(15,"label",41),o.cd(16,"Address"),o.gc(),o.hc(17,"textarea",73,74),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().newLocationform.address=e})),o.gc(),o.gc(),o.hc(19,"div",71),o.hc(20,"label",75),o.cd(21,"Pincode"),o.gc(),o.hc(22,"input",76,77),o.sc("keyup",(function(){o.Qc(t);const e=o.Oc(23);return o.wc().search(e.value)}))("ngModelChange",(function(e){return o.Qc(t),o.wc().newLocationform.pin_code=e})),o.gc(),o.ad(25,bt,2,0,"small",21),o.ad(26,ft,2,0,"small",21),o.gc(),o.hc(27,"div",71),o.hc(28,"label",78),o.cd(29,"city"),o.gc(),o.hc(30,"ng-select",79,80),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().newLocationform.city=e})),o.ad(32,_t,2,2,"ng-option",81),o.gc(),o.gc(),o.hc(33,"div",71),o.hc(34,"label",78),o.cd(35,"state"),o.gc(),o.hc(36,"input",82,83),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().newLocationform.state=e})),o.gc(),o.gc(),o.hc(38,"div",84),o.hc(39,"button",85),o.sc("click",(function(){return e.$implicit.dismiss("Cross click")})),o.cd(40,"Cancel"),o.gc(),o.hc(41,"button",86),o.sc("click",(function(){o.Qc(t);const e=o.Oc(8);return o.wc().addLocation(e)})),o.cd(42,"Save"),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(24),e=o.wc();o.Nb(12),o.Ec("ngModel",e.newLocationform.location),o.Nb(5),o.Ec("ngModel",e.newLocationform.address),o.Nb(5),o.Ec("ngModel",e.newLocationform.pin_code),o.Nb(3),o.Ec("ngIf",t.valid&&e.invalidPincode),o.Nb(1),o.Ec("ngIf",e.newLocationform.pin_code&&t.invalid),o.Nb(4),o.Ec("ngModel",e.newLocationform.city),o.Nb(2),o.Ec("ngForOf",e.cities),o.Nb(4),o.Ec("ngModel",e.newLocationform.state)}}let yt=(()=>{class t{constructor(t,e,n,c,i,s,r){this.location=t,this.router=e,this.http=n,this.socketService=c,this.activatedRoute=i,this.modal=s,this.toaster=r,this.onConfirmationSearch=new o.q,this.texpayerlist=[],this.taxpayerLocationsList=[],this.contactDetails={},this.newLocationform={},this.taxpayertrade_name="",this.cities=[],this.mobNumberPattern="^((\\+91-?)|0)?[0-9]{13}$",this.landlineNumberPattern="^((\\+91-?)|0)?[0-9]{13}$",this.company={},this.domain=a.a.apiDomain}ngOnInit(){this.company=JSON.parse(localStorage.getItem("company")),this.activatedRoute.queryParams.subscribe(t=>{console.log(t),this.routingFromPage=t.prop,t.paramsID&&(this.paramsID=t.paramsID),t.prop&&("CreateWithGST"==t.prop||"Create"==t.prop?this.pageType="Create":"Edit"==t.prop?this.pageType="Edit":"summary_contact"==t.prop&&(this.pageType="Create")),this.name=t.name?null==t?void 0:t.name:"",t.taxpayer&&(this.contactDetails.taxpayer=t.taxpayer,t.location&&(this.contactDetails.location=t.location),this.taxpayertrade_name=t.companyName,this.gettaxPayerById(this.contactDetails.taxpayer)),console,this.name&&this.getcontactById()}),this.getTaxPayerList(),this.onConfirmationSearch.pipe(Object(d.a)(500)).subscribe(t=>{console.log(t),this.getTaxPayerBySearch(this.contactDetails.taxpayer)})}getTaxPayerList(){this.http.get(`${l.a.resource}/${l.b.taxPayers}`,{params:{fields:JSON.stringify(["*"]),limit_page_length:"None"}}).subscribe(t=>{t.data&&(this.texpayerlist=null==t?void 0:t.data)})}getTaxPayerBySearch(t){let e;this.gettaxpayerTradeName(t),console.log(parseInt(t.slice(0,2))),e=parseInt(t.slice(0,2))?[["gst_number","like",`%${t}%`]]:[["legal_name","like",`%${t}%`]],this.http.get(l.a.taxPayerDefault,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify(e)}}).subscribe(t=>{console.log(t),this.texpayerlist=t.data})}gettaxpayerTradeName(t){let e;e=parseInt(t.slice(0,2))?[["gst_number","=",t]]:[["legal_name","=",t]],this.http.get(l.a.taxPayerDefault,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify(e)}}).subscribe(t=>{var e;console.log(t),this.taxpayertrade_name=t.data?null===(e=t.data[0])||void 0===e?void 0:e.trade_name:""})}selectedLocation(t){console.log(t)}itemSelection(t){this.contactDetails.taxpayer=t.name,this.taxpayertrade_name=t.trade_name,this.inputfocus(),this.gettaxPayerById(t.name),this.contactDetails.location=null}getcontactById(){this.http.get(l.a.contacts+"/"+this.name).subscribe(t=>{console.log(t),this.contactDetails=t.data,this.contactDetails.taxpayer&&(this.getTaxPayerBySearch(this.contactDetails.taxpayer),this.gettaxPayerById(this.contactDetails.taxpayer))})}companySearch(t){this.taxpayertrade_name="",this.contactDetails.location=null,this.onConfirmationSearch.emit(t.value),this.gettaxPayerById(this.contactDetails.taxpayer)}gettaxPayerById(t){this.selectedLocationDetails="",this.http.get(l.a.taxpayerlocation,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["taxpayer_details","=",t],["company","=",this.company.name]])}}).subscribe(t=>{console.log(t),t.data&&(this.taxpayerLocationsList=t.data,this.taxpayerLocationsList.forEach(t=>{this.contactDetails.location==t.name&&(this.selectedLocationDetails=t,console.log(this.selectedLocationDetails))}))})}search(t){this.newLocationform.state="",this.newLocationform.city="",this.cities=[],this.invalidPincode="",t.length>5?fetch("https://api.postalpincode.in/pincode/"+t).then(t=>t.json()).then(t=>{var e,n,c;"Success"==(null===(e=t[0])||void 0===e?void 0:e.Status)?(this.zip_code_valid=!1,this.newLocationform.state=t[0].PostOffice[0].State,this.cities=null===(n=t[0])||void 0===n?void 0:n.PostOffice,console.log(this.cities)):(this.invalidPincode=null===(c=t[0])||void 0===c?void 0:c.Message,this.newLocationform.guest_state="",this.cities=[],this.zip_code_valid=!0)}):this.invalidPincode="Enter Valid Pincode"}openLocationModel(){let t=this.modal.open(tt,{size:"md",centered:!0,backdrop:"static"});t.componentInstance.gstNumber=this.contactDetails.taxpayer,t.componentInstance.locationType="create",t.result.then(t=>{},e=>{console.log("dismissed",t.componentInstance.location),this.contactDetails.location=t.componentInstance.location,this.newLocationform={},this.gettaxPayerById(this.contactDetails.taxpayer)})}addLocation(t){if(t.form.markAllAsTouched(),console.log(t.form.invalid),t.form.invalid)return;let e=Object.assign(Object.assign({},t.form.value),{taxpayer_details:this.contactDetails.taxpayer,company:this.company.name});console.log(e),this.http.post(l.a.taxpayerlocation,e).subscribe(t=>{console.log(t),this.contactDetails.location=t.data.name,this.newLocationform={},console.log(this.contactDetails.location),this.gettaxPayerById(this.contactDetails.taxpayer),this.modal.dismissAll()})}goBack(){console.log(this.location),this.location.back()}saveContact(t){if(t.form.markAllAsTouched(),t.form.invalid)return;let e=Object.assign(Object.assign(Object.assign({},{company:this.company.name,contact_status:1}),t.form.value),{location_name:this.selectedLocationDetails.location});console.log(e),t.valid&&this.http.get(""+l.a.contacts,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["location","=",null==e?void 0:e.location],["contact_status","=",1],["email_id","=",null==e?void 0:e.email_id]]),limit_page_length:"None"}}).subscribe(t=>{var n;(null==t?void 0:t.data)&&((null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.length)?this.toaster.error("Duplicate Contact"):this.http.post(l.a.contacts,e).subscribe(t=>{console.log(t),this.toaster.success("Created"),this.updateContactStatus(t.data.name),this.location.back()}))})}updateContactStatus(t){this.http.get(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`).subscribe(e=>{if(e&&(console.log(e.data),e.data)){let n=JSON.parse(e.data.contacts);n.push(t),this.http.put(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`,{contacts:JSON.stringify(n)}).subscribe(t=>{console.log(t),this.socketService.isContactAdded.next("refresh")})}})}updateContact(t){if(t.form.markAllAsTouched(),t.form.invalid)return;let e=Object.assign(Object.assign({},t.form.value),{company:this.company.name});this.http.put(l.a.contacts+"/"+this.name,e).subscribe(t=>{console.log(t),this.toaster.success("Updated"),this.location.back()})}getTaxpayer(){let t={filters:[],limit_page_length:"none"};t.fields=JSON.stringify(["*"]),this.http.get(l.a.taxpayerdetails,{params:t}).subscribe(t=>{console.log(t),this.texpayerlist=t.data})}inputfocus(){this.enteredConfNumber="valid",document.getElementsByClassName("paragraphClass")[0].style.display="block",document.getElementsByClassName("companyInputErrorMsg")[0].style.display="none"}inputblur(){const t=document.getElementsByClassName("paragraphClass"),e=document.getElementsByClassName("companyInputErrorMsg");setTimeout(()=>{t[0].style.display="none",e[0].style.display="block"},200)}ngOnDestroy(){this.modal.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(o.bc(c.l),o.bc(i.e),o.bc(m.b),o.bc(k.a),o.bc(i.a),o.bc(v.k),o.bc(H.d))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-create-contact"]],decls:87,vars:28,consts:[[1,"shadow"],[1,"container"],[1,"row"],[1,"col-md-2"],["alt","",1,"img-fluid",3,"src"],[1,"col-md-10","my-auto"],[1,"my-4","clbsModule"],[1,"container","c-invoice"],[1,"col-md-8","offset-md-2"],[1,"h6","d-flex"],[1,"ri-arrow-left-line","arrow-back","h3","cursor-pointer",3,"click"],[1,"ml-3","mt-2"],["contact","ngForm"],[3,"disabled"],[1,"row","mt-4"],[1,"col-md-6"],[1,"form-group","contact-select"],["for",""],["autocomplete","off","type","text","placeholder","Select Company","name","taxpayer","id","taxpayer","required","",1,"form-control",3,"readonly","ngModel","ngModelChange","keyup","focus","blur"],["taxpayer","ngModel"],[1,"companyInputErrorMsg"],["class","text-danger",4,"ngIf"],[1,"text-danger","m-0"],["class","input-wrapper paragraphClass",4,"ngIf"],["id","my-select","name","location","bindValue","cf7182ab63","required","","bindValue","name","bindLabel","location","placeholder","Select Location",1,"custom-select","ngselect","p-0","border-0",3,"disabled","ngModel","items","ngModelChange","change"],["location","ngModel"],[4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],["id","contact_type","name","contact_type","placeholder","Select Contact Type","required","",1,"custom-select","ngselect","p-0","border-0",3,"disabled","ngModel","ngModelChange"],["contact_type","ngModel"],["value","Biller"],["value","Accountant"],[1,"form-group"],["autocomplete","off","type","text","name","contact_name","placeholder","Enter Contact Name","autocomplete","off","required","",1,"form-control",3,"ngModel","ngModelChange"],["contact_name","ngModel"],["for","phone_number"],["required","","autocomplete","off","placeholder","Enter Phone Number","id","phone_number","type","text","autocomplete","off","appNumberInput","","maxlength","13","minlength","10","name","phone_number",1,"form-control",3,"ngModel","ngModelChange"],["phone_number","ngModel"],["for","land_line_number"],["autocomplete","off","placeholder","Enter Land Line Number","id","land_line_number","maxlength","13","minlength","10","type","text","appNumberInput","","name","land_line_number",1,"form-control",3,"ngModel","ngModelChange"],["land_line_number","ngModel"],["for","email_id"],["type","email","autocomplete","off","name","email_id","id","email_id","email","","placeholder","Enter Email Id","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$","required","",1,"form-control",3,"ngModel","ngModelChange"],["email_id","ngModel"],["class","row ",4,"ngIf"],["addlocation",""],[1,"text-danger"],[1,"input-wrapper","paragraphClass"],[1,"p-0"],["class","card",3,"click",4,"ngFor","ngForOf"],[1,"card",3,"click"],[1,"card-body","p-2"],[1,"font-weight-bold","m-0"],[1,"m-0"],["ng-footer-tmp",""],[1,"text-right"],[1,"btn","btn-outline-primary","btn-sm","pt-2","mb-0",3,"click"],[1,"col-md-12","mb-2"],[1,"row","m-auto","w-100"],[1,"col-6","card","py-2"],[1,"my-2"],[1,"m-0","c-title"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-outline-primary","px-3","c-o-b","shadow-sm","bg-white",3,"click"],["appPermissionButton","","accessType","write","type","button",1,"btn","btn-primary","ml-3","px-3","c-o-b1","shadow-sm",3,"click"],[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["addForm","ngForm"],[1,"form-group","mb-2"],["type","text","name","location","id","location","placeholder","location","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","address","id","address","placeholder","Address","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],["for","Pincode"],["autocomplete","false","oninput","javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);","placeholder","Enter Pincode","id","pin_code","type","number","name","pin_code","maxlength","6","minlength","6","required","",1,"form-control",3,"ngModel","keyup","ngModelChange"],["searchBox","","pin_code","ngModel"],["for","city"],["id","city","name","city","placeholder","Select City","required","",1,"custom-select","ngselect","p-0","border-0",3,"ngModel","ngModelChange"],["city","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","state","id","state","placeholder","state","required","",1,"form-control",3,"ngModel","ngModelChange"],["state","ngModel"],[1,"text-center"],[1,"btn","btn-outline-primary","mx-1",3,"click"],[1,"btn","btn-primary","mx-1",3,"click"],[3,"value"]],template:function(t,e){if(1&t){const t=o.ic();o.hc(0,"header",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div",3),o.hc(4,"div"),o.cc(5,"img",4),o.gc(),o.gc(),o.cc(6,"div",5),o.gc(),o.gc(),o.gc(),o.hc(7,"section",6),o.hc(8,"div",7),o.hc(9,"div",2),o.hc(10,"div",8),o.hc(11,"div",9),o.hc(12,"i",10),o.sc("click",(function(){return e.goBack()})),o.gc(),o.hc(13,"p",11),o.cd(14),o.gc(),o.gc(),o.hc(15,"form",null,12),o.hc(17,"fieldset",13),o.hc(18,"div",14),o.hc(19,"div",15),o.hc(20,"div",16),o.hc(21,"label",17),o.cd(22,"Company"),o.gc(),o.hc(23,"div"),o.hc(24,"input",18,19),o.sc("ngModelChange",(function(t){return e.contactDetails.taxpayer=t}))("keyup",(function(){o.Qc(t);const n=o.Oc(25);return e.companySearch(n)}))("focus",(function(){return e.inputfocus()}))("blur",(function(){return e.inputblur()})),o.gc(),o.hc(26,"div",20),o.ad(27,nt,2,0,"small",21),o.hc(28,"small"),o.hc(29,"b"),o.cd(30),o.gc(),o.gc(),o.hc(31,"p",22),o.cd(32),o.gc(),o.gc(),o.ad(33,it,4,1,"div",23),o.gc(),o.gc(),o.gc(),o.hc(34,"div",15),o.hc(35,"div",16),o.hc(36,"label",17),o.cd(37,"Location "),o.gc(),o.hc(38,"ng-select",24,25),o.sc("ngModelChange",(function(t){return e.contactDetails.location=t}))("change",(function(t){return e.selectedLocationDetails=t})),o.ad(40,at,1,0,void 0,26),o.gc(),o.ad(41,st,2,0,"small",21),o.gc(),o.gc(),o.ad(42,rt,34,5,"div",27),o.hc(43,"div",15),o.hc(44,"div",16),o.hc(45,"label",17),o.cd(46,"Contact Type"),o.gc(),o.hc(47,"ng-select",28,29),o.sc("ngModelChange",(function(t){return e.contactDetails.contact_type=t})),o.hc(49,"ng-option",30),o.cd(50,"Biller"),o.gc(),o.hc(51,"ng-option",31),o.cd(52,"Accountant"),o.gc(),o.gc(),o.ad(53,lt,2,0,"small",21),o.gc(),o.gc(),o.hc(54,"div",15),o.hc(55,"div",32),o.hc(56,"label",17),o.cd(57,"Contact Name"),o.gc(),o.hc(58,"input",33,34),o.sc("ngModelChange",(function(t){return e.contactDetails.contact_name=t})),o.gc(),o.ad(60,dt,2,0,"small",21),o.gc(),o.gc(),o.hc(61,"div",15),o.hc(62,"div",32),o.hc(63,"label",35),o.cd(64,"Phone Number"),o.gc(),o.hc(65,"input",36,37),o.sc("ngModelChange",(function(t){return e.contactDetails.phone_number=t})),o.gc(),o.ad(67,gt,2,0,"small",21),o.gc(),o.gc(),o.hc(68,"div",15),o.hc(69,"div",32),o.hc(70,"label",38),o.cd(71,"Landline Number"),o.gc(),o.hc(72,"input",39,40),o.sc("ngModelChange",(function(t){return e.contactDetails.land_line_number=t})),o.gc(),o.ad(74,ht,2,0,"small",21),o.gc(),o.gc(),o.hc(75,"div",15),o.hc(76,"div",32),o.hc(77,"label",41),o.cd(78,"Email Id"),o.gc(),o.hc(79,"input",42,43),o.sc("ngModelChange",(function(t){return e.contactDetails.email_id=t})),o.gc(),o.ad(81,ut,2,0,"small",21),o.ad(82,pt,2,0,"small",21),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(83,mt,6,1,"div",44),o.gc(),o.gc(),o.gc(),o.cc(84,"div"),o.gc(),o.gc(),o.ad(85,vt,43,8,"ng-template",null,45,o.bd)}if(2&t){const t=o.Oc(25),n=o.Oc(39),c=o.Oc(48),i=o.Oc(59),a=o.Oc(66),s=o.Oc(73),r=o.Oc(80);o.Nb(5),o.Ec("src",e.domain+(null==e.company?null:e.company.company_logo),o.Tc),o.Nb(9),o.ed("",e.pageType," Contact "),o.Nb(3),o.Ec("disabled","View"==e.routingFromPage),o.Nb(7),o.Ec("readonly","Edit"==e.routingFromPage||"CreateWithGST"==e.routingFromPage)("ngModel",e.contactDetails.taxpayer),o.Nb(3),o.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),o.Nb(3),o.dd(e.taxpayertrade_name),o.Nb(2),o.dd("invalid"==e.enteredConfNumber?"Enter valid Confirmation number":""),o.Nb(1),o.Ec("ngIf","Create"==e.routingFromPage),o.Nb(5),o.Ec("disabled","View"==e.routingFromPage)("ngModel",e.contactDetails.location)("items",e.taxpayerLocationsList),o.Nb(2),o.Ec("ngIf",e.contactDetails.taxpayer),o.Nb(1),o.Ec("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),o.Nb(1),o.Ec("ngIf",e.selectedLocationDetails),o.Nb(5),o.Ec("disabled","View"==e.routingFromPage)("ngModel",e.contactDetails.contact_type),o.Nb(6),o.Ec("ngIf",c.touched&&(null==c||null==c.errors?null:c.errors.required)),o.Nb(5),o.Ec("ngModel",e.contactDetails.contact_name),o.Nb(2),o.Ec("ngIf",i.touched&&(null==i||null==i.errors?null:i.errors.required)),o.Nb(5),o.Ec("ngModel",e.contactDetails.phone_number),o.Nb(2),o.Ec("ngIf",a.touched&&a.invalid),o.Nb(5),o.Ec("ngModel",e.contactDetails.land_line_number),o.Nb(2),o.Ec("ngIf",s.touched&&s.invalid),o.Nb(5),o.Ec("ngModel",e.contactDetails.email_id),o.Nb(2),o.Ec("ngIf",r.touched&&(null==r||null==r.errors?null:r.errors.required)),o.Nb(1),o.Ec("ngIf",r.touched&&(null==r||null==r.errors?null:r.errors.pattern)),o.Nb(1),o.Ec("ngIf","View"!=e.routingFromPage)}},directives:[b.u,b.j,b.k,b.b,b.q,b.i,b.l,c.p,U.a,U.d,et.a,b.e,b.f,b.c,b.o,c.o,U.c,y.a,b.n],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}header[_ngcontent-%COMP%]{background:#213d47;color:#fff;padding:3px 0}.c-invoice[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%], .c-invoice[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#fff;border:1px solid #eaeaea;height:53px;box-shadow:0 .125rem .25rem rgba(0,0,0,.08)!important}small[_ngcontent-%COMP%]{font-size:81%!important}.table-responsive[_ngcontent-%COMP%]{height:450px}.c-o-b[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;height:42px;font-size:13px}.c-o-b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.c-o-b[_ngcontent-%COMP%]:hover{color:#dc362b}.c-o-b1[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;height:42px;font-size:13px}.c-o-b1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.input-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;overflow-y:scroll;max-height:184px;width:368px;background:#fff}.paragraphClass[_ngcontent-%COMP%]{display:none}select[_ngcontent-%COMP%]:disabled{background:#ddd!important;color:#000!important}.ng-select.ng-touched.ng-invalid[_ngcontent-%COMP%]:not(form){border:none!important}.borderless[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .borderless[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;background-color:#fff;padding:9px}.img-fluid[_ngcontent-%COMP%]{max-width:52%!important}"]}),t})();var Ct=n("d+JV");function Pt(t,e){1&t&&(o.hc(0,"small",49),o.cd(1,"Required"),o.gc())}function Ot(t,e){1&t&&(o.hc(0,"small",49),o.cd(1,"Required"),o.gc())}function Mt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",50),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc(2).itemSelection(n)})),o.hc(1,"div",51),o.hc(2,"p",52),o.cd(3),o.gc(),o.hc(4,"p",53),o.cd(5),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit;o.Nb(3),o.ed(" ",null==t?null:t.name," "),o.Nb(2),o.ed(" ",(null==t?null:t.trade_name)||"NA"," ")}}function xt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",55),o.hc(1,"p",56),o.sc("click",(function(){return o.Qc(t),o.wc(3).openLocationModel()})),o.cd(2," Add Location"),o.gc(),o.gc()}}function wt(t,e){1&t&&o.ad(0,xt,3,0,"ng-template",54)}function Dt(t,e){1&t&&(o.hc(0,"small",49),o.cd(1,"Required"),o.gc())}function kt(t,e){if(1&t&&(o.hc(0,"div",57),o.hc(1,"div",58),o.hc(2,"div",59),o.hc(3,"div",60),o.hc(4,"p",61),o.cd(5,"Location"),o.gc(),o.hc(6,"p",53),o.hc(7,"b"),o.cd(8),o.gc(),o.gc(),o.gc(),o.hc(9,"div",60),o.hc(10,"p",61),o.cd(11,"Address"),o.gc(),o.hc(12,"p",53),o.hc(13,"b"),o.cd(14),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(15,"div",59),o.hc(16,"div",60),o.hc(17,"p",61),o.cd(18,"City"),o.gc(),o.hc(19,"p",53),o.hc(20,"b"),o.cd(21),o.gc(),o.gc(),o.gc(),o.hc(22,"div",60),o.hc(23,"p",61),o.cd(24,"State"),o.gc(),o.hc(25,"p",53),o.hc(26,"b"),o.cd(27),o.gc(),o.gc(),o.gc(),o.hc(28,"div",60),o.hc(29,"p",61),o.cd(30,"Pincode"),o.gc(),o.hc(31,"p",53),o.hc(32,"b"),o.cd(33),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc(2);o.Nb(8),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.location?t.selectedLocationDetails.location:"NA"),o.Nb(6),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.address?t.selectedLocationDetails.address:"NA"),o.Nb(7),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.city?t.selectedLocationDetails.city:"NA"),o.Nb(6),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.state?t.selectedLocationDetails.state:"NA"),o.Nb(6),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.pin_code?t.selectedLocationDetails.pin_code:"NA")}}function Nt(t,e){1&t&&(o.hc(0,"small",49),o.cd(1,"Required"),o.gc())}function St(t,e){1&t&&(o.hc(0,"small",49),o.cd(1,"Required"),o.gc())}function It(t,e){1&t&&(o.hc(0,"small",49),o.cd(1,"Required"),o.gc())}function Et(t,e){if(1&t&&(o.hc(0,"small",49),o.cd(1),o.gc()),2&t){const t=o.wc(2);o.Nb(1),o.dd(t.dateErrorMsg)}}function Tt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",8),o.hc(1,"div",2),o.hc(2,"div",9),o.hc(3,"h6"),o.hc(4,"b"),o.hc(5,"i",10),o.sc("click",(function(){return o.Qc(t),o.wc().goback()})),o.gc(),o.hc(6,"span",11),o.cd(7," Summary Details"),o.gc(),o.gc(),o.gc(),o.hc(8,"form",null,12),o.hc(10,"div",13),o.hc(11,"div",14),o.hc(12,"div",15),o.hc(13,"label",16),o.cd(14,"Summary Title"),o.gc(),o.hc(15,"input",17,18),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().summaryData.summary_title=e})),o.gc(),o.ad(17,Pt,2,0,"small",19),o.gc(),o.gc(),o.hc(18,"div",20),o.hc(19,"div",21),o.hc(20,"label",22),o.cd(21,"Company"),o.gc(),o.hc(22,"div"),o.hc(23,"input",23,24),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().summaryData.tax_payer_details=e}))("keyup",(function(){o.Qc(t);const e=o.Oc(24);return o.wc().companySearch(e)}))("focus",(function(){return o.Qc(t),o.wc().inputfocus()}))("blur",(function(){return o.Qc(t),o.wc().inputblur()})),o.gc(),o.hc(25,"div",25),o.ad(26,Ot,2,0,"small",19),o.hc(27,"small"),o.hc(28,"b"),o.cd(29),o.gc(),o.gc(),o.hc(30,"p",26),o.cd(31),o.gc(),o.gc(),o.hc(32,"div",27),o.hc(33,"ul",28),o.hc(34,"li"),o.ad(35,Mt,6,2,"div",29),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(36,"div",20),o.hc(37,"div",21),o.hc(38,"label",22),o.cd(39,"Location "),o.gc(),o.hc(40,"ng-select",30,31),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().summaryData.location=e}))("change",(function(e){return o.Qc(t),o.wc().selectedLocationDetails=e})),o.ad(42,wt,1,0,void 0,32),o.gc(),o.ad(43,Dt,2,0,"small",19),o.gc(),o.gc(),o.ad(44,kt,34,5,"div",33),o.hc(45,"div",20),o.hc(46,"div",21),o.hc(47,"label",34),o.cd(48,"Select Event Type"),o.gc(),o.hc(49,"ng-select",35,36),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().summaryData.event_type=e})),o.gc(),o.ad(51,Nt,2,0,"small",19),o.gc(),o.gc(),o.cc(52,"div",20),o.hc(53,"div",20),o.hc(54,"div",15),o.hc(55,"label",37),o.cd(56,"From Date"),o.gc(),o.hc(57,"input",38,39),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().summaryData.from_date=e}))("dateTimeChange",(function(e){return o.Qc(t),o.wc().selectFromDate(e)})),o.gc(),o.cc(59,"owl-date-time",40,41),o.ad(61,St,2,0,"small",19),o.gc(),o.gc(),o.hc(62,"div",20),o.hc(63,"div",15),o.hc(64,"label",42),o.cd(65,"To Date"),o.gc(),o.hc(66,"input",43,44),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().summaryData.to_date=e}))("dateTimeChange",(function(e){return o.Qc(t),o.wc().selectToDate(e)})),o.gc(),o.cc(68,"owl-date-time",40,45),o.ad(70,It,2,0,"small",19),o.ad(71,Et,2,1,"small",19),o.gc(),o.gc(),o.gc(),o.hc(72,"div",2),o.hc(73,"div",46),o.hc(74,"button",47),o.sc("click",(function(){o.Qc(t);const e=o.Oc(9);return o.wc().createSummary(e)})),o.cd(75,"Pick Up Summary "),o.cc(76,"i",48),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(16),e=o.Oc(24),n=o.Oc(41),c=o.Oc(50),i=o.Oc(58),a=o.Oc(60),s=o.Oc(67),r=o.Oc(69),l=o.wc();o.Nb(15),o.Ec("ngModel",l.summaryData.summary_title),o.Nb(2),o.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),o.Nb(6),o.Ec("ngModel",l.summaryData.tax_payer_details),o.Nb(3),o.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),o.Nb(3),o.dd(l.taxpayertrade_name),o.Nb(2),o.dd("invalid"==l.enteredConfNumber?"Enter valid Confirmation number":""),o.Nb(4),o.Ec("ngForOf",l.taxpayerList),o.Nb(5),o.Ec("disabled","view"==l.pageType)("ngModel",l.summaryData.location)("items",l.taxpayerLocations),o.Nb(2),o.Ec("ngIf",l.summaryData.tax_payer_details),o.Nb(1),o.Ec("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),o.Nb(1),o.Ec("ngIf",l.selectedLocationDetails),o.Nb(5),o.Ec("ngModel",l.summaryData.event_type)("items",l.eventList),o.Nb(2),o.Ec("ngIf",c.touched&&(null==c||null==c.errors?null:c.errors.required)),o.Nb(6),o.Ec("ngModel",l.summaryData.from_date)("owlDateTime",a)("owlDateTimeTrigger",a),o.Nb(2),o.Ec("pickerType","calendar"),o.Nb(2),o.Ec("ngIf",i.touched&&(null==i||null==i.errors?null:i.errors.required)),o.Nb(5),o.Ec("ngModel",l.summaryData.to_date)("owlDateTime",r)("owlDateTimeTrigger",r)("min",l.minDate)("disabled",!i.value),o.Nb(2),o.Ec("pickerType","calendar"),o.Nb(2),o.Ec("ngIf",s.touched&&(null==s||null==s.errors?null:s.errors.required)),o.Nb(1),o.Ec("ngIf",l.dateErrorMsg)}}let Lt=(()=>{class t{constructor(t,e,n,c,i){this.router=t,this.http=e,this.modal=n,this.dateTimeAdapter=c,this.toastr=i,this.onConfirmationSearch=new o.q,this.data=new Array(20),this.step1=!0,this.step2=!1,this.step3=!1,this.summaryData={},this.company={},this.domain=a.a.apiDomain,this.eventList=[],this.taxpayerList=[],this.taxpayerLocations=[],this.disabled=!1,this.dateErrorMsg="",c.setLocale("en-IN")}ngOnInit(){this.company=JSON.parse(localStorage.getItem("company")),this.getEventList(),this.getTaxPayerList(),this.onConfirmationSearch.pipe(Object(d.a)(500)).subscribe(t=>{console.log(t),this.getTaxPayerBySearch(t)})}getTaxPayerBySearch(t){let e;e=parseInt(t.slice(0,2))?[["gst_number","like",`%${t}%`]]:[["legal_name","like",`%${t}%`]],this.http.get(l.a.taxPayerDefault,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify(e)}}).subscribe(t=>{console.log(t),this.taxpayerList=t.data})}getTaxPayerLocations(t){this.http.get(l.a.taxpayerlocation,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["taxpayer_details","like",`%${t}%`]])}}).subscribe(t=>{console.log(t),this.taxpayerLocations=t.data})}generateInvoices(){this.router.navigate(["./clbs/summary-details"])}createSummary(t){var e;if(t.form.markAllAsTouched(),t.valid){const n={filters:[["invoice_type","like","B2B"],["irn_generated","like","Success"]]};n.filters.push(["gst_number","like",`%${null===(e=this.summaryData)||void 0===e?void 0:e.tax_payer_details}%`]);let c=[new Date(this.summaryData.from_date),new Date(this.summaryData.to_date)];const i=new Ct.a("Invoices","Custom",c,"invoice_date").filter;i&&n.filters.push(i),n.fields=JSON.stringify(["*"]),n.filters=JSON.stringify(n.filters),this.http.get(l.a.invoices,{params:n}).subscribe(e=>{var n;if(null==e?void 0:e.data.length){t.value.doctype=l.b.summaries,t.value.company=null===(n=this.company)||void 0===n?void 0:n.name,t.value.legal_name=this.taxpayertrade_name,t.value.from_date=p()(t.value.from_date).format("YYYY/MM/DD"),t.value.to_date=p()(t.value.to_date).format("YYYY/MM/DD"),console.log("==== ",t.value);const e=new FormData;e.append("doc",JSON.stringify(t.value)),e.append("action","Save"),this.http.post(""+l.a.fileSave,e).subscribe(t=>{var e;this.router.navigate(["./clbs/summary-details/"+(null===(e=null==t?void 0:t.docs[0])||void 0===e?void 0:e.name)])})}else this.disabled=!0,this.toastr.error("Invoices not found")})}else this.disabled=!0,console.log("Invalid form")}getInvoicesfilteredData(t){var e;if(!t)return;const n={filters:[["invoice_type","like","B2B"],["irn_generated","like","Success"]]};n.filters.push(["gst_number","like",`%${null===(e=this.summaryData)||void 0===e?void 0:e.tax_payer_details}%`]);let c=[new Date(this.summaryData.from_date),new Date(this.summaryData.to_date)];const i=new Ct.a("Invoices","Custom",c,"invoice_date").filter;i&&n.filters.push(i),n.fields=JSON.stringify(["*"]),n.filters=JSON.stringify(n.filters),this.http.get(l.a.invoices,{params:n}).subscribe(t=>{})}getEventList(){this.http.get(`${l.a.resource}/${l.b.events}`,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([]),limit_page_length:"None"}}).subscribe(t=>{t.data&&(this.eventList=null==t?void 0:t.data)})}companySearch(t){console.log("=========",t),this.taxpayertrade_name="",this.summaryData.location=null,this.onConfirmationSearch.emit(t.value),this.gettaxPayerById(this.summaryData.tax_payer_details)}itemSelection(t){console.log("===",t),this.summaryData.tax_payer_details=t.name,this.taxpayertrade_name=t.trade_name,this.inputfocus(),this.gettaxPayerById(t.name),this.summaryData.location=null}gettaxPayerById(t){var e;this.selectedLocationDetails="",this.http.get(l.a.taxpayerlocation,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["taxpayer_details","=",t],["company","=",null===(e=this.company)||void 0===e?void 0:e.name]])}}).subscribe(t=>{console.log(t),this.taxpayerLocations=t.data,this.taxpayerLocations.forEach(t=>{this.summaryData.location==t.name&&(this.selectedLocationDetails=t)})})}getTaxPayerList(){this.http.get(`${l.a.resource}/${l.b.taxPayers}`,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([]),limit_page_length:"None"}}).subscribe(t=>{t.data&&(this.taxpayerList=null==t?void 0:t.data)})}goback(){this.router.navigate(["./clbs/summaries"])}inputfocus(){this.enteredConfNumber="valid",document.getElementsByClassName("paragraphClass")[0].style.display="block",document.getElementsByClassName("companyInputErrorMsg")[0].style.display="none"}inputblur(){const t=document.getElementsByClassName("paragraphClass"),e=document.getElementsByClassName("companyInputErrorMsg");setTimeout(()=>{t[0].style.display="none",e[0].style.display="block"},200)}openLocationModel(){let t=this.modal.open(tt,{size:"md",centered:!0,backdrop:"static"});t.componentInstance.gstNumber=this.summaryData.tax_payer_details,t.componentInstance.locationType="create",t.result.then(t=>{},e=>{var n;this.summaryData.location=null===(n=t.componentInstance)||void 0===n?void 0:n.location,this.gettaxPayerById(this.summaryData.tax_payer_details)})}selectFromDate(t){this.minDate=new Date(t.value)}selectToDate(t){this.dateErrorMsg="",t.value<this.minDate&&(this.dateErrorMsg="toDate Should be greater than fromDate")}ngOnDestroy(){this.modal.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.e),o.bc(m.b),o.bc(v.k),o.bc(_.a),o.bc(H.d))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-create-summary"]],decls:9,vars:2,consts:[[1,"shadow","py-2"],[1,"container"],[1,"row"],[1,"col-md-2"],["alt","",1,"img-fluid",3,"src"],[1,"container-fluid"],[1,"my-4"],["class","container c-invoice",4,"ngIf"],[1,"container","c-invoice"],[1,"col-md-8","offset-md-2"],[1,"ri-arrow-left-line","arrow-back",3,"click"],[1,"ml-3"],["formstep1","ngForm"],[1,"row","mt-4"],[1,"col-md-12"],[1,"form-group"],["for","summary_title"],["type","text","name","summary_title","placeholder","Summary Title","required","",1,"form-control",3,"ngModel","ngModelChange"],["summary_title","ngModel"],["class","text-danger",4,"ngIf"],[1,"col-md-6"],[1,"form-group","contact-select"],["for",""],["autocomplete","off","type","text","placeholder","Select Company","name","tax_payer_details","id","tax_payer_details","required","",1,"form-control",3,"ngModel","ngModelChange","keyup","focus","blur"],["tax_payer_details","ngModel"],[1,"companyInputErrorMsg"],[1,"text-danger","m-0"],[1,"input-wrapper","paragraphClass"],[1,"p-0"],["class","card",3,"click",4,"ngFor","ngForOf"],["id","location","name","location","bindValue","cf7182ab63","required","","bindValue","name","bindLabel","location","placeholder","Select Location",1,"custom-select","ngselect","p-0","border-0",3,"disabled","ngModel","items","ngModelChange","change"],["location","ngModel"],[4,"ngIf"],["class","col-md-12 mb-2",4,"ngIf"],["for","event_type"],["id","event_type","name","event_type","required","","bindValue","event_name","bindLabel","event_name","placeholder","Select Event Type",1,"custom-select","ngselect","p-0","border-0",3,"ngModel","items","ngModelChange"],["event_type","ngModel"],["for","from_date"],["id","from_date","name","from_date","placeholder","dd/mm/yyyy","required","",1,"form-control",3,"ngModel","owlDateTime","owlDateTimeTrigger","ngModelChange","dateTimeChange"],["from_date","ngModel"],[3,"pickerType"],["dt1",""],["for","to_date"],["id","to_date","name","to_date","placeholder","dd/mm/yyyy","required","",1,"form-control",3,"ngModel","owlDateTime","owlDateTimeTrigger","min","disabled","ngModelChange","dateTimeChange"],["to_date","ngModel"],["dt2",""],[1,"col-md-12","text-right","mt-5"],["type","button","appPermissionButton","","accessType","create",1,"btn","btn-primary","ml-3","px-3","c-o-b1","shadow-sm",3,"click"],[1,"ri-arrow-right-line","pl-3"],[1,"text-danger"],[1,"card",3,"click"],[1,"card-body","p-2"],[1,"font-weight-bold","m-0"],[1,"m-0"],["ng-footer-tmp",""],[1,"text-right"],[1,"btn","btn-outline-primary","btn-sm","pt-2","mb-0",3,"click"],[1,"col-md-12","mb-2"],[1,"row","m-auto","w-100"],[1,"col-6","card","py-2"],[1,"my-2"],[1,"m-0","c-title"]],template:function(t,e){1&t&&(o.hc(0,"header",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div",3),o.hc(4,"div"),o.cc(5,"img",4),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(6,"div",5),o.hc(7,"section",6),o.ad(8,Tt,77,29,"div",7),o.gc(),o.gc()),2&t&&(o.Nb(5),o.Ec("src",e.domain+(null==e.company?null:e.company.company_logo),o.Tc),o.Nb(3),o.Ec("ngIf",e.step1))},directives:[c.p,b.u,b.j,b.k,b.b,b.q,b.i,b.l,c.o,U.a,_.d,_.f,_.c,y.a,U.c],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}header[_ngcontent-%COMP%]{background:#213d47;color:#fff;padding:3px 0}.c-b-b[_ngcontent-%COMP%]{width:50px;height:3px;background:hsla(0,0%,100%,.555);margin:0 8px}i[_ngcontent-%COMP%]{vertical-align:middle}.arrow-back[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}small[_ngcontent-%COMP%]{font-size:81%!important}.c-invoice[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%], .c-invoice[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#fff;border:0 solid #eaeaea;height:53px;box-shadow:0 .125rem .25rem rgba(0,0,0,.08)!important}.c-o-b[_ngcontent-%COMP%]{border:1px solid #dc362b;box-sizing:border-box;border-radius:4px;height:42px;font-size:13px}.c-o-b[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.c-o-b[_ngcontent-%COMP%]:hover{color:#dc362b}.c-o-b1[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;height:42px;font-size:13px}.c-o-b1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:.3rem!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#214350;color:#fff;font-size:12px;font-weight:300}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#fff!important}#invoice-d[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px}.circle[_ngcontent-%COMP%]{width:25px;height:25px;line-height:25px;text-align:center;color:#fff;display:inline-block;border-radius:50%;border:1px solid #eee}.circle.active[_ngcontent-%COMP%]{background:#fff;color:#000}.c-footer[_ngcontent-%COMP%]{position:fixed;width:100%;padding:10px 20px;bottom:0;background:#fff;left:0;z-index:99}.input-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;overflow-y:scroll;max-height:184px;width:368px;background:#fff}.paragraphClass[_ngcontent-%COMP%]{display:none}select[_ngcontent-%COMP%]:disabled{background:#ddd!important;color:#000!important}.img-fluid[_ngcontent-%COMP%]{max-width:52%!important}"]}),t})();function $t(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.xc(7,"date"),o.gc(),o.hc(8,"td",9),o.hc(9,"span",15),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc(),i=o.Oc(29);return c.docTypeModalFunc(i,n)})),o.cc(10,"em",16),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index;o.Nb(2),o.dd(n+1),o.Nb(2),o.dd(null==t?null:t.document_type),o.Nb(2),o.dd(o.zc(7,3,null==t?null:t.creation,"medium"))}}function At(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"p",22),o.sc("click",(function(){o.Qc(t);const e=o.wc(2);return e.filters.start=e.documentTypeList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.ec()}}const Ft=function(t){return{"bg-count":t}};function Rt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",23),o.hc(1,"p",24),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(20)})),o.cd(2,"20"),o.gc(),o.hc(3,"p",24),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(50)})),o.cd(4,"50"),o.gc(),o.hc(5,"p",24),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(100)})),o.cd(6,"100"),o.gc(),o.hc(7,"p",25),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(500)})),o.cd(8,"500"),o.gc(),o.gc()}if(2&t){const t=o.wc(2);o.Nb(1),o.Ec("ngClass",o.Ic(4,Ft,20==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(6,Ft,50==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(8,Ft,100==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(10,Ft,500==t.filters.itemsPerPage))}}function qt(t,e){if(1&t&&(o.hc(0,"div",17),o.hc(1,"div",18),o.ad(2,At,3,0,"ng-container",19),o.gc(),o.hc(3,"div",20),o.ad(4,Rt,9,12,"div",21),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(2),o.Ec("ngIf",t.documentTypeList.length<t.filters.totalCount),o.Nb(2),o.Ec("ngIf",t.documentTypeList.length>t.filters.itemsPerPage)}}function jt(t,e){if(1&t){const t=o.ic();o.hc(0,"button",38),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().eventFormAdd(n,e)})),o.cd(1,"Add"),o.gc()}}function zt(t,e){if(1&t){const t=o.ic();o.hc(0,"button",38),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().eventFormEdit(n,e)})),o.cd(1,"Save"),o.gc()}}function Qt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",26),o.hc(1,"h5",27),o.cd(2,"Document Type"),o.gc(),o.hc(3,"button",28),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",29),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",30),o.hc(7,"form",null,31),o.hc(9,"div",32),o.hc(10,"label",33),o.cd(11,"Document Type"),o.gc(),o.hc(12,"input",34,35),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().documentTypeInfo.document_type=e})),o.gc(),o.gc(),o.hc(14,"div",36),o.ad(15,jt,2,0,"button",37),o.ad(16,zt,2,0,"button",37),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(12),o.Ec("ngModel",t.documentTypeInfo.document_type),o.Nb(3),o.Ec("ngIf",!(null!=t.documentTypeInfo&&t.documentTypeInfo.name)),o.Nb(1),o.Ec("ngIf",null==t.documentTypeInfo?null:t.documentTypeInfo.name)}}class Bt{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search=""}}let Jt=(()=>{class t{constructor(t,e,n,c,i){this.router=t,this.http=e,this.activatedRoute=n,this.toastr=c,this.modal=i,this.filters=new Bt,this.onSearch=new o.q,this.documentTypeList=[],this.documentTypeInfo={}}ngOnInit(){this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{t&&(this.filters.start=0,this.filters.totalCount=0,this.updateRouterParams())}),this.activatedRoute.queryParams.subscribe(t=>{t&&(this.filters.search=t.search)}),this.getDocumentList()}updateRouterParams(){this.router.navigate(["clbs/document-type"],{queryParams:this.filters})}getDocumentList(){this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{var e;this.filters.search=t.search||this.filters.search;const n={filters:[]};n.limit_start=(this.filters.currentPage-1)*this.filters.itemsPerPage,n.limit_page_length=this.filters.itemsPerPage,this.filters.search&&n.filters.push(["name","like",`%${null===(e=this.filters)||void 0===e?void 0:e.search}%`]),n.filters=JSON.stringify(n.filters),n.fields=JSON.stringify(["*"]),n.order_by="`tabDocument Types`.`creation` desc";const c=this.http.get(`${l.a.resource}/${l.b.documentTypes}`,{params:{fields:JSON.stringify(["count( `tabDocument Types`.`name`) AS total_count"]),filters:n.filters}}),i=this.http.get(`${l.a.resource}/${l.b.documentTypes}`,{params:n});return Object($.a)([c,i])})).subscribe(t=>{1==this.filters.currentPage&&(this.documentTypeList=[]);const[e,n]=t;this.filters.totalCount=e.data[0].total_count,n.data=n.data.map((t,e)=>(t&&(t.index=this.documentTypeList.length+e+1),t)),n.data&&(this.documentTypeList=1!==this.filters.currentPage?this.documentTypeList.concat(n.data):n.data)})}checkPagination(t){this.filters.itemsPerPage=t,this.filters.currentPage=1,this.updateRouterParams()}docTypeModalFunc(t,e){this.documentTypeInfo=Object.assign({},e),this.modal.open(t,{size:"md",centered:!0})}eventFormAdd(t,e){this.http.post(`${l.a.resource}/${l.b.documentTypes}`,{data:t.value}).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getDocumentList())})}eventFormEdit(t,e){this.http.put(`${l.a.resource}/${l.b.documentTypes}/${this.documentTypeInfo.name}`,t.value).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getDocumentList())})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.e),o.bc(m.b),o.bc(i.a),o.bc(H.d),o.bc(v.k))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-document-types"]],decls:30,vars:3,consts:[[1,"container"],[1,"row","mt-3","filter-card"],[1,"col-md-3","grid"],[1,"d-flex","align-items-center"],[1,"m-0"],["type","button",1,"btn","btn-primary","btn-sm","shadow","ml-3",3,"click"],[1,"ri-add-line"],[1,"col-md-9"],[1,"mt-3","list-table"],[1,""],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between morec",4,"ngIf"],["eventModal",""],[1,"cursor-pointer",3,"click"],[1,"ri-pencil-line","btn-hover-gray","p-1"],[1,"d-flex","justify-content-between","morec"],[1,"text-right","px-3"],[4,"ngIf"],[1,"px-3"],["class","row no-gutters pagination",4,"ngIf"],[1,"cursor-pointer","px-2","py-1","pagination",3,"click"],[1,"row","no-gutters","pagination"],[1,"px-2","py-1","mb-0","cursor-pointer","border-right",3,"ngClass","click"],[1,"px-2","py-1","mb-0","cursor-pointer",3,"ngClass","click"],[1,"modal-header"],["id","modal-basic-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["form","ngForm"],[1,"form-group"],["for","document_type"],["type","text","id","document_type","name","document_type","required","",1,"form-control",3,"ngModel","ngModelChange"],["document_type","ngModel"],[1,"mt-3","text-right"],["class","btn btn-primary btn-sm","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,e){if(1&t){const t=o.ic();o.hc(0,"section",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div",3),o.hc(4,"h6",4),o.hc(5,"b"),o.cd(6),o.gc(),o.gc(),o.hc(7,"button",5),o.sc("click",(function(){o.Qc(t);const n=o.Oc(29);return e.docTypeModalFunc(n,{})})),o.hc(8,"b"),o.cc(9,"i",6),o.gc(),o.gc(),o.gc(),o.gc(),o.cc(10,"div",7),o.gc(),o.hc(11,"div",8),o.hc(12,"div",9),o.hc(13,"div",10),o.hc(14,"table",11),o.hc(15,"thead"),o.hc(16,"tr"),o.hc(17,"th"),o.cd(18,"#"),o.gc(),o.hc(19,"th"),o.cd(20,"Document Type"),o.gc(),o.hc(21,"th"),o.cd(22,"Generated On"),o.gc(),o.hc(23,"th"),o.cd(24,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(25,"tbody"),o.ad(26,$t,11,6,"tr",12),o.gc(),o.gc(),o.gc(),o.ad(27,qt,5,2,"div",13),o.gc(),o.gc(),o.gc(),o.ad(28,Qt,17,3,"ng-template",null,14,o.bd)}2&t&&(o.Nb(6),o.ed("Document Types (",e.filters.totalCount,")"),o.Nb(20),o.Ec("ngForOf",e.documentTypeList),o.Nb(1),o.Ec("ngIf",e.documentTypeList.length))},directives:[c.o,c.p,c.n,b.u,b.j,b.k,b.b,b.q,b.i,b.l],pipes:[c.f],styles:[".list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#214350;color:#fff}"]}),t})();function Vt(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.xc(7,"date"),o.gc(),o.hc(8,"td",9),o.hc(9,"span",15),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc(),i=o.Oc(29);return c.eventModalFunc(i,n)})),o.cc(10,"em",16),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index;o.Nb(2),o.dd(n+1),o.Nb(2),o.dd(null==t?null:t.event_name),o.Nb(2),o.dd(o.zc(7,3,null==t?null:t.creation,"medium"))}}function Yt(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"p",22),o.sc("click",(function(){o.Qc(t);const e=o.wc(2);return e.filters.start=e.eventsList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.ec()}}const Gt=function(t){return{"bg-count":t}};function Ht(t,e){if(1&t){const t=o.ic();o.hc(0,"div",23),o.hc(1,"p",24),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(20)})),o.cd(2,"20"),o.gc(),o.hc(3,"p",24),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(50)})),o.cd(4,"50"),o.gc(),o.hc(5,"p",24),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(100)})),o.cd(6,"100"),o.gc(),o.hc(7,"p",25),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(500)})),o.cd(8,"500"),o.gc(),o.gc()}if(2&t){const t=o.wc(2);o.Nb(1),o.Ec("ngClass",o.Ic(4,Gt,20==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(6,Gt,50==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(8,Gt,100==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(10,Gt,500==t.filters.itemsPerPage))}}function Ut(t,e){if(1&t&&(o.hc(0,"div",17),o.hc(1,"div",18),o.ad(2,Yt,3,0,"ng-container",19),o.gc(),o.hc(3,"div",20),o.ad(4,Ht,9,12,"div",21),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(2),o.Ec("ngIf",t.eventsList.length<t.filters.totalCount),o.Nb(2),o.Ec("ngIf",t.eventsList.length>t.filters.itemsPerPage)}}function Zt(t,e){if(1&t){const t=o.ic();o.hc(0,"button",38),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().eventFormAdd(n,e)})),o.cd(1,"Add"),o.gc()}}function Wt(t,e){if(1&t){const t=o.ic();o.hc(0,"button",38),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().eventFormEdit(n,e)})),o.cd(1,"Save"),o.gc()}}function Xt(t,e){if(1&t){const t=o.ic();o.hc(0,"div",26),o.hc(1,"h5",27),o.cd(2,"Event"),o.gc(),o.hc(3,"button",28),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",29),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",30),o.hc(7,"form",null,31),o.hc(9,"div",32),o.hc(10,"label",33),o.cd(11,"Event Name"),o.gc(),o.hc(12,"input",34,35),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().eventInfo.event_name=e})),o.gc(),o.gc(),o.hc(14,"div",36),o.ad(15,Zt,2,0,"button",37),o.ad(16,Wt,2,0,"button",37),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(12),o.Ec("ngModel",t.eventInfo.event_name),o.Nb(3),o.Ec("ngIf",!(null!=t.eventInfo&&t.eventInfo.name)),o.Nb(1),o.Ec("ngIf",null==t.eventInfo?null:t.eventInfo.name)}}class Kt{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search=""}}let te=(()=>{class t{constructor(t,e,n,c,i){this.router=t,this.http=e,this.activatedRoute=n,this.toastr=c,this.modal=i,this.filters=new Kt,this.onSearch=new o.q,this.eventsList=[],this.eventInfo={}}ngOnInit(){this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{t&&(this.filters.start=0,this.filters.totalCount=0,this.updateRouterParams())}),this.activatedRoute.queryParams.subscribe(t=>{t&&(this.filters.search=t.search)}),this.getEventsList()}updateRouterParams(){this.router.navigate(["clbs/events"],{queryParams:this.filters})}getEventsList(){this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{var e;this.filters.search=t.search||this.filters.search;const n={filters:[]};n.limit_start=(this.filters.currentPage-1)*this.filters.itemsPerPage,n.limit_page_length=this.filters.itemsPerPage,this.filters.search&&n.filters.push(["name","like",`%${null===(e=this.filters)||void 0===e?void 0:e.search}%`]),n.filters=JSON.stringify(n.filters),n.fields=JSON.stringify(["*"]),n.order_by="`tabEvents`.`creation` desc";const c=this.http.get(`${l.a.resource}/${l.b.events}`,{params:{fields:JSON.stringify(["count( `tabEvents`.`name`) AS total_count"]),filters:n.filters}}),i=this.http.get(`${l.a.resource}/${l.b.events}`,{params:n});return Object($.a)([c,i])})).subscribe(t=>{1==this.filters.currentPage&&(this.eventsList=[]);const[e,n]=t;this.filters.totalCount=e.data[0].total_count,n.data=n.data.map((t,e)=>(t&&(t.index=this.eventsList.length+e+1),t)),n.data&&(this.eventsList=1!==this.filters.currentPage?this.eventsList.concat(n.data):n.data)})}checkPagination(t){this.filters.itemsPerPage=t,this.filters.currentPage=1,this.updateRouterParams()}eventModalFunc(t,e){this.eventInfo=Object.assign({},e),this.modal.open(t,{size:"md",centered:!0})}eventFormAdd(t,e){this.http.post(`${l.a.resource}/${l.b.events}`,{data:t.value}).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getEventsList())})}eventFormEdit(t,e){this.http.put(`${l.a.resource}/${l.b.events}/${this.eventInfo.name}`,t.value).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getEventsList())})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.e),o.bc(m.b),o.bc(i.a),o.bc(H.d),o.bc(v.k))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-events"]],decls:30,vars:3,consts:[[1,"container"],[1,"row","mt-3","filter-card"],[1,"col-md-3","grid"],[1,"d-flex","align-items-center"],[1,"m-0"],["type","button",1,"btn","btn-primary","btn-sm","shadow","ml-3",3,"click"],[1,"ri-add-line"],[1,"col-md-9"],[1,"mt-3","list-table"],[1,""],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],["class","d-flex justify-content-between morec",4,"ngIf"],["eventModal",""],[1,"cursor-pointer",3,"click"],[1,"ri-pencil-line","btn-hover-gray","p-1"],[1,"d-flex","justify-content-between","morec"],[1,"text-right","px-3"],[4,"ngIf"],[1,"px-3"],["class","row no-gutters pagination",4,"ngIf"],[1,"cursor-pointer","px-2","py-1","pagination",3,"click"],[1,"row","no-gutters","pagination"],[1,"px-2","py-1","mb-0","cursor-pointer","border-right",3,"ngClass","click"],[1,"px-2","py-1","mb-0","cursor-pointer",3,"ngClass","click"],[1,"modal-header"],["id","modal-basic-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["form","ngForm"],[1,"form-group"],["for","event_name"],["type","text","id","event_name","name","event_name","required","",1,"form-control",3,"ngModel","ngModelChange"],["event_name","ngModel"],[1,"mt-3","text-right"],["class","btn btn-primary btn-sm","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"]],template:function(t,e){if(1&t){const t=o.ic();o.hc(0,"section",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div",3),o.hc(4,"h6",4),o.hc(5,"b"),o.cd(6),o.gc(),o.gc(),o.hc(7,"button",5),o.sc("click",(function(){o.Qc(t);const n=o.Oc(29);return e.eventModalFunc(n,{})})),o.hc(8,"b"),o.cc(9,"i",6),o.gc(),o.gc(),o.gc(),o.gc(),o.cc(10,"div",7),o.gc(),o.hc(11,"div",8),o.hc(12,"div",9),o.hc(13,"div",10),o.hc(14,"table",11),o.hc(15,"thead"),o.hc(16,"tr"),o.hc(17,"th"),o.cd(18,"#"),o.gc(),o.hc(19,"th"),o.cd(20,"Event Name"),o.gc(),o.hc(21,"th"),o.cd(22,"Generated On"),o.gc(),o.hc(23,"th"),o.cd(24,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(25,"tbody"),o.ad(26,Vt,11,6,"tr",12),o.gc(),o.gc(),o.gc(),o.ad(27,Ut,5,2,"div",13),o.gc(),o.gc(),o.gc(),o.ad(28,Xt,17,3,"ng-template",null,14,o.bd)}2&t&&(o.Nb(6),o.ed("Events (",e.filters.totalCount,")"),o.Nb(20),o.Ec("ngForOf",e.eventsList),o.Nb(1),o.Ec("ngIf",e.eventsList.length))},directives:[c.o,c.p,c.n,b.u,b.j,b.k,b.b,b.q,b.i,b.l],pipes:[c.f],styles:[".list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#214350;color:#fff}"]}),t})();function ee(t,e){if(1&t){const t=o.ic();o.hc(0,"li",41),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc(2).itemSelection(n)})),o.hc(1,"b"),o.cd(2),o.hc(3,"small"),o.cd(4),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit;o.Nb(2),o.ed(" ",t.name," "),o.Nb(2),o.dd(t.guest_name?t.guest_name:"NA")}}function ne(t,e){if(1&t){const t=o.ic();o.hc(0,"div",35),o.hc(1,"div"),o.hc(2,"input",36,37),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().b2cInvoicedetails.invoice=e}))("keyup",(function(){o.Qc(t);const e=o.Oc(3);return o.wc().b2cInvoiceSearch(e)}))("focus",(function(){o.Qc(t);const e=o.Oc(3),n=o.wc();return n.inputfocus(),n.b2cInvoiceSearch(e)}))("blur",(function(){return o.Qc(t),o.wc().inputblur()})),o.gc(),o.hc(4,"div",38),o.hc(5,"ul",39),o.ad(6,ee,5,2,"li",40),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(2),o.Ec("ngModel",t.b2cInvoicedetails.invoice),o.Nb(4),o.Ec("ngForOf",t.b2cInvoiceList)}}const ce=function(t){return{selected:t}};function ie(t,e){if(1&t){const t=o.ic();o.hc(0,"div",44),o.hc(1,"input",45),o.sc("change",(function(e){o.Qc(t);const n=o.wc().$implicit;return o.wc().checkedItems(e,n)}))("ngModelChange",(function(e){return o.Qc(t),o.wc().$implicit.checked=e})),o.gc(),o.cc(2,"label",46),o.gc()}if(2&t){const t=o.wc(),e=t.$implicit,n=t.index;o.Ec("ngClass",o.Ic(8,ce,null==e?null:e.summary))("ngbTooltip",null!=e&&e.summary?"Exists in another summary":""),o.Nb(1),o.Gc("id","customCheck",n,""),o.Gc("name","item",n,""),o.Ec("ngClass",o.Ic(10,ce,null==e?null:e.summary))("ngModel",e.checked)("disabled",null==e?null:e.summary),o.Nb(1),o.Gc("for","customCheck",n,"")}}const oe=function(t){return[t]};function ae(t,e){if(1&t&&(o.hc(0,"tr"),o.hc(1,"td"),o.ad(2,ie,3,12,"div",42),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.gc(),o.hc(7,"td"),o.cd(8),o.gc(),o.hc(9,"td"),o.cd(10),o.gc(),o.hc(11,"td"),o.cd(12),o.gc(),o.hc(13,"td"),o.cd(14),o.gc(),o.hc(15,"td"),o.cd(16),o.gc(),o.hc(17,"td"),o.cd(18),o.gc(),o.hc(19,"td"),o.cd(20),o.gc(),o.hc(21,"td"),o.cd(22),o.gc(),o.hc(23,"td"),o.hc(24,"a",43),o.cd(25),o.gc(),o.gc(),o.gc()),2&t){const t=e.$implicit;o.Nb(2),o.Ec("ngIf",!(null!=t&&t.summary)),o.Nb(2),o.dd(null==t?null:t.invoice_date),o.Nb(2),o.dd(null==t?null:t.invoice_number),o.Nb(2),o.dd(null==t?null:t.invoice_type),o.Nb(2),o.dd(null==t?null:t.gst_number),o.Nb(2),o.dd(null==t?null:t.trade_name),o.Nb(2),o.dd(null==t?null:t.sales_amount_before_tax),o.Nb(2),o.dd(null==t?null:t.cgst_amount),o.Nb(2),o.dd(null==t?null:t.sgst_amount),o.Nb(2),o.dd(null==t?null:t.igst_amount),o.Nb(2),o.dd(null==t?null:t.sales_amount_after_tax),o.Nb(2),o.Ec("routerLink",o.Ic(13,oe,"/clbs/summary-details/"+(null==t?null:t.summary))),o.Nb(1),o.dd(null!=t&&t.summary?"View":"")}}function se(t,e){1&t&&(o.hc(0,"div",47),o.hc(1,"h4"),o.cd(2,"No Data Found"),o.gc(),o.gc())}class re{constructor(){this.search={invoice:"",gstNumber:"",filterDate:""}}}let le=(()=>{class t{constructor(t,e,n,c){this.http=t,this.router=e,this.activatedRoute=n,this.toastr=c,this.filters=new re,this.onSearch=new o.q,this.onInvoiceSearch=new o.q,this.summaryData={},this.invoicesData=[],this.dupinvoicesList=[],this.selectAll=!1,this.data=new Array(20),this.addB2CEnable=!1,this.b2cInvoiceList=[],this.b2cInvoicedetails={invoice:""}}ngOnInit(){this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>this.updateRouterParams()),this.activatedRoute.params.subscribe(t=>{console.log(t),this.pageType=null==t?void 0:t.type,this.paramsID=null==t?void 0:t.id}),this.activatedRoute.queryParams.subscribe(t=>{if(null==t?void 0:t.search){let e=JSON.parse(null==t?void 0:t.search);this.filters.search=e}}),this.getSummaryDetails(),this.onInvoiceSearch.pipe(Object(d.a)(500)).subscribe(t=>{console.log(t),t&&this.getB2CInvoices(t)})}getSummaryDetails(){this.http.get(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`).subscribe(t=>{t&&(this.summaryData=t.data,this.filters.search.filterDate=[new Date(this.summaryData.from_date),new Date(this.summaryData.to_date)],this.getInvoicesfilteredData(this.summaryData))})}getInvoicesfilteredData(t){t&&this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{var e,n,c,i,o,a;const s={filters:[["invoice_type","like","B2B"],["irn_generated","like","Success"]]};if(s.filters.push(["summary","!=",this.paramsID]),(null===(e=this.summaryData)||void 0===e?void 0:e.tax_payer_details)&&s.filters.push(["gst_number","like",`%${null===(n=this.summaryData)||void 0===n?void 0:n.tax_payer_details}%`]),(null===(i=null===(c=this.filters)||void 0===c?void 0:c.search)||void 0===i?void 0:i.invoice)&&s.filters.push(["invoice_number","like",`%${null===(a=null===(o=this.filters)||void 0===o?void 0:o.search)||void 0===a?void 0:a.invoice}%`]),this.filters.search.filterDate){const t=new Ct.a("Invoices","Custom",this.filters.search.filterDate,"invoice_date").filter;t&&s.filters.push(t)}s.limit_page_length="None",s.fields=JSON.stringify(["*"]),s.filters=JSON.stringify(s.filters),s.order_by="`tabInvoices`.`creation` desc";const r=this.http.get(l.a.invoices,{params:{fields:JSON.stringify(["count( `tabInvoices`.`name`) AS total_count"]),filters:s.filters}}),d=this.http.get(l.a.invoices,{params:s});return Object($.a)([r,d])})).subscribe(t=>{const[e,n]=t;this.invoicesData=null==n?void 0:n.data.map((t,e)=>(t&&(t.index=this.invoicesData.length+e+1,t.checked=!1),t)),this.dupinvoicesList=[]})}checkedItemsAll(t){this.dupinvoicesList=this.invoicesData.filter(this.selectAll?t=>(t.checked=!0,t):t=>(t.checked=!1,t)),this.dupinvoicesList=this.invoicesData.filter(t=>t.checked&&!t.summary),this.dupinvoicesList=this.dupinvoicesList.map(t=>(t&&(t.doctype=l.b.invoices),t))}checkedItems(t,e){const n=this.invoicesData.filter(t=>t.checked);this.selectAll=n.length==this.invoicesData.length,this.dupinvoicesList=n,this.dupinvoicesList=this.dupinvoicesList.map(t=>(t&&(t.doctype=l.b.invoices),t))}goback(){this.router.navigate(["./clbs/summary-details/"+this.paramsID])}createSummaries(){let t=this.dupinvoicesList.map(t=>t.name);const e={filters:[]};t.length&&e.filters.push(["parent","in",t]),console.log(JSON.stringify(e.filters)),this.http.get(""+l.a.createBreakUp,{params:{filters:JSON.stringify(e.filters),summary:this.paramsID}}).subscribe(t=>{var e,n,c;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)?(this.toastr.success(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.message),this.router.navigate(["./clbs/summary-details/"+this.paramsID])):this.toastr.error(null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.message)})}updateRouterParams(){const t=JSON.parse(JSON.stringify(this.filters));t.search=JSON.stringify(t.search),this.router.navigate(["clbs/invoices/"+this.paramsID],{queryParams:t})}addB2CEnableFn(){this.addB2CEnable&&this.getB2CInvoices()}getB2CInvoices(t=null){let e={filters:[["invoice_type","like","B2C"],["irn_generated","like","Success"],["summary","like",null]]};if(t&&e.filters.push(["invoice_number","like",`%${t}%`]),this.filters.search.filterDate){const t=new Ct.a("Invoices","Custom",this.filters.search.filterDate,"invoice_date").filter;t&&e.filters.push(t)}const n=this.http.get(l.a.invoices,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify(e.filters),limit_page_length:"None"}});Object($.a)([n]).subscribe(t=>{var e,n;console.log(t),(null===(e=t[0])||void 0===e?void 0:e.data)?this.b2cInvoiceList=null===(n=t[0])||void 0===n?void 0:n.data:this.toastr.error("")})}b2cInvoiceSearch(t){this.onInvoiceSearch.emit(t.value)}inputfocus(){document.getElementsByClassName("paragraphClass")[0].style.display="block"}inputblur(){const t=document.getElementsByClassName("paragraphClass");setTimeout(()=>{t[0].style.display="none"},400)}itemSelection(t){if(!window.confirm(`Are you want sure to add ${null==t?void 0:t.invoice_number}?`))return null;t.checked=!1,this.invoicesData.push(t)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(i.e),o.bc(i.a),o.bc(H.d))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-invoices"]],decls:76,vars:19,consts:[[1,"shadow"],[1,""],[1,"row","m-0","px-3","pt-2"],[1,"col-md-8","d-flex","align-items-center","my-auto","text-white"],[1,"m-0"],[1,"ri-arrow-left-line","back","btn-hover",3,"click"],[1,"pl-2"],[1,"d-flex"],[1,"mb-0","pr-2"],[1,"border-right"],[1,"mb-0","px-2"],[1,"col-md-4","my-auto"],[1,"my-2"],["id","invoice-d",1,"container-fluid"],[1,"row"],[1,"col-md-9"],[1,"d-flex","align-items-center","mt-1"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","addB2CEnable","name","addB2CEnable",1,"custom-control-input",3,"ngModel","change","ngModelChange"],["for","addB2CEnable",1,"custom-control-label"],["class","form-group mb-0 contact-select px-2",4,"ngIf"],[1,"col-md-3","my-auto"],["type","text","placeholder","search by Invoice","name","invoice",1,"form-control","m-0",3,"ngModel","ngModelChange","keyup","search"],["invoice","ngModel"],[1,"col-md-12","list-table"],[1,"bg-white","mt-3"],[1,"table","table-sm","mb-5"],["type","checkbox","id","customCheckAll","name","itemAll",1,"custom-control-input",3,"ngModel","change","ngModelChange"],["for","customCheckAll","ngbTooltip","Select All",1,"custom-control-label"],[4,"ngFor","ngForOf"],["class","text-center py-3",4,"ngIf"],[1,"c-footer","shadow"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-primary","ml-3","px-3","c-o-b1","shadow-sm",3,"disabled","click"],[1,"ri-arrow-right-line","pl-3"],[1,"form-group","mb-0","contact-select","px-2"],["autocomplete","off","type","text","placeholder","Select B2C Invoice","name","b2cInvoice","id","b2cInvoice",1,"form-control",3,"ngModel","ngModelChange","keyup","focus","blur"],["b2cInvoice","ngModel"],[1,"input-wrapper","paragraphClass"],[1,"p-0"],["class","p-2 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"p-2","cursor-pointer",3,"click"],["class","custom-control custom-checkbox",3,"ngClass","ngbTooltip",4,"ngIf"],[1,"cursor-pointer",3,"routerLink"],[1,"custom-control","custom-checkbox",3,"ngClass","ngbTooltip"],["type","checkbox",1,"custom-control-input",3,"ngClass","id","name","ngModel","disabled","change","ngModelChange"],[1,"custom-control-label",3,"for"],[1,"text-center","py-3"]],template:function(t,e){1&t&&(o.hc(0,"header",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div",3),o.hc(4,"h6",4),o.hc(5,"i",5),o.sc("click",(function(){return e.goback()})),o.gc(),o.gc(),o.hc(6,"div",6),o.hc(7,"h6",4),o.hc(8,"b"),o.cd(9),o.gc(),o.gc(),o.hc(10,"div",7),o.hc(11,"p",8),o.cd(12),o.gc(),o.cc(13,"div",9),o.hc(14,"p",10),o.cd(15),o.gc(),o.cc(16,"div",9),o.hc(17,"p",10),o.cd(18),o.xc(19,"date"),o.xc(20,"date"),o.gc(),o.gc(),o.gc(),o.gc(),o.cc(21,"div",11),o.gc(),o.gc(),o.gc(),o.hc(22,"section",12),o.hc(23,"div",13),o.hc(24,"div",14),o.hc(25,"div",15),o.hc(26,"div",16),o.hc(27,"div",17),o.hc(28,"input",18),o.sc("change",(function(){return e.addB2CEnableFn()}))("ngModelChange",(function(t){return e.addB2CEnable=t})),o.gc(),o.hc(29,"label",19),o.cd(30,"Pickup B2C Invoices"),o.gc(),o.gc(),o.ad(31,ne,7,2,"div",20),o.gc(),o.gc(),o.hc(32,"div",21),o.hc(33,"input",22,23),o.sc("ngModelChange",(function(t){return e.filters.search.invoice=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)})),o.gc(),o.gc(),o.gc(),o.hc(35,"div",14),o.hc(36,"div",24),o.hc(37,"div",25),o.hc(38,"table",26),o.hc(39,"thead"),o.hc(40,"tr"),o.hc(41,"th"),o.hc(42,"div",17),o.hc(43,"input",27),o.sc("change",(function(t){return e.checkedItemsAll(t)}))("ngModelChange",(function(t){return e.selectAll=t})),o.gc(),o.cc(44,"label",28),o.gc(),o.gc(),o.hc(45,"th"),o.cd(46,"Invoice Date"),o.gc(),o.hc(47,"th"),o.cd(48,"Invoice No"),o.gc(),o.hc(49,"th"),o.cd(50,"Invoice Type"),o.gc(),o.hc(51,"th"),o.cd(52,"GST Number"),o.gc(),o.hc(53,"th"),o.cd(54,"Trade Name"),o.gc(),o.hc(55,"th"),o.cd(56,"Taxable Value"),o.gc(),o.hc(57,"th"),o.cd(58,"CGST"),o.gc(),o.hc(59,"th"),o.cd(60,"SGST"),o.gc(),o.hc(61,"th"),o.cd(62,"IGST"),o.gc(),o.hc(63,"th"),o.cd(64,"Total Amount"),o.gc(),o.hc(65,"th"),o.cd(66,"In Other Summaries"),o.gc(),o.gc(),o.gc(),o.hc(67,"tbody"),o.ad(68,ae,26,15,"tr",29),o.gc(),o.gc(),o.ad(69,se,3,0,"div",30),o.gc(),o.gc(),o.gc(),o.hc(70,"div",31),o.hc(71,"div",14),o.hc(72,"div",32),o.hc(73,"button",33),o.sc("click",(function(){return e.createSummaries()})),o.cd(74),o.cc(75,"i",34),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()),2&t&&(o.Nb(9),o.ed(" ",null==e.summaryData?null:e.summaryData.summary_title,""),o.Nb(3),o.dd(null==e.summaryData?null:e.summaryData.tax_payer_details),o.Nb(3),o.dd((null==e.summaryData?null:e.summaryData.legal_name)||"-----"),o.Nb(3),o.fd("",o.zc(19,13,null==e.summaryData?null:e.summaryData.from_date,"d MMMM, y")," - ",o.zc(20,16,null==e.summaryData?null:e.summaryData.to_date,"d MMMM , y"),""),o.Nb(10),o.Ec("ngModel",e.addB2CEnable),o.Nb(3),o.Ec("ngIf",e.addB2CEnable),o.Nb(2),o.Ec("ngModel",e.filters.search.invoice),o.Nb(10),o.Ec("ngModel",e.selectAll),o.Nb(25),o.Ec("ngForOf",e.invoicesData),o.Nb(1),o.Ec("ngIf",!e.invoicesData.length),o.Nb(4),o.Ec("disabled",!e.dupinvoicesList.length),o.Nb(1),o.ed("","create"==e.pageType?"Create":"Update"," Summary "))},directives:[b.a,b.i,b.l,c.p,b.b,v.A,c.o,i.h,c.n],pipes:[c.f],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}header[_ngcontent-%COMP%]{background:#213d47}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:300!important;font-size:13px}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.back[_ngcontent-%COMP%]{font-size:25px;cursor:pointer}.c-b-b[_ngcontent-%COMP%]{width:50px;height:3px;background:hsla(0,0%,100%,.555);margin:0 8px}i[_ngcontent-%COMP%]{vertical-align:middle}.arrow-back[_ngcontent-%COMP%]{font-size:20px;cursor:pointer}#invoice-d[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px}.c-footer[_ngcontent-%COMP%]{position:fixed;width:100%;padding:10px 20px;bottom:0;background:#fff;left:0;z-index:99}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:.3rem!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#214350;color:#fff;font-size:12px;font-weight:300}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#fff!important}.selected[_ngcontent-%COMP%]{cursor:not-allowed}.input-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:111;width:100%}ul[_ngcontent-%COMP%]{list-style-type:none;overflow-y:scroll;max-height:184px;max-width:250px;background:#fff;box-shadow:5px 10px #fff}li[_ngcontent-%COMP%]:hover{background-color:#214350;color:#fff}.paragraphClass[_ngcontent-%COMP%]{display:none}"]}),t})();var de=n("vxfF"),ge=n("nLfN"),he=n("8LU1"),ue=n("XNiG"),pe=n("quSY"),me=n("HDdC"),be=n("D0XW"),fe=n("Y7HM");function _e(t){const{subscriber:e,counter:n,period:c}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:c},c)}var ve=n("eNwd"),ye=(n("VRyK"),n("1G5W"));function Ce(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Pe(t,e){const n=e?"":"none";Ce(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function Oe(t,e){const n=t.style;n.position=e?"":"fixed",n.top=n.opacity=e?"":"0",n.left=e?"":"-999em"}function Me(t){const e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function xe(t,e){return t.getPropertyValue(e).split(",").map(t=>t.trim())}function we(t){const e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function De(t,e,n){const{top:c,bottom:i,left:o,right:a}=t;return n>=c&&n<=i&&e>=o&&e<=a}function ke(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Ne(t,e,n,c){const{top:i,right:o,bottom:a,left:s,width:r,height:l}=t,d=r*e,g=l*e;return c>i-g&&c<a+g&&n>s-d&&n<o+d}n("JX91"),n("lJxs"),n("IzEk"),n("vkgz"),n("cH1L");class Se{constructor(t,e){this._document=t,this._viewportRuler=e,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(t=>{this.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:we(t)})})}handleScroll(t){const e=t.target,n=this.positions.get(e);if(!n)return null;const c=e===this._document?e.documentElement:e,i=n.scrollPosition;let o,a;if(e===this._document){const t=this._viewportRuler.getViewportScrollPosition();o=t.top,a=t.left}else o=e.scrollTop,a=e.scrollLeft;const s=i.top-o,r=i.left-a;return this.positions.forEach((t,n)=>{t.clientRect&&e!==n&&c.contains(n)&&ke(t.clientRect,s,r)}),i.top=o,i.left=a,{top:s,left:r}}}function Ie(t){const e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),c=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return"canvas"===c?$e(t,e):"input"!==c&&"select"!==c&&"textarea"!==c||Le(t,e),Ee("canvas",t,e,$e),Ee("input, textarea, select",t,e,Le),e}function Ee(t,e,n,c){const i=e.querySelectorAll(t);if(i.length){const e=n.querySelectorAll(t);for(let t=0;t<i.length;t++)c(i[t],e[t])}}let Te=0;function Le(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${Te++}`)}function $e(t,e){const n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(c){}}const Ae=Object(ge.e)({passive:!0}),Fe=Object(ge.e)({passive:!1});class Re{constructor(t,e,n,c,i,o){this._config=e,this._document=n,this._ngZone=c,this._viewportRuler=i,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new ue.a,this._pointerMoveSubscription=pe.a.EMPTY,this._pointerUpSubscription=pe.a.EMPTY,this._scrollSubscription=pe.a.EMPTY,this._resizeSubscription=pe.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new ue.a,this.started=new ue.a,this.released=new ue.a,this.ended=new ue.a,this.entered=new ue.a,this.exited=new ue.a,this.dropped=new ue.a,this.moved=this._moveEvents,this._pointerDown=t=>{if(this.beforeStarted.next(),this._handles.length){const e=this._handles.find(e=>{const n=t.target;return!!n&&(n===e||e.contains(n))});!e||this._disabledHandles.has(e)||this.disabled||this._initializeDragSequence(e,t)}else this.disabled||this._initializeDragSequence(this._rootElement,t)},this._pointerMove=t=>{t.preventDefault();const e=this._getPointerPositionOnPage(t);if(!this._hasStartedDragging){if(Math.abs(e.x-this._pickupPositionOnPage.x)+Math.abs(e.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const e=Date.now()>=this._dragStartTime+this._getDragStartDelay(t),n=this._dropContainer;if(!e)return void this._endDragSequence(t);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(t)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(e);if(this._hasMoved=!0,this._lastKnownPointerPosition=e,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,e);else{const t=this._activeTransform;t.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,t.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(t.x,t.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${t.x} ${t.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:t,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=t=>{this._endDragSequence(t)},this.withRootElement(t),this._parentPositions=new Se(n,i),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=Object(he.b)(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){return this._handles=t.map(t=>Object(he.d)(t)),this._handles.forEach(t=>Pe(t,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Object(he.d)(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,Fe),e.addEventListener("touchstart",this._pointerDown,Ae)}),this._initialTransform=void 0,this._rootElement=e),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Object(he.d)(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&ze(this._rootElement),ze(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}enableHandle(t){this._disabledHandles.delete(t)}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&ze(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&ze(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(t))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(t){Qe(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const t=this._rootElement,c=t.parentNode,i=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");c.insertBefore(a,t),Oe(t,!1),this._document.body.appendChild(c.replaceChild(o,t)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(i),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){e.stopPropagation();const n=this.isDragging(),c=Qe(e),i=!c&&0!==e.button,o=this._rootElement,a=!c&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),n||i||a)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{this._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=we(this._boundaryElement));const s=this._previewTemplate;this._pickupPositionInElement=s&&s.template&&!s.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);const r=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:r.x,y:r.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){Oe(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const e=this._dropContainer,n=e.getItemIndex(this),c=this._getPointerPositionOnPage(t),i=this._getDragDistance(this._getPointerPositionOnPage(t)),o=e._isOverContainer(c.x,c.y);this.ended.next({source:this,distance:i}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:i}),e.drop(this,n,this._initialIndex,this._initialContainer,o,i),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:n,y:c}){let i=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=i,this._dropContainer.enter(this,t,e,i===this._initialContainer&&i.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:i,currentIndex:i.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,c),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this._preview.style.transform=qe(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y)}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,n=t?t.template:null;let c;if(n&&t){const e=t.matchSize?this._rootElement.getBoundingClientRect():null,i=t.viewContainer.createEmbeddedView(n,t.context);i.detectChanges(),c=Be(i,this._document),this._previewRef=i,t.matchSize?Je(c,e):c.style.transform=qe(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const t=this._rootElement;c=Ie(t),Je(c,t.getBoundingClientRect())}return Ce(c.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Pe(c,!1),c.classList.add("cdk-drag-preview"),c.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(t=>c.classList.add(t)):c.classList.add(e)),c}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=qe(t.left,t.top);const e=function(t){const e=getComputedStyle(t),n=xe(e,"transition-property"),c=n.find(t=>"transform"===t||"all"===t);if(!c)return 0;const i=n.indexOf(c),o=xe(e,"transition-duration"),a=xe(e,"transition-delay");return Me(o[i])+Me(a[i])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{const n=e=>{(!e||e.target===this._preview&&"transform"===e.propertyName)&&(this._preview.removeEventListener("transitionend",n),t(),clearTimeout(c))},c=setTimeout(n,1.5*e);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let n;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),n=Be(this._placeholderRef,this._document)):n=Ie(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(t,e){const n=this._rootElement.getBoundingClientRect(),c=t===this._rootElement?null:t,i=c?c.getBoundingClientRect():n,o=Qe(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-a.left),y:i.top-n.top+(o.pageY-i.top-a.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),n=Qe(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,c=n.pageX-e.left,i=n.pageY-e.top;if(this._ownerSVGElement){const t=this._ownerSVGElement.getScreenCTM();if(t){const e=this._ownerSVGElement.createSVGPoint();return e.x=c,e.y=i,e.matrixTransform(t.inverse())}}return{x:c,y:i}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:c}=this.constrainPosition?this.constrainPosition(t,this):t;if("x"===this.lockAxis||"x"===e?c=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==e||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:t,y:e}=this._pickupPositionInElement,i=this._boundaryRect,o=this._previewRect,a=i.top+e,s=i.bottom-(o.height-e);n=je(n,i.left+t,i.right-(o.width-t)),c=je(c,a,s)}return{x:n,y:c}}_updatePointerDirectionDelta(t){const{x:e,y:n}=t,c=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),a=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(c.x=e>i.x?1:-1,i.x=e),a>this._config.pointerDirectionChangeThreshold&&(c.y=n>i.y?1:-1,i.y=n),c}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Pe(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,Fe),t.removeEventListener("touchstart",this._pointerDown,Ae)}_applyRootElementTransform(t,e){const n=qe(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),c=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===c.width&&0===c.height)return;const i=n.left-c.left,o=c.right-n.right,a=n.top-c.top,s=c.bottom-n.bottom;n.width>c.width?(i>0&&(t+=i),o>0&&(t-=o)):t=0,n.height>c.height?(a>0&&(e+=a),s>0&&(e-=s)):e=0,t===this._passiveTransform.x&&e===this._passiveTransform.y||this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Qe(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const n=t.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&ke(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function qe(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function je(t,e,n){return Math.max(e,Math.min(n,t))}function ze(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Qe(t){return"t"===t.type[0]}function Be(t,e){const n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];const c=e.createElement("div");return n.forEach(t=>c.appendChild(t)),c}function Je(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=qe(e.left,e.top)}function Ve(t,e,n){const c=Ye(e,t.length-1),i=Ye(n,t.length-1);if(c===i)return;const o=t[c],a=i<c?-1:1;for(let s=c;s!==i;s+=a)t[s]=t[s+a];t[i]=o}function Ye(t,e){return Math.max(0,Math.min(e,t))}class Ge{constructor(t,e,n,c,i){this._dragDropRegistry=e,this._ngZone=c,this._viewportRuler=i,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new ue.a,this.entered=new ue.a,this.exited=new ue.a,this.dropped=new ue.a,this.sorted=new ue.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=pe.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new ue.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(t=0,e=be.a){return(!Object(fe.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=be.a),new me.a(n=>(n.add(e.schedule(_e,t,{subscriber:n,counter:0,period:t})),n))}(0,ve.a).pipe(Object(ye.a)(this._stopScrollTimers)).subscribe(()=>{const t=this._scrollNode;1===this._verticalScrollDirection?Ue(t,-2):2===this._verticalScrollDirection&&Ue(t,2),1===this._horizontalScrollDirection?Ze(t,-2):2===this._horizontalScrollDirection&&Ze(t,2)})},this.element=Object(he.d)(t),this._document=n,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new Se(n,i)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const t=Object(he.d)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(t=>t._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(t,e,n,c){let i;this.start(),null==c?(i=this.sortingDisabled?this._draggables.indexOf(t):-1,-1===i&&(i=this._getItemIndexFromPointerPosition(t,e,n))):i=c;const o=this._activeDraggables,a=o.indexOf(t),s=t.getPlaceholderElement();let r=o[i];if(r===t&&(r=o[i+1]),a>-1&&o.splice(a,1),r&&!this._dragDropRegistry.isDragging(r)){const e=r.getRootElement();e.parentElement.insertBefore(s,e),o.splice(i,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){const e=o[0].getRootElement();e.parentNode.insertBefore(s,e),o.unshift(t)}else Object(he.d)(this.element).appendChild(s),o.push(t);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,n,c,i,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:c,isPointerOverContainer:i,distance:o})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(e.filter(t=>t.isDragging()).every(e=>-1===t.indexOf(e))?this._reset():this._cacheItems()),this}withDirection(t){return this._direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._orientation=t,this}withScrollableParents(t){const e=Object(he.d)(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?He("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,e=>e.drag===t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,n,c){if(this.sortingDisabled||!Ne(this._clientRect,.05,e,n))return;const i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,c);if(-1===o&&i.length>0)return;const a="horizontal"===this._orientation,s=He(i,e=>e.drag===t),r=i[o],l=r.clientRect,d=s>o?1:-1,g=this._getItemOffsetPx(i[s].clientRect,l,d),h=this._getSiblingOffsetPx(s,i,d),u=i.slice();Ve(i,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),i.forEach((e,n)=>{if(u[n]===e)return;const c=e.drag===t,i=c?g:h,o=c?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,a?(o.style.transform=`translate3d(${Math.round(e.offset)}px, 0, 0)`,ke(e.clientRect,0,i)):(o.style.transform=`translate3d(0, ${Math.round(e.offset)}px, 0)`,ke(e.clientRect,i,0))}),this._previousSwap.overlaps=De(l,e,n),this._previousSwap.drag=r.drag,this._previousSwap.delta=a?c.x:c.y}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let n,c=0,i=0;if(this._parentPositions.positions.forEach((o,a)=>{a!==this._document&&o.clientRect&&!n&&Ne(o.clientRect,.05,t,e)&&([c,i]=function(t,e,n,c){const i=We(e,c),o=Xe(e,n);let a=0,s=0;if(i){const e=t.scrollTop;1===i?e>0&&(a=1):t.scrollHeight-e>t.clientHeight&&(a=2)}if(o){const e=t.scrollLeft;1===o?e>0&&(s=1):t.scrollWidth-e>t.clientWidth&&(s=2)}return[a,s]}(a,o.clientRect,t,e),(c||i)&&(n=a))}),!c&&!i){const{width:o,height:a}=this._viewportRuler.getViewportSize(),s={width:o,height:a,top:0,right:o,bottom:a,left:0};c=We(s,e),i=Xe(s,t),n=window}!n||c===this._verticalScrollDirection&&i===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=c,this._horizontalScrollDirection=i,this._scrollNode=n,(c||i)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const t=Object(he.d)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_cacheItemPositions(){const t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(t=>{const e=t.getVisibleElement();return{drag:t,offset:0,clientRect:we(e)}}).sort((e,n)=>t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const t=Object(he.d)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(t=>{const e=t.getRootElement();e&&(e.style.transform="")}),this._siblings.forEach(t=>t._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(t,e,n){const c="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n];let a=i[c?"width":"height"]*n;if(o){const t=c?"left":"top",e=c?"right":"bottom";-1===n?a-=o.clientRect[t]-i[e]:a+=i[t]-o.clientRect[e]}return a}_getItemOffsetPx(t,e,n){const c="horizontal"===this._orientation;let i=c?e.left-t.left:e.top-t.top;return-1===n&&(i+=c?e.width-t.width:e.height-t.height),i}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,c="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const i=n[n.length-1].clientRect;return c?t>=i.right:e>=i.bottom}{const i=n[0].clientRect;return c?t<=i.left:e<=i.top}}_getItemIndexFromPointerPosition(t,e,n,c){const i="horizontal"===this._orientation,o=He(this._itemPositions,({drag:o,clientRect:a},s,r)=>{if(o===t)return r.length<2;if(c){const t=i?c.x:c.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&t===this._previousSwap.delta)return!1}return i?e>=Math.floor(a.left)&&e<Math.floor(a.right):n>=Math.floor(a.top)&&n<Math.floor(a.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(t,e){return De(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,n){return this._siblings.find(c=>c._canReceive(t,e,n))}_canReceive(t,e,n){if(!De(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;const c=this._getShadowRoot().elementFromPoint(e,n);if(!c)return!1;const i=Object(he.d)(this.element);return c===i||i.contains(c)}_startReceiving(t){const e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&(this._itemPositions.forEach(({clientRect:t})=>{ke(t,e.top,e.left)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Object(ge.c)(Object(he.d)(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}function He(t,e){for(let n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function Ue(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function Ze(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function We(t,e){const{top:n,bottom:c,height:i}=t,o=.05*i;return e>=n-o&&e<=n+o?1:e>=c-o&&e<=c+o?2:0}function Xe(t,e){const{left:n,right:c,width:i}=t,o=.05*i;return e>=n-o&&e<=n+o?1:e>=c-o&&e<=c+o?2:0}const Ke=Object(ge.e)({passive:!1,capture:!0});let tn=(()=>{class t{constructor(t,e){this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new ue.a,this.pointerUp=new ue.a,this.scroll=new ue.a,this._preventDefaultWhileDragging=t=>{this._activeDragInstances.size&&t.preventDefault()},this._persistentTouchmoveListener=t=>{this._activeDragInstances.size&&(t.preventDefault(),this.pointerMove.next(t))},this._document=e}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Ke)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Ke)}startDragging(t,e){if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){const t=e.type.startsWith("touch");this._globalListeners.set(t?"touchend":"mouseup",{handler:t=>this.pointerUp.next(t),options:!0}).set("scroll",{handler:t=>this.scroll.next(t),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Ke}),t||this._globalListeners.set("mousemove",{handler:t=>this.pointerMove.next(t),options:Ke}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((t,e)=>{this._document.addEventListener(e,t.handler,t.options)})})}}stopDragging(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances.has(t)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,e)=>{this._document.removeEventListener(e,t.handler,t.options)}),this._globalListeners.clear()}}return t.\u0275fac=function(e){return new(e||t)(o.pc(o.I),o.pc(c.e))},t.\u0275prov=Object(o.Xb)({factory:function(){return new t(Object(o.pc)(o.I),Object(o.pc)(c.e))},token:t,providedIn:"root"}),t})();const en={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let nn=(()=>{class t{constructor(t,e,n,c){this._document=t,this._ngZone=e,this._viewportRuler=n,this._dragDropRegistry=c}createDrag(t,e=en){return new Re(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Ge(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return t.\u0275fac=function(e){return new(e||t)(o.pc(c.e),o.pc(o.I),o.pc(de.d),o.pc(tn))},t.\u0275prov=Object(o.Xb)({factory:function(){return new t(Object(o.pc)(c.e),Object(o.pc)(o.I),Object(o.pc)(de.d),Object(o.pc)(tn))},token:t,providedIn:"root"}),t})(),cn=(()=>{class t{}return t.\u0275mod=o.Zb({type:t}),t.\u0275inj=o.Yb({factory:function(e){return new(e||t)},providers:[nn],imports:[de.a]}),t})();var on=n("mLv5"),an=n("CzEO");function sn(t,e){1&t&&o.dc(0)}function rn(t,e){if(1&t&&o.ad(0,sn,1,0,"ng-container",17),2&t){o.wc();const t=o.Oc(27);o.Ec("ngTemplateOutlet",t)}}function ln(t,e){1&t&&o.dc(0)}function dn(t,e){if(1&t&&o.ad(0,ln,1,0,"ng-container",17),2&t){o.wc();const t=o.Oc(29);o.Ec("ngTemplateOutlet",t)}}function gn(t,e){1&t&&o.dc(0)}function hn(t,e){if(1&t&&o.ad(0,gn,1,0,"ng-container",17),2&t){o.wc();const t=o.Oc(31);o.Ec("ngTemplateOutlet",t)}}function un(t,e){1&t&&o.dc(0)}function pn(t,e){if(1&t&&o.ad(0,un,1,0,"ng-container",17),2&t){o.wc();const t=o.Oc(33);o.Ec("ngTemplateOutlet",t)}}function mn(t,e){1&t&&o.dc(0)}function bn(t,e){if(1&t&&o.ad(0,mn,1,0,"ng-container",17),2&t){o.wc();const t=o.Oc(35);o.Ec("ngTemplateOutlet",t)}}function fn(t,e){1&t&&o.dc(0)}function _n(t,e){if(1&t&&o.ad(0,fn,1,0,"ng-container",17),2&t){o.wc(2);const t=o.Oc(37);o.Ec("ngTemplateOutlet",t)}}function vn(t,e){1&t&&(o.hc(0,"li",4),o.hc(1,"a",5),o.cd(2,"Signature Settings"),o.gc(),o.ad(3,_n,1,1,"ng-template",6),o.gc()),2&t&&o.Ec("ngbNavItem",6)}function yn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function Cn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Max Limit is 20MB"),o.gc())}function Pn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function On(t,e){if(1&t){const t=o.ic();o.hc(0,"div",18),o.hc(1,"div",19),o.hc(2,"form",null,20),o.hc(4,"div",21),o.hc(5,"div",22),o.hc(6,"div",23),o.hc(7,"label",24),o.cd(8,"CLBS Document Preview"),o.gc(),o.hc(9,"select",25,26),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().clbsSettings.clbs_document_preview=e})),o.hc(11,"option",27),o.cd(12,"Select Any "),o.gc(),o.hc(13,"option",28),o.cd(14,"INDIVIDUAL"),o.gc(),o.hc(15,"option",29),o.cd(16,"COMBINED"),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(17,"div",22),o.hc(18,"div",23),o.hc(19,"label",30),o.cd(20,"Threshold (in MB)"),o.gc(),o.hc(21,"input",31,32),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().clbsSettings.threshhold=e}))("ngModelChange",(function(e){return o.Qc(t),o.wc().onChangeThreshold(e)})),o.gc(),o.ad(23,yn,2,0,"small",33),o.ad(24,Cn,2,0,"small",33),o.gc(),o.gc(),o.hc(25,"div",34),o.hc(26,"div",23),o.hc(27,"label",35),o.cd(28,"CC Mail IDs"),o.gc(),o.hc(29,"input",36,37),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().clbsSettings.cc_mail_ids_for_clbs_reports=e})),o.gc(),o.ad(31,Pn,2,0,"small",33),o.hc(32,"small",38),o.cd(33,"Entered emails should be comma(,) seperated."),o.gc(),o.gc(),o.gc(),o.hc(34,"div",39),o.hc(35,"div",40),o.hc(36,"label",41),o.cd(37,"Terms and Conditions"),o.gc(),o.hc(38,"quill-editor",42,43),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().clbsSettings.summary_terms_and_conditions=e})),o.gc(),o.gc(),o.gc(),o.hc(40,"div",44),o.hc(41,"div",45),o.hc(42,"button",46),o.sc("click",(function(){o.Qc(t);const e=o.Oc(3);return o.wc().save_qr_details(e)})),o.cd(43,"save"),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(22),e=o.Oc(30),n=o.wc();o.Nb(9),o.Ec("ngModel",n.clbsSettings.clbs_document_preview),o.Nb(2),o.Ec("ngValue",void 0),o.Nb(10),o.Ec("ngModel",n.clbsSettings.threshhold),o.Nb(2),o.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),o.Nb(1),o.Ec("ngIf",!n.checkThreshold),o.Nb(5),o.Ec("ngModel",n.clbsSettings.cc_mail_ids_for_clbs_reports),o.Nb(2),o.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),o.Nb(7),o.Ec("ngModel",n.clbsSettings.summary_terms_and_conditions),o.Nb(4),o.Ec("disabled",!n.checkThreshold)}}function Mn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function xn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function wn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function Dn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function kn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function Nn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function Sn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function In(t,e){if(1&t){const t=o.ic();o.hc(0,"div",48),o.hc(1,"div",19),o.hc(2,"form",null,49),o.hc(4,"div",50),o.hc(5,"div",22),o.hc(6,"div",23),o.hc(7,"label",51),o.cd(8,"Bank Name"),o.gc(),o.hc(9,"input",52,53),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().bankDetails.bank_name=e})),o.gc(),o.ad(11,Mn,2,0,"small",33),o.gc(),o.gc(),o.hc(12,"div",22),o.hc(13,"div",23),o.hc(14,"label",54),o.cd(15,"Bank A/C Name"),o.gc(),o.hc(16,"input",55,56),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().bankDetails.bank_ac_name=e})),o.gc(),o.ad(18,xn,2,0,"small",33),o.gc(),o.gc(),o.hc(19,"div",22),o.hc(20,"div",23),o.hc(21,"label",57),o.cd(22,"Branch A/C Number"),o.gc(),o.hc(23,"input",58,59),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().bankDetails.bank_ac_number=e})),o.gc(),o.ad(25,wn,2,0,"small",33),o.gc(),o.gc(),o.hc(26,"div",22),o.hc(27,"div",23),o.hc(28,"label",60),o.cd(29,"IFSC Code"),o.gc(),o.hc(30,"input",61,62),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().bankDetails.ifsc_code=e})),o.gc(),o.ad(32,Dn,2,0,"small",33),o.gc(),o.gc(),o.hc(33,"div",22),o.hc(34,"div",23),o.hc(35,"label",63),o.cd(36,"Branch Code"),o.gc(),o.hc(37,"input",64,65),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().bankDetails.branch_code=e})),o.gc(),o.ad(39,kn,2,0,"small",33),o.gc(),o.gc(),o.hc(40,"div",22),o.hc(41,"div",23),o.hc(42,"label",66),o.cd(43,"MICR Code"),o.gc(),o.hc(44,"input",67,68),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().bankDetails.micr_code=e})),o.gc(),o.ad(46,Nn,2,0,"small",33),o.gc(),o.gc(),o.hc(47,"div",22),o.hc(48,"div",23),o.hc(49,"label",69),o.cd(50,"Address"),o.gc(),o.hc(51,"input",70,71),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().bankDetails.address=e})),o.gc(),o.ad(53,Sn,2,0,"small",33),o.gc(),o.gc(),o.hc(54,"div",44),o.hc(55,"div",45),o.hc(56,"button",72),o.sc("click",(function(){o.Qc(t);const e=o.Oc(3);return o.wc().save_bank_details(e)})),o.cd(57,"save bank details"),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(10),e=o.Oc(17),n=o.Oc(24),c=o.Oc(31),i=o.Oc(38),a=o.Oc(45),s=o.Oc(52),r=o.wc();o.Nb(9),o.Ec("ngModel",r.bankDetails.bank_name),o.Nb(2),o.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),o.Nb(5),o.Ec("ngModel",r.bankDetails.bank_ac_name),o.Nb(2),o.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),o.Nb(5),o.Ec("ngModel",r.bankDetails.bank_ac_number),o.Nb(2),o.Ec("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),o.Nb(5),o.Ec("ngModel",r.bankDetails.ifsc_code),o.Nb(2),o.Ec("ngIf",c.touched&&(null==c||null==c.errors?null:c.errors.required)),o.Nb(5),o.Ec("ngModel",r.bankDetails.branch_code),o.Nb(2),o.Ec("ngIf",i.touched&&(null==i||null==i.errors?null:i.errors.required)),o.Nb(5),o.Ec("ngModel",r.bankDetails.micr_code),o.Nb(2),o.Ec("ngIf",a.touched&&(null==a||null==a.errors?null:a.errors.required)),o.Nb(5),o.Ec("ngModel",r.bankDetails.address),o.Nb(2),o.Ec("ngIf",s.touched&&(null==s||null==s.errors?null:s.errors.required))}}function En(t,e){if(1&t&&(o.hc(0,"option"),o.cd(1),o.gc()),2&t){const t=e.$implicit;o.Nb(1),o.dd(t)}}function Tn(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.hc(4,"select",81),o.sc("change",(function(){o.Qc(t);const n=e.$implicit;return o.wc(2).changeSequence(n)}))("ngModelChange",(function(n){return o.Qc(t),e.$implicit.sequence_no=n})),o.ad(5,En,2,1,"option",79),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit;o.Nb(2),o.dd(t.document_type),o.Nb(2),o.Ec("ngModel",t.sequence_no),o.Nb(1),o.Ec("ngForOf",t.sequence)}}function Ln(t,e){if(1&t){const t=o.ic();o.hc(0,"div",73),o.hc(1,"table",74),o.hc(2,"thead",75),o.hc(3,"tr"),o.hc(4,"th"),o.cd(5,"Title"),o.gc(),o.hc(6,"th"),o.cd(7,"Sequence"),o.gc(),o.gc(),o.gc(),o.hc(8,"tbody"),o.hc(9,"tr"),o.hc(10,"td"),o.cd(11,"Summary"),o.gc(),o.hc(12,"td"),o.hc(13,"select",76),o.hc(14,"option",77),o.cd(15,"1"),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(16,"tr"),o.hc(17,"td"),o.cd(18,"E-Tax Invoice"),o.gc(),o.hc(19,"td"),o.hc(20,"select",76),o.hc(21,"option",78),o.cd(22,"2"),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(23,Tn,6,3,"tr",79),o.gc(),o.gc(),o.hc(24,"div",45),o.hc(25,"button",80),o.sc("click",(function(){return o.Qc(t),o.wc().save()})),o.cd(26,"save"),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(23),o.Ec("ngForOf",t.fileTypes)}}function $n(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.xc(7,"date"),o.gc(),o.hc(8,"td",91),o.hc(9,"span",92),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc(2),i=o.Oc(39);return c.eventModalFunc(i,n)})),o.cc(10,"em",93),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index;o.Nb(2),o.dd(n+1),o.Nb(2),o.dd(null==t?null:t.event_name),o.Nb(2),o.dd(o.zc(7,3,null==t?null:t.creation,"medium"))}}function An(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"p",99),o.sc("click",(function(){o.Qc(t);const e=o.wc(3);return e.filters.start=e.eventsList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.ec()}}const Fn=function(t){return{"bg-count":t}};function Rn(t,e){if(1&t){const t=o.ic();o.hc(0,"div",100),o.hc(1,"p",101),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPagination(20)})),o.cd(2,"20"),o.gc(),o.hc(3,"p",101),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPagination(50)})),o.cd(4,"50"),o.gc(),o.hc(5,"p",101),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPagination(100)})),o.cd(6,"100"),o.gc(),o.hc(7,"p",102),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPagination(500)})),o.cd(8,"500"),o.gc(),o.gc()}if(2&t){const t=o.wc(3);o.Nb(1),o.Ec("ngClass",o.Ic(4,Fn,20==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(6,Fn,50==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(8,Fn,100==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(10,Fn,500==t.filters.itemsPerPage))}}function qn(t,e){if(1&t&&(o.hc(0,"div",94),o.hc(1,"div",95),o.ad(2,An,3,0,"ng-container",96),o.gc(),o.hc(3,"div",97),o.ad(4,Rn,9,12,"div",98),o.gc(),o.gc()),2&t){const t=o.wc(2);o.Nb(2),o.Ec("ngIf",t.eventsList.length<t.filters.totalCount),o.Nb(2),o.Ec("ngIf",t.eventsList.length>t.filters.itemsPerPage)}}function jn(t,e){if(1&t){const t=o.ic();o.hc(0,"div",18),o.hc(1,"div",19),o.hc(2,"div",82),o.hc(3,"div",83),o.hc(4,"div",84),o.hc(5,"h6",85),o.hc(6,"b"),o.cd(7),o.gc(),o.gc(),o.hc(8,"button",86),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(39);return e.eventModalFunc(n,{})})),o.hc(9,"b"),o.cc(10,"i",87),o.gc(),o.gc(),o.gc(),o.gc(),o.cc(11,"div",88),o.gc(),o.hc(12,"div",50),o.hc(13,"div",89),o.hc(14,"table",74),o.hc(15,"thead",75),o.hc(16,"tr"),o.hc(17,"th"),o.cd(18,"#"),o.gc(),o.hc(19,"th"),o.cd(20,"Event Name"),o.gc(),o.hc(21,"th"),o.cd(22,"Generated On"),o.gc(),o.hc(23,"th"),o.cd(24,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(25,"tbody"),o.ad(26,$n,11,6,"tr",79),o.gc(),o.gc(),o.ad(27,qn,5,2,"div",90),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(7),o.ed("Events (",t.filters.totalCount,")"),o.Nb(19),o.Ec("ngForOf",t.eventsList),o.Nb(1),o.Ec("ngIf",t.eventsList.length)}}const zn=function(t){return{wrapper:t}};function Qn(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td",91),o.cd(2),o.gc(),o.hc(3,"td",91),o.cd(4),o.gc(),o.hc(5,"td",91),o.hc(6,"div",105),o.hc(7,"div",106),o.hc(8,"input",107,108),o.sc("ngModelChange",(function(n){return o.Qc(t),e.$implicit.doc_delete_status=n}))("change",(function(n){o.Qc(t);const c=e.$implicit;return o.wc(2).StatusDocType(n,c)})),o.gc(),o.cc(10,"label",109),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index;o.Nb(2),o.dd(n+1),o.Nb(2),o.dd(null==t?null:t.document_type),o.Nb(4),o.Gc("id","deleteStatus",n,""),o.Gc("name","doc_delete_status",n,""),o.Ec("ngModel",t.doc_delete_status)("ngClass",o.Ic(8,zn,1==t.is_editable))("disabled",1==t.is_editable),o.Nb(2),o.Gc("for","deleteStatus",n,"")}}function Bn(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"p",99),o.sc("click",(function(){o.Qc(t);const e=o.wc(3);return e.filters_doc_types.start=e.documentTypeList.length,e.filters_doc_types.currentPage=e.filters_doc_types.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.ec()}}function Jn(t,e){if(1&t){const t=o.ic();o.hc(0,"div",100),o.hc(1,"p",101),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPaginationDocType(20)})),o.cd(2,"20"),o.gc(),o.hc(3,"p",101),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPaginationDocType(50)})),o.cd(4,"50"),o.gc(),o.hc(5,"p",101),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPaginationDocType(100)})),o.cd(6,"100"),o.gc(),o.hc(7,"p",102),o.sc("click",(function(){return o.Qc(t),o.wc(3).checkPaginationDocType(500)})),o.cd(8,"500"),o.gc(),o.gc()}if(2&t){const t=o.wc(3);o.Nb(1),o.Ec("ngClass",o.Ic(4,Fn,20==t.filters_doc_types.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(6,Fn,50==t.filters_doc_types.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(8,Fn,100==t.filters_doc_types.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(10,Fn,500==t.filters_doc_types.itemsPerPage))}}function Vn(t,e){if(1&t&&(o.hc(0,"div",94),o.hc(1,"div",95),o.ad(2,Bn,3,0,"ng-container",96),o.gc(),o.hc(3,"div",97),o.ad(4,Jn,9,12,"div",98),o.gc(),o.gc()),2&t){const t=o.wc(2);o.Nb(2),o.Ec("ngIf",t.documentTypeList.length<t.filters_doc_types.totalCount),o.Nb(2),o.Ec("ngIf",t.documentTypeList.length>t.filters_doc_types.itemsPerPage)}}function Yn(t,e){if(1&t){const t=o.ic();o.hc(0,"div",18),o.hc(1,"div",19),o.hc(2,"div",82),o.hc(3,"div",83),o.hc(4,"div",84),o.hc(5,"h6",85),o.hc(6,"b"),o.cd(7),o.gc(),o.gc(),o.hc(8,"button",86),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(41);return e.docTypeModalFunc(n,{})})),o.hc(9,"b"),o.cc(10,"i",87),o.gc(),o.gc(),o.gc(),o.gc(),o.cc(11,"div",103),o.gc(),o.hc(12,"div",50),o.hc(13,"div",104),o.hc(14,"table",74),o.hc(15,"thead"),o.hc(16,"tr"),o.hc(17,"th"),o.cd(18,"#"),o.gc(),o.hc(19,"th"),o.cd(20,"Document Type"),o.gc(),o.hc(21,"th"),o.cd(22,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(23,"tbody"),o.ad(24,Qn,11,10,"tr",79),o.gc(),o.gc(),o.gc(),o.ad(25,Vn,5,2,"div",90),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(7),o.ed("Document Types (",t.filters_doc_types.totalCount,")"),o.Nb(17),o.Ec("ngForOf",t.documentTypeList),o.Nb(1),o.Ec("ngIf",t.documentTypeList.length)}}function Gn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function Hn(t,e){1&t&&(o.hc(0,"small",47),o.cd(1,"Required"),o.gc())}function Un(t,e){if(1&t){const t=o.ic();o.hc(0,"div",18),o.hc(1,"div",19),o.hc(2,"form",null,110),o.hc(4,"div",50),o.hc(5,"div",111),o.hc(6,"div",40),o.hc(7,"label",112),o.cd(8,"Digital Signature"),o.gc(),o.hc(9,"select",113,114),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().clbsSettings.digital_signature=e})),o.hc(11,"option",115),o.cd(12,"Disable"),o.gc(),o.hc(13,"option",77),o.cd(14,"Allow"),o.gc(),o.gc(),o.ad(15,Gn,2,0,"small",33),o.gc(),o.gc(),o.hc(16,"div",111),o.hc(17,"div",40),o.hc(18,"label",116),o.cd(19,"Portal Automation"),o.gc(),o.hc(20,"select",117,118),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().clbsSettings.portal_automation=e})),o.hc(22,"option",119),o.cd(23,"Select"),o.gc(),o.hc(24,"option",115),o.cd(25,"Disable"),o.gc(),o.hc(26,"option",77),o.cd(27,"Allow"),o.gc(),o.gc(),o.ad(28,Hn,2,0,"small",33),o.gc(),o.gc(),o.gc(),o.hc(29,"div",45),o.hc(30,"button",80),o.sc("click",(function(){o.Qc(t);const e=o.Oc(3);return o.wc().saveSignatureDetails(e)})),o.cd(31,"save"),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(10),e=o.Oc(21),n=o.wc();o.Nb(9),o.Ec("ngModel",n.clbsSettings.digital_signature),o.Nb(6),o.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),o.Nb(5),o.Ec("ngModel",n.clbsSettings.portal_automation),o.Nb(8),o.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function Zn(t,e){if(1&t){const t=o.ic();o.hc(0,"button",130),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().eventFormAdd(n,e)})),o.cd(1,"Add"),o.gc()}}function Wn(t,e){if(1&t){const t=o.ic();o.hc(0,"button",130),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().eventFormEdit(n,e)})),o.cd(1,"Save"),o.gc()}}function Xn(t,e){if(1&t){const t=o.ic();o.hc(0,"div",120),o.hc(1,"h5",121),o.cd(2,"Event"),o.gc(),o.hc(3,"button",122),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",123),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",124),o.hc(7,"form",null,110),o.hc(9,"div",40),o.hc(10,"label",125),o.cd(11,"Event Name"),o.gc(),o.hc(12,"input",126,127),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().eventInfo.event_name=e})),o.gc(),o.gc(),o.hc(14,"div",128),o.ad(15,Zn,2,0,"button",129),o.ad(16,Wn,2,0,"button",129),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(12),o.Ec("ngModel",t.eventInfo.event_name),o.Nb(3),o.Ec("ngIf",!(null!=t.eventInfo&&t.eventInfo.name)),o.Nb(1),o.Ec("ngIf",null==t.eventInfo?null:t.eventInfo.name)}}function Kn(t,e){if(1&t){const t=o.ic();o.hc(0,"button",130),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().docTypeFormAdd(n,e)})),o.cd(1,"Add"),o.gc()}}function tc(t,e){if(1&t){const t=o.ic();o.hc(0,"button",130),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().docTypeFormEdit(n,e)})),o.cd(1,"Save"),o.gc()}}function ec(t,e){if(1&t){const t=o.ic();o.hc(0,"div",120),o.hc(1,"h5",121),o.cd(2,"Document Type"),o.gc(),o.hc(3,"button",122),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",123),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",124),o.hc(7,"form",null,110),o.hc(9,"div",40),o.hc(10,"label",131),o.cd(11,"Document Type"),o.gc(),o.hc(12,"input",132,133),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().documentTypeInfo.document_type=e})),o.gc(),o.gc(),o.hc(14,"div",128),o.ad(15,Kn,2,0,"button",129),o.ad(16,tc,2,0,"button",129),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(12),o.Ec("ngModel",t.documentTypeInfo.document_type),o.Nb(3),o.Ec("ngIf",!(null!=t.documentTypeInfo&&t.documentTypeInfo.name)),o.Nb(1),o.Ec("ngIf",null==t.documentTypeInfo?null:t.documentTypeInfo.name)}}class nc{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search=""}}class cc{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search=""}}let ic=(()=>{class t{constructor(t,e,n,c,i){this.activatedRoute=t,this.router=e,this.http=n,this.toaster=c,this.modal=i,this.active=1,this.companyDetails={},this.bankDetails={},this.clbsSettings={},this.checkThreshold=!0,this.fileError=!1,this.sequenceOptions=[],this.filters=new nc,this.onSearch=new o.q,this.filters_doc_types=new cc,this.eventsList=[],this.eventInfo={},this.documentTypeList=[],this.documentTypeInfo={},this.save_doc_type_seq=!1}ngOnInit(){this.loginUser=JSON.parse(localStorage.getItem("login")),this.companyDetails=JSON.parse(localStorage.getItem("company")),this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{t&&(this.filters.start=0,this.filters.totalCount=0,this.updateRouterParams())}),this.activatedRoute.queryParams.subscribe(t=>{t&&(this.filters.search=t.search)}),this.getEventsList(),this.getDocumentList(),this.getClbsSettings(),this.get_bank_details(),this.getDocumentTypeList()}updateRouterParams(){this.router.navigate(["clbs/clbs-settings"],{queryParams:this.filters})}get_bank_details(){var t;this.http.get(`${l.a.resource}/${l.b.bankDetails}`,{params:{filters:JSON.stringify([["company","=",null===(t=this.companyDetails)||void 0===t?void 0:t.name]]),fields:JSON.stringify(["*"])}}).subscribe(t=>{(null==t?void 0:t.data.length)&&(this.bankDetails=t.data[0])})}save_bank_details(t){var e,n;t.valid?(null===(e=this.bankDetails)||void 0===e?void 0:e.name)?this.http.put(`${l.a.resource}/${l.b.bankDetails}/${null===(n=this.bankDetails)||void 0===n?void 0:n.name}`,{data:this.bankDetails}).subscribe(t=>{(null==t?void 0:t.data)&&(this.toaster.success("Updated"),this.bankDetails=t.data)}):this.http.post(`${l.a.resource}/${l.b.bankDetails}`,{data:Object.assign(Object.assign({},t.value),{company:this.companyDetails.name})}).subscribe(t=>{(null==t?void 0:t.data)&&(this.toaster.success("Updated"),this.bankDetails=t.data)}):this.toaster.error("Invalid Form")}getClbsSettings(){this.http.get(""+l.a.clbsSettings).subscribe(t=>{var e;(null==t?void 0:t.data[0])&&this.http.get(`${l.a.clbsSettings}/${null===(e=null==t?void 0:t.data[0])||void 0===e?void 0:e.name}`).subscribe(t=>{t&&(this.clbsSettings=null==t?void 0:t.data,this.setSequenceValues())})})}save_qr_details(t){var e,n;t.invalid||this.checkThreshold&&((null===(e=this.clbsSettings)||void 0===e?void 0:e.name)?this.http.put(`${l.a.clbsSettings}/${null===(n=this.clbsSettings)||void 0===n?void 0:n.name}`,{data:this.clbsSettings}).subscribe(t=>{(null==t?void 0:t.data)&&(this.toaster.success("Updated"),this.clbsSettings=t.data)}):this.http.post(""+l.a.clbsSettings,{data:Object.assign(Object.assign({},t.value),{company:this.companyDetails.name})}).subscribe(t=>{(null==t?void 0:t.data)&&(this.toaster.success("Success"),this.clbsSettings=t.data)}))}onChangeThreshold(t){this.checkThreshold=t<20}handleFileInput(t,e){if(this.filename=t[0].name,this.fileToUpload=t[0],"text/plain"==t[0].type){if(this.fileError=!1,this.fileToUpload){const t=new FormData;t.append("file",this.fileToUpload,this.fileToUpload.name),t.append("is_private","1"),t.append("folder","Home"),t.append("doctype",this.clbsSettings.doctype),t.append("fieldname",e),t.append("docname",this.clbsSettings.company),this.http.post(l.a.uploadFile,t).subscribe(t=>{if(t.message.file_url&&"document_sequence"===e){this.clbsSettings.document_sequence=t.message.file_url;const e=new FormData;e.append("doc",JSON.stringify(this.clbsSettings)),e.append("action","Save"),this.http.post(l.a.fileSave,e).subscribe(t=>{this.toaster.success("Document Saved"),this.getClbsSettings()})}})}}else this.fileError=!0}downloadFile(t){window.open(a.a.apiDomain+t,"_blank")}getDocumentTypeList(){this.http.get(`${l.a.resource}/${l.b.documentTypes}`,{params:{fields:JSON.stringify(["*"]),limit_page_length:"None"}}).subscribe(t=>{(null==t?void 0:t.data)&&(this.fileTypes=null==t?void 0:t.data,console.log("====",this.fileTypes),this.fileTypes.push({name:"POS Checks",document_type:"POS Checks",sequence_no:""}),this.addSequenceOptions())})}changeSequence(){}addSequenceOptions(){this.fileTypes.filter(t=>{t.sequence_no="",t.sequence=Array.from({length:this.fileTypes.length},(t,e)=>e+3)}),this.setSequenceValues()}saveSignatureDetails(t){t.invalid?t.form.markAllAsTouched():this.save()}save(){var t,e;let n={summary:1,e_tax:2},c={};this.fileTypes.filter(t=>{c={[t.document_type]:parseInt(t.sequence_no)},n=Object.assign(Object.assign({},n),c)}),this.clbsSettings.document_sequence=JSON.stringify(n);for(const[i,o]of Object.entries(n))for(const[t,e]of Object.entries(n))if(i!=t&&o==e)return void this.toaster.error("Sequence should be unique");this.checkThreshold&&((null===(t=this.clbsSettings)||void 0===t?void 0:t.name)?this.http.put(`${l.a.clbsSettings}/${null===(e=this.clbsSettings)||void 0===e?void 0:e.name}`,{data:this.clbsSettings}).subscribe(t=>{(null==t?void 0:t.data)&&(this.toaster.success("Updated"),this.clbsSettings=t.data,console.log(this.clbsSettings),this.setSequenceValues())}):this.http.post(""+l.a.clbsSettings,{data:this.clbsSettings}).subscribe(t=>{(null==t?void 0:t.data)&&(this.toaster.success("Success"),this.clbsSettings=t.data,console.log(this.clbsSettings),this.setSequenceValues())}))}setSequenceValues(){var t,e;if(null===(t=this.clbsSettings)||void 0===t?void 0:t.document_sequence){let t=JSON.parse(null===(e=this.clbsSettings)||void 0===e?void 0:e.document_sequence);this.fileTypes.filter(e=>{e.sequence_no=t[e.document_type]})}}getEventsList(){this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{var e;this.filters.search=t.search||this.filters.search;const n={filters:[]};n.limit_start=(this.filters.currentPage-1)*this.filters.itemsPerPage,n.limit_page_length=this.filters.itemsPerPage,this.filters.search&&n.filters.push(["name","like",`%${null===(e=this.filters)||void 0===e?void 0:e.search}%`]),n.filters=JSON.stringify(n.filters),n.fields=JSON.stringify(["*"]),n.order_by="`tabEvents`.`creation` desc";const c=this.http.get(`${l.a.resource}/${l.b.events}`,{params:{fields:JSON.stringify(["count( `tabEvents`.`name`) AS total_count"]),filters:n.filters}}),i=this.http.get(`${l.a.resource}/${l.b.events}`,{params:n});return Object($.a)([c,i])})).subscribe(t=>{1==this.filters.currentPage&&(this.eventsList=[]);const[e,n]=t;this.filters.totalCount=e.data[0].total_count,n.data=n.data.map((t,e)=>(t&&(t.index=this.eventsList.length+e+1),t)),n.data&&(this.eventsList=1!==this.filters.currentPage?this.eventsList.concat(n.data):n.data)})}checkPagination(t){this.filters.itemsPerPage=t,this.filters.currentPage=1,this.updateRouterParams()}eventModalFunc(t,e){this.eventInfo=Object.assign({},e),this.modal.open(t,{size:"md",centered:!0})}eventFormAdd(t,e){this.http.post(`${l.a.resource}/${l.b.events}`,{data:t.value}).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getEventsList())})}eventFormEdit(t,e){this.http.put(`${l.a.resource}/${l.b.events}/${this.eventInfo.name}`,t.value).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getEventsList())})}getDocumentList(){this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{var e;this.filters_doc_types.search=t.search||this.filters_doc_types.search;const n={filters:[]};n.limit_start=(this.filters_doc_types.currentPage-1)*this.filters_doc_types.itemsPerPage,n.limit_page_length=this.filters_doc_types.itemsPerPage,this.filters_doc_types.search&&n.filters.push(["name","like",`%${null===(e=this.filters_doc_types)||void 0===e?void 0:e.search}%`]),n.filters=JSON.stringify(n.filters),n.fields=JSON.stringify(["*"]);const c=this.http.get(`${l.a.resource}/${l.b.documentTypes}`,{params:{fields:JSON.stringify(["count( `tabDocument Types`.`name`) AS total_count"]),filters:n.filters}}),i=this.http.get(`${l.a.resource}/${l.b.documentTypes}`,{params:n});return Object($.a)([c,i])})).subscribe(t=>{1==this.filters_doc_types.currentPage&&(this.documentTypeList=[]);const[e,n]=t;this.filters_doc_types.totalCount=e.data[0].total_count,n.data=n.data.map((t,e)=>(t&&(t.index=this.documentTypeList.length+e+1),t)),n.data&&(this.documentTypeList=1!==this.filters_doc_types.currentPage?this.documentTypeList.concat(n.data):n.data)})}checkPaginationDocType(t){this.filters_doc_types.itemsPerPage=t,this.filters_doc_types.currentPage=1,this.updateRouterParamsDocType()}docTypeModalFunc(t,e){this.documentTypeInfo=Object.assign({},e),this.modal.open(t,{size:"md",centered:!0})}docTypeFormAdd(t,e){this.http.post(`${l.a.resource}/${l.b.documentTypes}`,{data:t.value}).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getDocumentList())})}docTypeFormEdit(t,e){this.http.put(`${l.a.resource}/${l.b.documentTypes}/${this.documentTypeInfo.name}`,t.value).subscribe(t=>{(null==t?void 0:t.data)&&(e.close(),this.getDocumentList())})}updateRouterParamsDocType(){this.router.navigate(["clbs/clbs-settings"],{queryParams:this.filters_doc_types})}tabChange(){this.ngOnInit()}StatusDocType(t,e){this.http.put(`${l.a.resource}/${l.b.documentTypes}/${null==e?void 0:e.name}`,{doc_delete_status:e.doc_delete_status}).subscribe(t=>{t&&this.getDocumentList()})}onDrop(t){Ve(this.documentTypeList,t.previousIndex,t.currentIndex),this.documentTypeList.forEach((t,e)=>{0==t.is_editable&&(this.save_doc_type_seq=!0,t.sequence=e+1)})}saveSequence(){console.log(this.documentTypeList),this.http.post(l.a.update_document_sequence,{data:{data:this.documentTypeList}}).subscribe(t=>{var e,n;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)?(this.toaster.success(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.message),this.getDocumentList(),this.save_doc_type_seq=!1):this.toaster.error("Error")})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.a),o.bc(i.e),o.bc(m.b),o.bc(H.d),o.bc(v.k))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-settings"]],decls:42,vars:8,consts:[[1,"container-fluid"],[1,"border-bottom"],["ngbNav","",1,"nav-tabs",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],[3,"ngbNavItem"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem",4,"ngIf"],[3,"ngbNavOutlet"],["details",""],["bank_details",""],["documentSequence",""],["events",""],["document_types",""],["signature_settings",""],["eventModal",""],["docTypeModal",""],[4,"ngTemplateOutlet"],[1,"card","mt-3",2,"height","90vh","overflow","auto"],[1,"card-body"],["generalDetailsForm","ngForm"],[1,"row",2,"height","100vh"],[1,"col-lg-3","col-md-3"],[1,"form-group","input-with-label"],["for","clbs_document_preview"],["name","clbs_document_preview","id","clbs_document_preview","required","",1,"form-control",3,"ngModel","ngModelChange"],["clbs_document_preview","ngModel"],["selected","","disabled","",3,"ngValue"],["value","INDIVIDUAL"],["value","COMBINED"],["for","threshhold"],["type","text","name","threshhold","id","threshhold","appDecimaNumber","","required","",1,"form-control",3,"ngModel","ngModelChange"],["threshhold","ngModel"],["class","text-danger",4,"ngIf"],[1,"col-lg-12","col-md-12"],["for","cc_mail_ids_for_clbs_reports"],["type","text","name","cc_mail_ids_for_clbs_reports","id","cc_mail_ids_for_clbs_reports","required","",1,"form-control",3,"ngModel","ngModelChange"],["cc_mail_ids_for_clbs_reports","ngModel"],[1,"text-warn"],[1,"col-lg-12"],[1,"form-group"],["for","summary_terms_and_conditions",1,""],["id","summary_terms_and_conditions","name","summary_terms_and_conditions","required","",1,"clbs-setting-quill-editor","ql-container",3,"ngModel","ngModelChange"],["summary_terms_and_conditions","ngModel"],[1,"col-md-12","mb-2"],[1,"d-flex","justify-content-end"],["type","button",1,"btn","btn-primary","btn-sm","mb-0","text-uppercase","ml-3",3,"disabled","click"],[1,"text-danger"],[1,"card","mt-3",2,"height","80vh","overflow","auto"],["bankDetailsForm","ngForm"],[1,"row"],["for","bank_name"],["type","text","name","bank_name","id","bank_name","required","",1,"form-control",3,"ngModel","ngModelChange"],["bank_name","ngModel"],["for","bank_ac_name"],["type","text","name","bank_ac_name","id","bank_ac_name","required","",1,"form-control",3,"ngModel","ngModelChange"],["bank_ac_name","ngModel"],["for","bank_ac_number"],["type","text","name","bank_ac_number","id","bank_ac_number","required","",1,"form-control",3,"ngModel","ngModelChange"],["bank_ac_number","ngModel"],["for","ifsc_code"],["type","text","name","ifsc_code","id","ifsc_code","required","",1,"form-control",3,"ngModel","ngModelChange"],["ifsc_code","ngModel"],["for","branch_code"],["type","text","name","branch_code","id","branch_code","required","",1,"form-control",3,"ngModel","ngModelChange"],["branch_code","ngModel"],["for","micr_code"],["type","text","name","micr_code","id","micr_code","required","",1,"form-control",3,"ngModel","ngModelChange"],["micr_code","ngModel"],["for","address"],["type","text","name","address","id","address","required","",1,"form-control",3,"ngModel","ngModelChange"],["address","ngModel"],["type","button",1,"btn","btn-sm","btn-primary","mb-0","text-uppercase","ml-3",3,"click"],[1,"table-responsive","p-0","my-4","custom-table"],[1,"table","table-sm"],[1,"thead-light"],["disabled","",1,"custom-select"],["value","1"],["value","2"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"custom-select",3,"ngModel","change","ngModelChange"],[1,"row","mb-2","filter-card"],[1,"col-md-3","grid"],[1,"d-flex","align-items-center"],[1,"m-0"],["type","button",1,"btn","btn-primary","btn-sm","shadow","ml-3",3,"click"],[1,"ri-add-line"],[1,"col-md-9"],[1,"table-responsive","custom-table"],["class","d-flex justify-content-between morec",4,"ngIf"],[1,""],[1,"cursor-pointer",3,"click"],[1,"ri-pencil-line","btn-hover-gray","p-1"],[1,"d-flex","justify-content-between","morec"],[1,"text-right","px-3"],[4,"ngIf"],[1,"px-3"],["class","row no-gutters pagination",4,"ngIf"],[1,"cursor-pointer","px-2","py-1","pagination",3,"click"],[1,"row","no-gutters","pagination"],[1,"px-2","py-1","mb-0","cursor-pointer","border-right",3,"ngClass","click"],[1,"px-2","py-1","mb-0","cursor-pointer",3,"ngClass","click"],[1,"col-md-9","d-flex","align-items-end","justify-content-end"],[1,"table-responsive"],[1,"d-flex"],[1,"custom-control","custom-switch"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","name","ngClass","disabled","ngModelChange","change"],["doc_delete_status","ngModel"],[1,"custom-control-label",3,"for"],["form","ngForm"],[1,"col-3"],["for","digital_signature"],["name","digital_signature","id","digital_signature","required","",1,"custom-select",3,"ngModel","ngModelChange"],["digital_signature","ngModel"],["value","0"],["for","portal_automation"],["name","portal_automation","id","portal_automation","required","",1,"custom-select",3,"ngModel","ngModelChange"],["portal_automation","ngModel"],["hidden","","selected",""],[1,"modal-header"],["id","modal-basic-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["for","event_name"],["type","text","id","event_name","name","event_name","required","",1,"form-control",3,"ngModel","ngModelChange"],["event_name","ngModel"],[1,"mt-3","text-right"],["class","btn btn-primary btn-sm","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["for","document_type"],["type","text","id","document_type","name","document_type","required","",1,"form-control",3,"ngModel","ngModelChange"],["document_type","ngModel"]],template:function(t,e){if(1&t&&(o.hc(0,"section",0),o.hc(1,"div",1),o.hc(2,"ul",2,3),o.sc("activeIdChange",(function(t){return e.active=t}))("navChange",(function(){return e.tabChange()})),o.hc(4,"li",4),o.hc(5,"a",5),o.cd(6,"General Settings"),o.gc(),o.ad(7,rn,1,1,"ng-template",6),o.gc(),o.hc(8,"li",4),o.hc(9,"a",5),o.cd(10,"Bank Details"),o.gc(),o.ad(11,dn,1,1,"ng-template",6),o.gc(),o.hc(12,"li",4),o.hc(13,"a",5),o.cd(14,"Document Sequence"),o.gc(),o.ad(15,hn,1,1,"ng-template",6),o.gc(),o.hc(16,"li",4),o.hc(17,"a",5),o.cd(18,"Events"),o.gc(),o.ad(19,pn,1,1,"ng-template",6),o.gc(),o.hc(20,"li",4),o.hc(21,"a",5),o.cd(22,"Document Types"),o.gc(),o.ad(23,bn,1,1,"ng-template",6),o.gc(),o.ad(24,vn,4,1,"li",7),o.gc(),o.gc(),o.cc(25,"div",8),o.ad(26,On,44,9,"ng-template",null,9,o.bd),o.ad(28,In,58,14,"ng-template",null,10,o.bd),o.ad(30,Ln,27,1,"ng-template",null,11,o.bd),o.ad(32,jn,28,3,"ng-template",null,12,o.bd),o.ad(34,Yn,26,3,"ng-template",null,13,o.bd),o.ad(36,Un,32,4,"ng-template",null,14,o.bd),o.gc(),o.ad(38,Xn,17,3,"ng-template",null,15,o.bd),o.ad(40,ec,17,3,"ng-template",null,16,o.bd)),2&t){const t=o.Oc(3);o.Nb(2),o.Ec("activeId",e.active),o.Nb(2),o.Ec("ngbNavItem",1),o.Nb(4),o.Ec("ngbNavItem",2),o.Nb(4),o.Ec("ngbNavItem",3),o.Nb(4),o.Ec("ngbNavItem",4),o.Nb(4),o.Ec("ngbNavItem",5),o.Nb(4),o.Ec("ngIf","Administrator"==(null==e.loginUser?null:e.loginUser.full_name)),o.Nb(1),o.Ec("ngbNavOutlet",t)}},directives:[v.o,v.r,v.s,v.q,c.p,v.u,c.t,b.u,b.j,b.k,b.r,b.q,b.i,b.l,b.m,b.t,b.b,on.a,an.a,c.o,c.n,b.a],pipes:[c.f],styles:[".clbs-border[_ngcontent-%COMP%]{border-bottom:2px solid #f2f2f2;width:85%;position:relative;top:-15px}.card-body[_ngcontent-%COMP%]{border:1px solid #f2f2f2;border-radius:10px}.clearfix[_ngcontent-%COMP%]{cursor:pointer}.clearfix[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:.25rem}.clearfix[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{position:absolute;top:.8rem;left:.6rem}.rounded-sm[_ngcontent-%COMP%]{margin-bottom:0!important}.f-upload[_ngcontent-%COMP%]{padding:20px 10px;position:relative}.upload-btn[_ngcontent-%COMP%]{position:absolute;top:29px;padding:10px;background:#f26135;color:#fff;border-radius:3px;right:1px;margin:0;cursor:pointer}.download[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline}.nav-tabs[_ngcontent-%COMP%]{border:none;margin-top:12px}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none!important;color:#495057}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border-bottom:3px solid var(--primary)!important;color:var(--primary);font-weight:700}input.form-control[_ngcontent-%COMP%], select.custom-select[_ngcontent-%COMP%]{height:32px}.input-with-label[_ngcontent-%COMP%]{position:relative}.input-with-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-with-label[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#f5f5f5;border:none;font-size:13px}.input-with-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-with-label[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border:1px solid grey}.input-with-label[_ngcontent-%COMP%]   .attach-label[_ngcontent-%COMP%]{position:absolute;top:6px;left:8px;font-weight:700;font-size:13px}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:4px 10px;font-size:14px;border:1px solid rgba(221,218,218,.3)}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .col-md[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .col-md[_ngcontent-%COMP%]{width:30%}.wrapper[_ngcontent-%COMP%]{cursor:not-allowed}.pointer-events-none[_ngcontent-%COMP%]{pointer-events:none}.drag-handle[_ngcontent-%COMP%]{cursor:all-scroll}.cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);padding:4px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}"]}),t})();function oc(t,e){if(1&t&&(o.hc(0,"span"),o.cc(1,"ngb-progressbar",38),o.gc()),2&t){const t=o.wc(2);o.Nb(1),o.Ec("animated",!0)("title","Amend summary status")("type",100==(null==t.summaryStatus?null:t.summaryStatus.percentage)?"success":"warning")("value",null==t.summaryStatus?null:t.summaryStatus.percentage)("showValue",!0)}}function ac(t,e){if(1&t){const t=o.ic();o.hc(0,"span",39),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit;return o.wc().gotoSummaryDetails(e)})),o.cc(1,"i",40),o.gc()}2&t&&o.Ec("ngbTooltip","View")}function sc(t,e){if(1&t){const t=o.ic();o.hc(0,"span",39),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit;return o.wc().deleteSummary(e,"Deleted")})),o.cc(1,"i",41),o.gc()}2&t&&o.Ec("ngbTooltip","Delete")}function rc(t,e){if(1&t){const t=o.ic();o.hc(0,"span",39),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.wc(),c=o.Oc(81);return n.emailLogOpen(c,null==e?null:e.name)})),o.cc(1,"i",42),o.gc()}2&t&&o.Ec("ngbTooltip","Email Logs")}function lc(t,e){if(1&t){const t=o.ic();o.hc(0,"span",39),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit;return o.wc().deleteSummary(e,"Void")})),o.cc(1,"i",43),o.gc()}2&t&&o.Ec("ngbTooltip","Void")}function dc(t,e){if(1&t){const t=o.ic();o.hc(0,"span",39),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.wc(),c=o.Oc(79);return n.dispatchTempFunc(c,e)})),o.cc(1,"i",44),o.gc()}2&t&&o.Ec("ngbTooltip","Dispatch")}const gc=function(t){return{"cursor-pointer":t}},hc=function(t,e,n){return{"badge-success":t,"badge-warning":e,"badge-default":n}};function uc(t,e){if(1&t){const t=o.ic();o.hc(0,"tr",30),o.hc(1,"td",31),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.cd(2),o.gc(),o.hc(3,"td",32),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)&&"Cancelled"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.cd(4),o.gc(),o.hc(5,"td",32),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)&&"Cancelled"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.cd(6),o.gc(),o.hc(7,"td",32),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)&&"Cancelled"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.cd(8),o.gc(),o.hc(9,"td",32),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)&&"Cancelled"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.cd(10),o.gc(),o.hc(11,"td",32),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)&&"Cancelled"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.cd(12),o.gc(),o.hc(13,"td",32),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)&&"Cancelled"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.cd(14),o.xc(15,"date"),o.gc(),o.hc(16,"td",32),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc();return"Void"!==(null==n?null:n.status)&&"Cancelled"!==(null==n?null:n.status)?c.gotoSummaryDetails(n):""})),o.hc(17,"span",33),o.cd(18),o.gc(),o.ad(19,oc,2,5,"span",34),o.gc(),o.hc(20,"td",35),o.ad(21,ac,2,1,"span",36),o.ad(22,sc,2,1,"span",36),o.ad(23,rc,2,1,"span",36),o.ad(24,lc,2,1,"span",36),o.ad(25,dc,2,1,"span",37),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index,c=o.wc();o.Ec("ngClass",o.Ic(19,gc,"Void"!==(null==t?null:t.status)&&"Cancelled"!==(null==t?null:t.status))),o.Nb(2),o.ed(" ",n+1," "),o.Nb(2),o.dd(null==t?null:t.name),o.Nb(2),o.dd(null==t?null:t.summary_title),o.Nb(2),o.dd(null==t?null:t.event_type),o.Nb(2),o.dd(null==t?null:t.tax_payer_details),o.Nb(2),o.dd(null==t?null:t.between_dates),o.Nb(2),o.dd(o.zc(15,16,null==t?null:t.creation,"medium")),o.Nb(3),o.Ec("ngClass",o.Kc(21,hc,"Submitted"==(null==t?null:t.status),"Void"==(null==t?null:t.status),"Draft"==(null==t?null:t.status))),o.Nb(1),o.dd(null==t?null:t.status),o.Nb(1),o.Ec("ngIf",(null==t?null:t.name)==(null==c.summaryStatus?null:c.summaryStatus.summary)&&c.showProgress),o.Nb(2),o.Ec("ngIf","Void"!==(null==t?null:t.status)&&"Cancelled"!==(null==t?null:t.status)),o.Nb(1),o.Ec("ngIf","Draft"==(null==t?null:t.status)||"Void"==(null==t?null:t.status)),o.Nb(1),o.Ec("ngIf","Submitted"==(null==t?null:t.status)),o.Nb(1),o.Ec("ngIf","Submitted"==(null==t?null:t.status)),o.Nb(1),o.Ec("ngIf","Submitted"==(null==t?null:t.status))}}function pc(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"p",49),o.sc("click",(function(){o.Qc(t);const e=o.wc(2);return e.filters.start=e.summariList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.ec()}}const mc=function(t){return{"bg-count":t}};function bc(t,e){if(1&t){const t=o.ic();o.hc(0,"div",50),o.hc(1,"p",51),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(20)})),o.cd(2,"20"),o.gc(),o.hc(3,"p",51),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(50)})),o.cd(4,"50"),o.gc(),o.hc(5,"p",51),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(100)})),o.cd(6,"100"),o.gc(),o.hc(7,"p",52),o.sc("click",(function(){return o.Qc(t),o.wc(2).checkPagination(500)})),o.cd(8,"500"),o.gc(),o.gc()}if(2&t){const t=o.wc(2);o.Nb(1),o.Ec("ngClass",o.Ic(4,mc,20==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(6,mc,50==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(8,mc,100==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(10,mc,500==t.filters.itemsPerPage))}}function fc(t,e){if(1&t&&(o.hc(0,"div",45),o.hc(1,"div",46),o.ad(2,pc,3,0,"ng-container",34),o.gc(),o.hc(3,"div",47),o.ad(4,bc,9,12,"div",48),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(2),o.Ec("ngIf",t.summariList.length<t.filters.totalCount),o.Nb(2),o.Ec("ngIf",t.summariList.length>t.filters.itemsPerPage)}}function _c(t,e){1&t&&(o.hc(0,"small",75),o.cd(1,"* Required"),o.gc())}function vc(t,e){1&t&&(o.hc(0,"small",75),o.cd(1,"* Required"),o.gc())}function yc(t,e){1&t&&(o.hc(0,"small",75),o.cd(1,"* Required"),o.gc())}function Cc(t,e){1&t&&(o.hc(0,"button",76),o.cd(1,"Add"),o.gc())}function Pc(t,e){if(1&t){const t=o.ic();o.hc(0,"div",53),o.hc(1,"h5",54),o.cd(2,"Dispatch Info"),o.gc(),o.hc(3,"button",55),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",56),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",57),o.hc(7,"form",58,59),o.sc("ngSubmit",(function(){o.Qc(t);const n=e.$implicit,c=o.Oc(8);return o.wc().dispatchFormAdd(c,n)})),o.hc(9,"div",60),o.hc(10,"label",61),o.cd(11,"Courier Service Name"),o.gc(),o.hc(12,"input",62,63),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().dispatchInfo.courier_service=e})),o.gc(),o.ad(14,_c,2,0,"small",64),o.gc(),o.hc(15,"div",60),o.hc(16,"label",65),o.cd(17,"Tracking Id"),o.gc(),o.hc(18,"input",66,67),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().dispatchInfo.tracking_id=e})),o.gc(),o.ad(20,vc,2,0,"small",64),o.gc(),o.hc(21,"div",60),o.hc(22,"label",68),o.cd(23,"Dispatch Date"),o.gc(),o.hc(24,"input",69,70),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().dispatchInfo.dispatch_date=e})),o.gc(),o.cc(26,"owl-date-time",71,72),o.ad(28,yc,2,0,"small",64),o.gc(),o.hc(29,"div",73),o.ad(30,Cc,2,0,"button",74),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(8),e=o.Oc(13),n=o.Oc(19),c=o.Oc(25),i=o.Oc(27),a=o.wc();o.Nb(12),o.Ec("ngModel",a.dispatchInfo.courier_service)("disabled",null==a.dispatchInfo?null:a.dispatchInfo.name),o.Nb(2),o.Ec("ngIf",e.invalid&&t.submitted),o.Nb(4),o.Ec("ngModel",a.dispatchInfo.tracking_id)("disabled",null==a.dispatchInfo?null:a.dispatchInfo.name),o.Nb(2),o.Ec("ngIf",n.invalid&&t.submitted),o.Nb(4),o.Ec("ngModel",a.dispatchInfo.dispatch_date)("owlDateTime",i)("owlDateTimeTrigger",i)("min",a.minDispatchDate)("disabled",null==a.dispatchInfo?null:a.dispatchInfo.name),o.Nb(2),o.Ec("pickerType","calendar"),o.Nb(2),o.Ec("ngIf",c.invalid&&t.submitted),o.Nb(2),o.Ec("ngIf",!(null!=a.dispatchInfo&&a.dispatchInfo.name))}}const Oc=function(){return["MMM d y h:mm a"]};function Mc(t,e){if(1&t&&(o.hc(0,"ul",82),o.fc(1),o.hc(2,"li"),o.hc(3,"p",83),o.cd(4),o.gc(),o.hc(5,"p"),o.cd(6),o.xc(7,"date"),o.gc(),o.cc(8,"hr"),o.gc(),o.ec(),o.gc()),2&t){const t=e.$implicit,n=o.wc().$implicit;o.Nb(4),o.dd(t),o.Nb(2),o.dd(o.zc(7,2,n.creation,o.Hc(5,Oc)))}}function xc(t,e){if(1&t&&(o.hc(0,"div",80),o.fc(1),o.ad(2,Mc,9,6,"ul",81),o.ec(),o.gc()),2&t){const t=e.$implicit;o.Nb(2),o.Ec("ngForOf",t.emails)}}function wc(t,e){if(1&t&&(o.hc(0,"div",53),o.hc(1,"h5",54),o.cd(2,"Email Log"),o.gc(),o.hc(3,"button",55),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",56),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",77),o.hc(7,"div",78),o.ad(8,xc,3,1,"div",79),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(8),o.Ec("ngForOf",t.emailLogs)}}const Dc=function(){return["/clbs/create-summary"]};class kc{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search="",this.taxpayer="",this.summaryId="",this.status=""}}let Nc=(()=>{class t{constructor(t,e,n,c,i,a,s){this.router=t,this.http=e,this.activatedRoute=n,this.dateTimeAdapter=c,this.toastr=i,this.modal=a,this.socketService=s,this.destroyEvents=new o.q,this.filters=new kc,this.onSearch=new o.q,this.hideShow=!1,this.summariList=[],this.taxpayerList=[],this.dispatchInfo={},this.seletedSummary={},this.summaryStatus={},this.showProgress=!1,c.setLocale("en-IN")}ngOnInit(){var t,e;this.companyDetails=JSON.parse(localStorage.getItem("company")),this.filters.itemsPerPage=null===(t=this.companyDetails)||void 0===t?void 0:t.items_per_page,this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{t&&(""!==(null==t?void 0:t.taxpayer)?(this.getTaxPayerBySearch(null==t?void 0:t.taxpayer),this.summariList=[]):this.getTaxPayerList(),this.filters.start=0,this.filters.totalCount=0,this.updateRouterParams())}),null===(e=this.socketService.summaryData)||void 0===e||e.pipe(Object(ye.a)(this.destroyEvents)).pipe(Object(d.a)(300)).subscribe(t=>{var e,n,c;"Summary Created"==(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.message)&&(this.summaryStatus=t.message,this.showProgress=!0,this.getSummariesList()),"Amendment Processing"==(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.message)&&(this.summaryStatus=t.message),"Amendment Completed"==(null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.message)&&(this.summaryStatus=t.message,setTimeout(()=>{this.showProgress=!1},500))}),this.activatedRoute.queryParams.subscribe(t=>{t&&(this.filters.search=t.search,this.filters.taxpayer=t.taxpayer)}),this.getSummariesList(),this.getTaxPayerList()}getSummariesList(){this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{var e,n,c,i,o,a,s;this.filters.search=t.search||this.filters.search,this.filters.taxpayer=t.taxpayer||this.filters.taxpayer;const r={filters:[["status","!=","Deleted"]]};r.limit_start=(this.filters.currentPage-1)*this.filters.itemsPerPage,r.limit_page_length=this.filters.itemsPerPage,this.filters.search&&r.filters.push(["summary_title","like",`%${null===(e=this.filters)||void 0===e?void 0:e.search}%`]),(null===(n=this.filters)||void 0===n?void 0:n.taxpayer)&&r.filters.push(["tax_payer_details","like",`%${null===(c=this.filters)||void 0===c?void 0:c.taxpayer}%`]),(null===(i=this.filters)||void 0===i?void 0:i.summaryId)&&r.filters.push(["name","like",`%${null===(o=this.filters)||void 0===o?void 0:o.summaryId}%`]),(null===(a=this.filters)||void 0===a?void 0:a.status)&&r.filters.push(["status","like",`%${null===(s=this.filters)||void 0===s?void 0:s.status}%`]),r.filters=JSON.stringify(r.filters),r.fields=JSON.stringify(["*"]),r.order_by="`tabSummaries`.`creation` desc";const d=this.http.get(`${l.a.resource}/${l.b.summaries}`,{params:{fields:JSON.stringify(["count( `tabSummaries`.`name`) AS total_count"]),filters:r.filters}}),g=this.http.get(`${l.a.resource}/${l.b.summaries}`,{params:r});return Object($.a)([d,g])})).subscribe(t=>{1==this.filters.currentPage&&(this.summariList=[]);const[e,n]=t;this.filters.totalCount=e.data[0].total_count,n.data=n.data.map((t,e)=>(t&&(t.index=this.summariList.length+e+1),t)),n.data&&(this.summariList=1!==this.filters.currentPage?this.summariList.concat(n.data):n.data)})}gotoSummaryDetails(t){this.router.navigate(["./clbs/summary-details/"+t.name])}updateRouterParams(){this.router.navigate(["clbs/summaries"],{queryParams:this.filters})}checkPagination(t){this.filters.itemsPerPage=t,this.filters.currentPage=1,this.updateRouterParams()}inputfocus(){document.getElementsByClassName("paragraphClass")[0].style.display="block"}inputblur(){const t=document.getElementsByClassName("paragraphClass");setTimeout(()=>{t[0].style.display="none"},200)}getTaxPayerList(){this.http.get(`${l.a.resource}/${l.b.taxPayers}`,{params:{fields:JSON.stringify(["*"]),limit_page_length:"None"}}).subscribe(t=>{t.data&&(this.taxpayerList=null==t?void 0:t.data)})}getTaxPayerBySearch(t){const e={filters:[]};t&&(e.filters.push(["gst_number","like",`%${t}%`]),e.fields=JSON.stringify(["*"])),e.filters=JSON.stringify(e.filters),this.http.get(l.a.taxPayerDefault,{params:e}).subscribe(t=>{(null==t?void 0:t.data)&&(this.taxpayerList=t.data)})}deleteSummary(t,e){if(!window.confirm(`Are you sure to ${"Void"===e?"void":"delete"} summary ${t.name} ?`))return null;this.http.get(""+l.a.delete_summary,{params:{name:t.name,status:e}}).subscribe(t=>{var e,n;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)&&(this.toastr.success(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.message),this.getSummariesList())})}dispatchTempFunc(t,e){this.seletedSummary=e,(null==e?void 0:e.name)?this.getDispatchDetails(e,t):(this.dispatchInfo={},this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu30"}))}getDispatchDetails(t,e){console.log(t);let n=new Date(t.modified);this.minDispatchDate=new Date(n.getFullYear(),n.getMonth(),n.getDate());const c={filters:JSON.stringify([["summaries","=",null==t?void 0:t.name]]),fields:JSON.stringify(["*"])};this.http.get(`${l.a.resource}/${l.b.dispatchInfo}`,{params:c}).subscribe(t=>{(null==t?void 0:t.data.length)?(this.dispatchInfo=null==t?void 0:t.data[0],this.modal.open(e,{size:"md",centered:!0,windowClass:"sideMenu30"})):(this.dispatchInfo={},this.modal.open(e,{size:"md",centered:!0,windowClass:"sideMenu30"}))})}dispatchFormAdd(t,e){var n;if(t.form.valid){let c=t.value;c.dispatch_date=p()(t.value.dispatch_date).format("YYYY/MM/DD");let i=Object.assign(Object.assign({},c),{summaries:null===(n=this.seletedSummary)||void 0===n?void 0:n.name});this.http.post(`${l.a.resource}/${l.b.dispatchInfo}`,{data:i}).subscribe(t=>{t&&(this.toastr.success("Success"),e.close("success"))})}}dispatchFormEdit(t,e){var n,c;if(t.form.valid){let i=Object.assign(Object.assign({},t.value),{summaries:null===(n=this.seletedSummary)||void 0===n?void 0:n.name});this.http.put(`${l.a.resource}/${l.b.dispatchInfo}/${null===(c=this.dispatchInfo)||void 0===c?void 0:c.name}`,{data:i}).subscribe(t=>{t&&(this.toastr.success("Success"),e.close("success"))})}}emailLogOpen(t,e){this.getEmailLogs(e),this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu"})}getEmailLogs(t){let e={summary:t,fields:JSON.stringify(["*"])};this.http.get(""+l.a.email_tracking,{params:e}).subscribe(t=>{if(null==t?void 0:t.data){let e=null==t?void 0:t.data.map(t=>(t.emails&&(t.emails=JSON.parse(t.emails)),t));this.emailLogs=e,console.log(this.emailLogs)}})}ngOnDestroy(){this.summaryStatus={},this.showProgress=!1,this.destroyEvents.next(),this.destroyEvents.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(o.bc(i.e),o.bc(m.b),o.bc(i.a),o.bc(_.a),o.bc(H.d),o.bc(v.k),o.bc(k.a))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-summaries"]],decls:82,vars:9,consts:[[1,"container-fluid","h-100vh"],[1,"row","py-3","filter-card","shadow-sm"],[1,"col-md-5","grid"],[1,"d-flex","align-items-center"],[1,"m-0"],["type","button","appPermissionButton","","accessType","create",1,"btn","btn-primary","btn-sm","shadow","ml-3",3,"routerLink"],[1,"ri-add-line","btn-hover-gray"],[1,"card","row","mt-3","list-table","shadow-sm"],[1,"col-md-12","p-0"],[1,"table-responsive"],[1,"table","table-hover"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ri-search-line"],["type","search",1,"form-control",3,"ngModel","ngModelChange","keyup","search","keyup.enter"],["idInp",""],["summaryInp",""],["taxpayerInp",""],[1,"form-group","mb-0"],["id","summaryStatus",1,"custom-select",3,"ngModel","ngModelChange","change"],["value",""],["value","Submitted"],["value","Draft"],["value","Cancelled"],["value","Void"],["class","summary-table-tr",3,"ngClass",4,"ngFor","ngForOf"],["class","d-flex justify-content-between morec",4,"ngIf"],["dispatchTemp",""],["emailLog",""],[1,"summary-table-tr",3,"ngClass"],[1,"text-center",3,"click"],[3,"click"],[1,"badge",3,"ngClass"],[4,"ngIf"],[1,""],["class","actions  cursor-pointer",3,"ngbTooltip","click",4,"ngIf"],["class","actions cursor-pointer",3,"ngbTooltip","click",4,"ngIf"],["textType","white",3,"animated","title","type","value","showValue"],[1,"actions","cursor-pointer",3,"ngbTooltip","click"],[1,"ri-eye-line","btn-hover-gray","p-1"],[1,"ri-delete-bin-line","btn-hover-gray","p-1"],[1,"ri-mail-send-line","btn-hover-gray","p-1"],[1,"ri-creative-commons-zero-line","btn-hover-gray","p-1"],[1,"ri-truck-line","btn-hover-gray","p-1"],[1,"d-flex","justify-content-between","morec"],[1,"text-right","px-3"],[1,"px-3"],["class","row no-gutters pagination",4,"ngIf"],[1,"cursor-pointer","px-2","py-1","pagination",3,"click"],[1,"row","no-gutters","pagination"],[1,"px-2","py-1","mb-0","cursor-pointer","border-right",3,"ngClass","click"],[1,"px-2","py-1","mb-0","cursor-pointer",3,"ngClass","click"],[1,"modal-header"],["id","modal-basic-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit"],["form","ngForm"],[1,"form-group"],["for","courier_service"],["type","text","id","courier_service","name","courier_service","required","",1,"form-control","bg-input",3,"ngModel","disabled","ngModelChange"],["courier_service","ngModel"],["class","text-danger",4,"ngIf"],["for","tracking_id"],["type","text","id","tracking_id","name","tracking_id","required","",1,"form-control","bg-input",3,"ngModel","disabled","ngModelChange"],["tracking_id","ngModel"],["for","dispatch_date"],["id","dispatch_date","name","dispatch_date","placeholder","dd/mm/yyyy","required","",1,"form-control","h-auto","bg-input",3,"ngModel","owlDateTime","owlDateTimeTrigger","min","disabled","ngModelChange"],["dispatch_date","ngModel"],[3,"pickerType"],["dt1",""],[1,"mt-3","text-right"],["class","btn btn-primary btn-sm","type","submit",4,"ngIf"],[1,"text-danger"],["type","submit",1,"btn","btn-primary","btn-sm"],[1,"modal-body","px-0"],[1,"activity-feed"],["class","feed-item",4,"ngFor","ngForOf"],[1,"feed-item"],["class","timeline pb-2",4,"ngFor","ngForOf"],[1,"timeline","pb-2"],[1,"m-0","font-weight-bold"]],template:function(t,e){1&t&&(o.hc(0,"div",0),o.hc(1,"section"),o.hc(2,"div",1),o.hc(3,"div",2),o.hc(4,"div",3),o.hc(5,"h6",4),o.hc(6,"b"),o.cd(7),o.gc(),o.gc(),o.hc(8,"button",5),o.hc(9,"b"),o.cc(10,"i",6),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(11,"div",7),o.hc(12,"div",8),o.hc(13,"div",9),o.hc(14,"table",10),o.hc(15,"thead"),o.hc(16,"tr"),o.hc(17,"th"),o.cd(18,"#"),o.gc(),o.hc(19,"th"),o.cd(20,"Summary ID"),o.gc(),o.hc(21,"th"),o.cd(22,"Summary"),o.gc(),o.hc(23,"th"),o.cd(24,"Type"),o.gc(),o.hc(25,"th"),o.cd(26,"Company"),o.gc(),o.hc(27,"th"),o.cd(28,"Date"),o.gc(),o.hc(29,"th"),o.cd(30,"Generated On"),o.gc(),o.hc(31,"th"),o.cd(32,"Status"),o.gc(),o.hc(33,"th"),o.cd(34,"Actions"),o.gc(),o.gc(),o.hc(35,"tr"),o.cc(36,"td"),o.hc(37,"td"),o.hc(38,"div",11),o.hc(39,"div",12),o.hc(40,"span",13),o.cc(41,"i",14),o.gc(),o.gc(),o.hc(42,"input",15,16),o.sc("ngModelChange",(function(t){return e.filters.summaryId=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.gc(),o.gc(),o.hc(44,"td"),o.hc(45,"div",11),o.hc(46,"div",12),o.hc(47,"span",13),o.cc(48,"i",14),o.gc(),o.gc(),o.hc(49,"input",15,17),o.sc("ngModelChange",(function(t){return e.filters.search=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.gc(),o.gc(),o.cc(51,"td"),o.hc(52,"td"),o.hc(53,"div",11),o.hc(54,"div",12),o.hc(55,"span",13),o.cc(56,"i",14),o.gc(),o.gc(),o.hc(57,"input",15,18),o.sc("ngModelChange",(function(t){return e.filters.taxpayer=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.gc(),o.gc(),o.cc(59,"td"),o.cc(60,"td"),o.hc(61,"td"),o.hc(62,"div",19),o.hc(63,"select",20),o.sc("ngModelChange",(function(t){return e.filters.status=t}))("change",(function(){return e.onSearch.emit(e.filters)})),o.hc(64,"option",21),o.cd(65,"Showing all"),o.gc(),o.hc(66,"option",22),o.cd(67,"Submitted"),o.gc(),o.hc(68,"option",23),o.cd(69,"Draft"),o.gc(),o.hc(70,"option",24),o.cd(71,"Cancelled"),o.gc(),o.hc(72,"option",25),o.cd(73,"Void"),o.gc(),o.gc(),o.gc(),o.gc(),o.cc(74,"td"),o.gc(),o.gc(),o.hc(75,"tbody"),o.ad(76,uc,26,25,"tr",26),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(77,fc,5,2,"div",27),o.gc(),o.ad(78,Pc,31,14,"ng-template",null,28,o.bd),o.ad(80,wc,9,1,"ng-template",null,29,o.bd),o.gc()),2&t&&(o.Nb(7),o.ed("Summaries (",e.filters.totalCount,")"),o.Nb(1),o.Ec("routerLink",o.Hc(8,Dc)),o.Nb(34),o.Ec("ngModel",e.filters.summaryId),o.Nb(7),o.Ec("ngModel",e.filters.search),o.Nb(8),o.Ec("ngModel",e.filters.taxpayer),o.Nb(6),o.Ec("ngModel",e.filters.status),o.Nb(13),o.Ec("ngForOf",e.summariList),o.Nb(1),o.Ec("ngIf",e.summariList.length))},directives:[y.a,i.f,b.b,b.i,b.l,b.r,b.m,b.t,c.o,c.p,c.n,v.y,v.A,b.u,b.j,b.k,b.q,_.d,_.f,_.c],pipes:[c.f],styles:['.container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}.max-100[_ngcontent-%COMP%]{max-width:230px}.badge-warning[_ngcontent-%COMP%]:after{background:#bd5858}.c-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,2fr);gap:10px}.c-grid[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{width:100%;border:1px solid #c2c2c2}.d-card[_ngcontent-%COMP%]{border-top:1px solid #eee;position:absolute;width:100%;bottom:0;background:#fff;box-shadow:0 -4px 4px rgba(0,0,0,.15);padding:10px}.d-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:13px}.d-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px}.d-card[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{border-radius:0;font-size:13px;color:#fff3f3;background:#23434f;border:0;margin-top:5px}.d-card[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border-radius:0;font-size:12px;color:#fff3f3;border:1px solid #23434f;margin-top:5px;color:#292929}.d-card[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:transparent}.filter-card[_ngcontent-%COMP%]{background:#f5f7f9}.filter-card[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;border:1px solid #d3d0d0;box-shadow:0 4px 4px rgba(0,0,0,.1);border-radius:4px;font-size:20px;padding:0 8px;margin-right:10px}.filter-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#faf4e8;border:1px solid #cfcccc;font-size:13px;border-radius:0;height:37px}.summary[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fffefb;border:1px solid #cfcccc;box-sizing:border-box;box-shadow:0 4px 4px rgba(0,0,0,.1);border-radius:4px;font-size:13px}.sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{height:46px;line-height:46px;background:linear-gradient(90deg,rgba(240,242,243,.3215686274509804),rgba(240,242,243,.20392156862745098));margin-bottom:10px;padding:0 10px;font-weight:600;border-radius:6px 0 0 6px;font-size:15px;width:165px;cursor:pointer;color:#fff;position:relative}.sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]:after{position:absolute;content:"";width:0;height:0;border-color:transparent transparent transparent rgba(240,242,243,.20392156862745098);border-style:solid;border-width:23px 0 23px 46px;right:-46px}.sideNav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{color:#fff;font-size:15px;padding:10px;cursor:pointer}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;font-weight:600;font-size:14px;box-shadow:none;padding:10px 40px 10px 10px;line-height:1}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]:active{box-shadow:none}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;background:#ad8b3a;position:absolute;display:block;left:6px;color:#fff;top:8px;text-align:center;line-height:32px;border-radius:50%}.bg-c[_ngcontent-%COMP%]{background:hsla(0,0%,93.3%,.712)!important}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.sideNav[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{background:transparent;margin-bottom:10px;border:0}.sideNav[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]{padding:0!important;color:#fff;background:transparent;border:0!important}.sideNav[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{display:block!important;width:100%;text-align:left;color:#fff;font-size:15px;box-shadow:none!important;border:0!important;text-decoration:none!important}i[_ngcontent-%COMP%]{vertical-align:middle!important}.sideNav[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px 20px 0}.sideNav[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:5px;background:transparent;color:#fff;border-radius:4px;margin-bottom:10px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}.success[_ngcontent-%COMP%]{background:#0bd72e;color:#fff;padding:5px 10px;font-weight:400!important}.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px}.warning[_ngcontent-%COMP%]{background:#0aa7f0;color:#fff;padding:5px 10px;font-weight:400!important}.warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:13px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:.3rem!important}.custom-select[_ngcontent-%COMP%]{font-size:13px;height:37px}.table-responsive[_ngcontent-%COMP%]{max-height:82vh}.pagination[_ngcontent-%COMP%]{border:1px solid #d3d3d3}.bg-count[_ngcontent-%COMP%]{background-color:#ffd3d3!important;font-weight:700}.morec[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}.input-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:1;width:17rem;background:#fafafa}ul[_ngcontent-%COMP%]{overflow-y:scroll;max-height:15rem}.paragraphClass[_ngcontent-%COMP%]{display:none}select[_ngcontent-%COMP%]:disabled{background:#ddd!important;color:#000!important}.status[_ngcontent-%COMP%]{background-color:#f8c5c5}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#444;font-size:14px}.bg-gray[_ngcontent-%COMP%]{background:#f9f9f9}.custom-select[_ngcontent-%COMP%]{height:30px!important}.bg-input[_ngcontent-%COMP%]{background:#f5f5f5!important;border:none}.bg-input[_ngcontent-%COMP%]:focus{border:1px solid grey!important}ul.timeline[_ngcontent-%COMP%]{list-style-type:none;position:relative;margin-bottom:0;padding-bottom:25px;padding-right:30px;overflow:hidden}ul.timeline[_ngcontent-%COMP%]:before{content:" ";background:#d4d9df;display:inline-block;position:absolute;left:29px;width:1px;height:100%;z-index:400}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin:0;padding-left:10px;font-size:13px}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{background:#fff;border-radius:50%;border:1px solid #d4d9df;left:20px;width:20px;height:20px}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after, ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:" ";display:inline-block;position:absolute;z-index:400}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after{background:#f26135;border-radius:50%;border:none;left:27px;top:7px;width:6px;height:6px}']}),t})(),Sc=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Vb({type:t,selectors:[["app-summary-details-view"]],decls:150,vars:0,consts:[[1,"container-fluid"],[1,"card"],[1,"d-flex","justify-content-between","border","p-2"],[1,"d-flex"],[1,"m-auto","d-flex","justify-content-center","border-dots","logo-div","cursor-pointer"],[1,"align-self-center","font-weight-bold"],[1,"m-5"],[1,"ri-edit-box-line","cursor-pointer"],[1,"card-body"],[1,"row","mx-0","my-3"],[1,"col-6","border","p-2"],[1,"editbtn"],[1,"my-2","py-2","text-center","bg-light","border-dots","cursor-pointer","font-weight-bold"],[1,"table","border","my-3"],["colspan","5",1,"p-0","table-add"],[1,"m-0","py-2","text-center","border-dots","cursor-pointer","font-weight-bold"],[1,"col-6","border","p-4"],[1,"col-3","offset-3","border","p-4"],[1,"m-auto","d-flex","justify-content-center","border-dots","signature-div","cursor-pointer"]],template:function(t,e){1&t&&(o.hc(0,"div",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div",3),o.hc(4,"div"),o.hc(5,"h5"),o.cd(6,"Logo"),o.gc(),o.hc(7,"div",4),o.hc(8,"div",5),o.hc(9,"p"),o.cd(10,"+ADD"),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(11,"div"),o.hc(12,"h4",6),o.cd(13,"Name "),o.cc(14,"i",7),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(15,"div",1),o.hc(16,"div",8),o.hc(17,"div",9),o.hc(18,"div",10),o.hc(19,"h5"),o.cd(20,"Company Details"),o.gc(),o.cd(21," Guest Name :djfilsdjfl "),o.cc(22,"br"),o.cd(23," Guest Name :djfilsdjfl "),o.cc(24,"br"),o.cd(25," Guest Name :djfilsdjfl "),o.cc(26,"br"),o.cd(27," Guest Name :djfilsdjfl "),o.cc(28,"br"),o.cd(29," Guest Name :djfilsdjfl "),o.cc(30,"br"),o.cd(31," Guest Name :djfilsdjfl "),o.cc(32,"br"),o.cd(33," Guest Name :djfilsdjfl "),o.cc(34,"br"),o.cd(35," Guest Name :djfilsdjfl "),o.cc(36,"br"),o.cd(37," Guest Name :djfilsdjfl "),o.cc(38,"br"),o.cd(39," Guest Name :djfilsdjfl "),o.hc(40,"div",11),o.cc(41,"i",7),o.gc(),o.hc(42,"p",12),o.cd(43,"+ ADD"),o.gc(),o.gc(),o.hc(44,"div",10),o.hc(45,"h5"),o.cd(46,"Tax Payer Details"),o.gc(),o.cd(47," Guest Name :djfilsdjfl "),o.cc(48,"br"),o.cd(49," Guest Name :djfilsdjfl "),o.cc(50,"br"),o.cd(51," Guest Name :djfilsdjfl "),o.cc(52,"br"),o.cd(53," Guest Name :djfilsdjfl "),o.cc(54,"br"),o.cd(55," Guest Name :djfilsdjfl "),o.cc(56,"br"),o.cd(57," Guest Name :djfilsdjfl "),o.cc(58,"br"),o.cd(59," Guest Name :djfilsdjfl "),o.cc(60,"br"),o.cd(61," Guest Name :djfilsdjfl "),o.cc(62,"br"),o.cd(63," Guest Name :djfilsdjfl "),o.cc(64,"br"),o.cd(65," Guest Name :djfilsdjfl "),o.hc(66,"div",11),o.cc(67,"i",7),o.gc(),o.hc(68,"p",12),o.cd(69,"+ ADD"),o.gc(),o.gc(),o.gc(),o.hc(70,"table",13),o.hc(71,"thead"),o.hc(72,"tr"),o.hc(73,"th"),o.cd(74,"Data"),o.gc(),o.hc(75,"th"),o.cd(76,"Description"),o.gc(),o.hc(77,"th"),o.cd(78,"refernve"),o.gc(),o.hc(79,"th"),o.cd(80,"Debit"),o.gc(),o.hc(81,"th"),o.cd(82,"Credit"),o.gc(),o.gc(),o.gc(),o.hc(83,"tbody"),o.hc(84,"tr"),o.hc(85,"td"),o.cd(86,"jkdldkd"),o.gc(),o.hc(87,"td"),o.cd(88,"djdksdksk"),o.gc(),o.hc(89,"td"),o.cd(90,"sdkfklslf"),o.gc(),o.hc(91,"td"),o.cd(92,"ljfsldfjljd"),o.gc(),o.hc(93,"td"),o.cd(94,"jdfjsdkf"),o.gc(),o.gc(),o.hc(95,"tr"),o.hc(96,"td",14),o.hc(97,"p",15),o.cd(98,"+ ADD"),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(99,"div",9),o.hc(100,"div",16),o.hc(101,"h6"),o.cd(102,"Terms and Conditions"),o.gc(),o.hc(103,"p"),o.cd(104,"Chagas disease is a parasitic disease which occurs in the Americas, particularly in South America. It is caused by a protozoan named Trypanosoma cruzi (pictured), which is transmitted to humans and other mammals primarily by blood-drinking insects of the subfamily Triatominae. Other forms of transmission are possible, such as ingestion of food contaminated with T. cruzi, blood transfusion and maternal\u2013fetal transmission. After an initial stage of infection that is usually mild or asymptomatic, untreated individuals enter the chronic phase of the disease. People with chronic Chagas disease may develop organ dysfunction, which most commonly involves the heart or the digestive system. Chagas disease can be treated using the antiparasitic drugs benznidazole and nifurtimox, which are most effective in the early stage of infection. It is estimated that 6.5 million people worldwide ar "),o.gc(),o.hc(105,"div",11),o.cc(106,"i",7),o.gc(),o.hc(107,"p",12),o.cd(108,"+ ADD"),o.gc(),o.gc(),o.hc(109,"div",16),o.hc(110,"h5"),o.cd(111,"Payment Details"),o.gc(),o.hc(112,"p"),o.cd(113,"sjflksjdlfjsljfljsdflj"),o.gc(),o.hc(114,"p"),o.cd(115,"jksdflslfjsdfkj"),o.gc(),o.hc(116,"p"),o.cd(117,"sj,fnklsdflsdlfjlsdj"),o.gc(),o.hc(118,"p"),o.cd(119,"sjdflksdjf"),o.gc(),o.hc(120,"p"),o.cd(121,"slamflmdlf"),o.gc(),o.hc(122,"div",11),o.cc(123,"i",7),o.gc(),o.hc(124,"p",12),o.cd(125,"+ ADD"),o.gc(),o.gc(),o.gc(),o.hc(126,"div",9),o.hc(127,"div",16),o.hc(128,"h6"),o.cd(129,"Bank Details"),o.gc(),o.hc(130,"p"),o.cd(131," Bank Name :jaskjkdj "),o.cc(132,"br"),o.cd(133," Branch : sdlasdlaso "),o.cc(134,"br"),o.cd(135," Address : kjsdnkjsdfjsdfj "),o.gc(),o.hc(136,"div",11),o.cc(137,"i",7),o.gc(),o.hc(138,"p",12),o.cd(139,"+ ADD"),o.gc(),o.gc(),o.hc(140,"div",17),o.hc(141,"h5"),o.cd(142,"Signature"),o.gc(),o.hc(143,"div"),o.hc(144,"div",18),o.hc(145,"div",5),o.hc(146,"p"),o.cd(147,"+ADD"),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(148,"div",11),o.cc(149,"i",7),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc())},styles:[".border-dots[_ngcontent-%COMP%]{border:1px dotted;border-radius:3px}.editbtn[_ngcontent-%COMP%]{position:absolute;top:4px;right:7px}table[_ngcontent-%COMP%]   .table-add[_ngcontent-%COMP%]{padding:0!important}.signature-div[_ngcontent-%COMP%]{height:200px;width:200px}.logo-div[_ngcontent-%COMP%]{height:100px;width:100px}"]}),t})();var Ic=n("mrSG"),Ec=n("4Zil"),Tc=n("ri1R"),Lc=n("ITC6");function $c(t,e){if(1&t){const t=o.ic();o.hc(0,"button",28),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(35);return e.addDocuments(n)})),o.hc(1,"strong"),o.cc(2,"i",29),o.cd(3," Add "),o.gc(),o.gc()}}function Ac(t,e){}function Fc(t,e){}function Rc(t,e){if(1&t){const t=o.ic();o.hc(0,"li",9),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=e.index;return o.wc().onChangeCategory(n,c+1)})),o.hc(1,"a",10),o.cd(2),o.gc(),o.ad(3,Fc,0,0,"ng-template",11),o.gc()}if(2&t){const t=e.$implicit;o.Ec("ngbNavItem",e.index+1),o.Nb(2),o.dd(null==t?null:t.document_type)}}const qc=function(t){return{selected:t}};function jc(t,e){if(1&t){const t=o.ic();o.hc(0,"li",30),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc().onChangeTab(n)})),o.hc(1,"div"),o.hc(2,"div",31),o.hc(3,"div",32),o.hc(4,"p",33),o.cd(5),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=o.wc();o.Nb(3),o.Ec("ngClass",o.Ic(2,qc,(null==n.openedDoc?null:n.openedDoc.name)==(null==t?null:t.name))),o.Nb(2),o.dd((null==t?null:t.invoice_number)||(null==t?null:t.document_name))}}function zc(t,e){1&t&&(o.hc(0,"div",34),o.hc(1,"div",35),o.hc(2,"div",36),o.hc(3,"span"),o.hc(4,"b"),o.cd(5,"No Data Found"),o.gc(),o.gc(),o.gc(),o.gc(),o.gc())}function Qc(t,e){if(1&t){const t=o.ic();o.hc(0,"button",37),o.sc("click",(function(){return o.Qc(t),o.wc().deleteSupportingDoc()})),o.cc(1,"i",38),o.hc(2,"span"),o.cd(3,"Delete"),o.gc(),o.gc()}}function Bc(t,e){if(1&t&&(o.fc(0),o.cc(1,"img",39),o.ec()),2&t){const t=o.wc();o.Nb(1),o.Ec("src",t.previewFile||t.filePdf,o.Tc)}}function Jc(t,e){if(1&t&&(o.cc(0,"object",41),o.xc(1,"safe")),2&t){const t=o.wc(2);o.Ec("data",o.yc(1,1,t.previewFile||t.filePdf),o.Sc)}}function Vc(t,e){if(1&t&&(o.fc(0),o.ad(1,Jc,2,3,"object",40),o.ec()),2&t){const t=o.wc();o.Nb(1),o.Ec("ngIf",t.previewFile||t.filePdf)}}function Yc(t,e){1&t&&(o.hc(0,"div",42),o.hc(1,"div",43),o.hc(2,"h6"),o.cd(3,"No Attachment Found"),o.gc(),o.gc(),o.gc())}function Gc(t,e){1&t&&(o.hc(0,"p",70),o.hc(1,"small"),o.cd(2,"Required"),o.gc(),o.gc())}function Hc(t,e){if(1&t&&(o.hc(0,"option"),o.cd(1),o.gc()),2&t){const t=o.wc().$implicit;o.Nb(1),o.dd(null==t?null:t.name)}}function Uc(t,e){if(1&t&&(o.fc(0),o.ad(1,Hc,2,1,"option",24),o.ec()),2&t){const t=e.$implicit;o.Nb(1),o.Ec("ngIf","Invoices"!=(null==t?null:t.name))}}function Zc(t,e){1&t&&(o.hc(0,"small",59),o.cd(1,"Required"),o.gc())}function Wc(t,e){1&t&&(o.hc(0,"div",53),o.hc(1,"label",71),o.cd(2,"Invoice Number"),o.gc(),o.cc(3,"input",72,73),o.gc())}function Xc(t,e){if(1&t){const t=o.ic();o.hc(0,"div",44),o.hc(1,"h5",45),o.cd(2,"Add Document"),o.gc(),o.hc(3,"button",46),o.sc("click",(function(){return e.$implicit.dismiss("Cross click")})),o.hc(4,"span",47),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",48),o.hc(7,"form",null,49),o.hc(9,"div",50),o.hc(10,"div",51),o.hc(11,"div"),o.hc(12,"label",52),o.cd(13,"Upload Supporting Documents"),o.gc(),o.hc(14,"div",53),o.hc(15,"input",54,55),o.sc("change",(function(e){return o.Qc(t),o.wc().handleFileInput(e.target.files,"file_upload")})),o.gc(),o.hc(17,"label",56),o.hc(18,"small",57),o.cd(19),o.gc(),o.gc(),o.hc(20,"label",58),o.cd(21),o.gc(),o.hc(22,"small",59),o.cd(23,"Note: Accept only pdf files"),o.gc(),o.ad(24,Gc,3,0,"p",60),o.gc(),o.gc(),o.hc(25,"div",53),o.hc(26,"label",61),o.cd(27,"Document Type"),o.gc(),o.hc(28,"select",62,63),o.ad(30,Uc,2,1,"ng-container",64),o.gc(),o.ad(31,Zc,2,0,"small",65),o.gc(),o.ad(32,Wc,5,0,"div",66),o.gc(),o.gc(),o.hc(33,"div",1),o.hc(34,"div",67),o.hc(35,"button",68),o.sc("click",(function(){return e.$implicit.close("close")})),o.hc(36,"strong"),o.cd(37,"Cancel"),o.gc(),o.gc(),o.hc(38,"button",69),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.Oc(8);return o.wc().saveDocumentFile(c,n)})),o.cd(39,"Save "),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(16),e=o.Oc(29),n=o.wc();o.Nb(19),o.dd(n.filename||"Upload Document"),o.Nb(2),o.ed(" ",n.filename?"Change":"Upload"," "),o.Nb(3),o.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),o.Nb(6),o.Ec("ngForOf",n.fileTypes),o.Nb(1),o.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),o.Nb(1),o.Ec("ngIf","Invoices"==n.fileData.document_type)}}function Kc(t,e){if(1&t){const t=o.ic();o.hc(0,"div",44),o.hc(1,"h5"),o.hc(2,"strong"),o.cd(3,"Scan Documents"),o.gc(),o.gc(),o.hc(4,"button",46),o.sc("click",(function(){return e.$implicit.dismiss("Cross click")})),o.hc(5,"span",47),o.cd(6,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(7,"div",74),o.cc(8,"div",75),o.hc(9,"div",76),o.hc(10,"button",77),o.sc("click",(function(){return e.$implicit.close()})),o.cd(11,"Cancel"),o.gc(),o.hc(12,"button",78),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc().scannerService.acquireImage("scan",null),n.close("Success")})),o.cd(13,"Scan Now"),o.gc(),o.gc(),o.gc()}}let ti=(()=>{class t{constructor(t,e,n,c,i,s){this.http=t,this.router=e,this.toaster=n,this.activatedRoute=c,this.modal=i,this.scannerService=s,this.destroyEvents=new o.q,this.active=1,this.folios=[],this.filteredFoliosByCategory=[],this.openedDoc={},this.company={},this.fileTypes=[],this.fileData={},this.uploadDocType="",this.apiDomain=a.a.apiDomain,this.pdfView=!0,this.summaryData={},this.config={},this.containerId="dwtcontrolContainer"}ngOnInit(){this.company=JSON.parse(localStorage.getItem("company")),this.activatedRoute.params.subscribe(t=>this.paramsID=null==t?void 0:t.id),this.paramsID&&this.getSummaryDetails(),this.scannerService.scannedFileUploadedRes.pipe(Object(ye.a)(this.destroyEvents)).subscribe(t=>{})}getSummaryDetails(){this.active=this.activeCategoryIndex?this.activeCategoryIndex:1,this.http.get(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`).subscribe(t=>{t&&(this.summaryData=t.data,this.getDocumentTypeList())})}onChangeCategory(t,e){this.activeCategoryIndex=e,this.activeCategory=t,this.openedDoc={},this.filePdf="",this.previewFile="",this.filteredFoliosByCategory=[],t&&(this.filteredFoliosByCategory=this.folios.filter(e=>{if((null==e?void 0:e.document_type)==(null==t?void 0:t.name))return e.document_name=e.document.substring((null==e?void 0:e.document.indexOf("/files/"))+7),e}),"pos_bills"==e&&(this.filteredFoliosByCategory=this.activeCategory.filter(t=>(t.document_name=t.document.substring((null==t?void 0:t.document.indexOf("/files/"))+7),t))),this.filteredFoliosByCategory.length>0&&(this.openedDoc=this.filteredFoliosByCategory[0],setTimeout(()=>{var t;this.filePdf=`${this.apiDomain}/${null===(t=this.openedDoc)||void 0===t?void 0:t.document}`;let e=this.filePdf.split(".").reverse();e=e[0],e&&(this.fileImg="png"==e||"jpeg"==e||"jpg"==e,this.fileImg||this.fileType(null,!0))},2e3)))}onPosbillsTab(t){this.activeCategoryIndex=t,this.http.get(""+l.a.getPosChecksData,{params:{summary:this.paramsID}}).subscribe(e=>{e.message.success?this.onChangeCategory(e.message.checks,t):(this.previewFile="",this.filePdf="",this.openedDoc={},this.filteredFoliosByCategory=[],this.toaster.error(e.message.message))})}onChangeTab(t){this.filePdf="",this.previewFile="",this.openedDoc={},t&&(this.openedDoc=t,setTimeout(()=>{var t;this.filePdf=`${this.apiDomain}${null===(t=this.openedDoc)||void 0===t?void 0:t.document}`;let e=this.filePdf.split(".").reverse();e=e[0],e&&(this.fileImg="png"==e||"jpeg"==e||"jpg"==e,this.fileImg||this.fileType(null,!0))},1500))}addDocuments(t){this.fileData={},this.filename="",this.modal.open(t,{centered:!0,size:"md"})}getDocumentTypeList(){this.http.get(`${l.a.resource}/${l.b.documentTypes}`,{params:{fields:JSON.stringify(["*"]),limit_page_length:"None"}}).subscribe(t=>{(null==t?void 0:t.data)&&(this.fileTypes=null==t?void 0:t.data,this.getDocumentsList())})}getDocumentsList(){this.http.get(`${l.a.resource}/${l.b.summaryDocuments}`,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["summary","=",this.paramsID]]),limit_page_length:"None"}}).subscribe(t=>{(null==t?void 0:t.data)&&(this.folios=null==t?void 0:t.data,this.filteredFoliosByCategory=null==t?void 0:t.data.filter(t=>{var e,n,c;let i=(null===(e=this.activeCategory)||void 0===e?void 0:e.name)?null===(n=this.activeCategory)||void 0===n?void 0:n.name:null===(c=this.fileTypes[0])||void 0===c?void 0:c.name;if((null==t?void 0:t.document)&&(null==t?void 0:t.document_type)==i)return t.document_name=t.document.substring((null==t?void 0:t.document.indexOf("/files/"))+7),t}),0!=this.filteredFoliosByCategory.length&&(this.openedDoc=this.filteredFoliosByCategory[0],setTimeout(()=>{var t;this.filePdf=`${this.apiDomain}/${null===(t=this.openedDoc)||void 0===t?void 0:t.document}`;let e=this.filePdf.split(".").reverse();e=e[0],e&&(this.fileImg="png"==e||"jpeg"==e||"jpg"==e,this.fileImg||this.fileType(null,!0))},2e3)))})}handleFileInput(t,e){var n;if(this.filename=null===(n=t[0])||void 0===n?void 0:n.name,this.fileToUpload=t[0],this.fileToUpload){const t=new FormData;t.append("file",this.fileToUpload,this.fileToUpload.name),t.append("is_private","1"),t.append("folder","Home"),this.http.post(l.a.uploadFile,t).subscribe(t=>{t.message.file_url&&(this.fileData=t.message)})}}saveDocumentFile(t,e){var n,c;if(t.invalid)return void t.form.markAllAsTouched();let i={doctype:l.b.summaryDocuments,company:null===(n=this.company)||void 0===n?void 0:n.name,document_type:t.value.document_type,summary:this.paramsID,invoice_number:t.value.invoice_no||null,document:null===(c=this.fileData)||void 0===c?void 0:c.file_url};const o=new FormData;o.append("doc",JSON.stringify(i)),o.append("action","Save"),this.http.post(""+l.a.fileSave,o).subscribe(t=>{var n;(null===(n=null==t?void 0:t.docs[0])||void 0===n?void 0:n.name)&&(e.close(),this.openedDoc="",this.filePdf="",this.active=1,this.getSummaryDetails())})}fileType(t,e=!1){var n,c;return Object(Ic.a)(this,void 0,void 0,(function*(){let t;this.pdfView=!0,t=this.openedDoc.qr_code_image;let i=this.apiDomain+(null===(n=this.openedDoc)||void 0===n?void 0:n.document);const o=yield fetch(i).then(t=>t.arrayBuffer()),a=yield Ec.PDFDocument.load(o,{ignoreEncryption:!0});a.setTitle("Tax Invoice");const s=a.getPages(),r="Last"==(null===(c=this.company)||void 0===c?void 0:c.qr_page)?s[s.length-1]:s[0];let l=t?this.apiDomain+t:null;if(l){const t=yield this.http.get(l,{responseType:"arraybuffer"}).toPromise(),n=yield a.embedPng(t);n.scale(.6),r.drawImage(n,{x:parseInt(this.company.qr_rect_x0),y:r.getHeight()-parseInt(this.company.qr_rect_y0)-parseInt(this.company.qr_rect_y1),width:parseInt(this.company.qr_rect_x1),height:parseInt(this.company.qr_rect_y1)});const c=yield a.saveAsBase64({dataUri:!0,addDefaultPage:!0});if(this.previewFile=c,e)return yield a.save()}else console.log("QR img not found")}))}deleteSupportingDoc(){var t;if("Invoices"!=this.openedDoc.document_type)return window.confirm("Are you sure to delete file")?void this.http.delete(`${l.a.resource}/${l.b.summaryDocuments}/${null===(t=this.openedDoc)||void 0===t?void 0:t.name}`).subscribe(t=>{"ok"==(null==t?void 0:t.message)&&(this.openedDoc={},this.filePdf="",this.previewFile="",this.active=this.activeCategoryIndex?this.activeCategoryIndex:1,this.toaster.success("This invoice is deleted"),this.getSummaryDetails())}):null}scanToModal(t){this.modal.open(t,{size:"md",centered:!0,backdrop:"static"})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(i.e),o.bc(H.d),o.bc(i.a),o.bc(v.k),o.bc(Tc.a))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-attachments"]],decls:38,vars:12,consts:[[1,"bgdark"],[1,"row"],[1,"col-md-2","pt-2","pr-0","bg-tab","subnavs-h"],["id","dwtcontrolContainer",1,"d-none"],[1,"d-flex","justify-content-between","align-items-center","px-0","pb-2","mb-2","border-bottom-1"],[1,"text-white","mb-0"],["class","btn btn-outline-light btn-sm mr-1","type","button",3,"click",4,"ngIf"],["ngbNav","","orientation","vertical",1,"nav-pills",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem","click"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavItem","click",4,"ngFor","ngForOf"],[1,"navList","pl-1",2,"overflow-y","auto",3,"ngbNavOutlet"],[1,"col-md-2","bg-white","pr-0","subnavs-h"],[1,"mt-2","mb-5","pb-5"],[1,"list-unstyled"],["class","",3,"click",4,"ngFor","ngForOf"],["class","py-4",4,"ngIf"],[1,"col-md-8","subnavs-h"],[1,""],[1,"d-flex","justify-content-between"],[1,"font-weight-bold","my-2"],["class","btn btn-outline-primary rounded-sm  mb-2 py-2 d-flex font-weight-bold",3,"click",4,"ngIf"],[4,"ngIf"],["class","p-4 bg-gray",4,"ngIf"],["addDocument",""],["scanDocs",""],["type","button",1,"btn","btn-outline-light","btn-sm","mr-1",3,"click"],[1,"ri-add-fill"],[1,"",3,"click"],[1,"d-flex","justify-content-between","each-card"],[1,"w-100","sl-1",3,"ngClass"],[1,"invoice-name","p-2","mb-0"],[1,"py-4"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mx-auto"],[1,"btn","btn-outline-primary","rounded-sm","mb-2","py-2","d-flex","font-weight-bold",3,"click"],[1,"ri-delete-bin-5-fill","h6","mx-1","my-0"],["alt","",1,"img-fluid",3,"src"],["type","","style","max-height:calc(100vh - 218px)",3,"data",4,"ngIf"],["type","",2,"max-height","calc(100vh - 218px)",3,"data"],[1,"p-4","bg-gray"],[1,"d-flex","min-height","h-100","justify-content-center","align-items-center"],[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","scrollBody"],["form","ngForm"],[1,"row","mt-1"],[1,"col-md-12"],["for",""],[1,"form-group"],["type","file","name","sup_doc","id","sup_doc","ngModel","","accept",".pdf","required","",1,"d-none","form-control",3,"change"],["sup_doc","ngModel"],["for","sup_doc",1,"border","d-block","mb-0","f-upload","clearfix","rounded-sm","position-relative","w-100"],[1,"text-muted"],["for","sup_doc",1,"float-right","upload-btn"],[1,"text-danger"],["class","text-danger my-1",4,"ngIf"],["for","document_type"],["name","document_type","ngModel","","required","",1,"form-control"],["document_type","ngModel"],[4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"col-md-12","text-right","mt-1"],["type","button",1,"btn","btn-outline-primary","shadow-sm","mr-2",3,"click"],["type","button",1,"btn","btn-primary","shadow-sm",3,"click"],[1,"text-danger","my-1"],["for","invoice_no"],["type","text","name","invoice_no","ngModel","","placeholder","Invoice Number",1,"form-control"],["invoice_no","ngModel"],[1,"modal-body"],[1,"poschecks"],[1,"d-flex","justify-content-end","py-2"],["type","button",1,"btn","btn-sm","btn-outline-primary","mb-0","pr-2","text-uppercase",3,"click"],["type","button",1,"btn","btn-sm","btn-primary","mb-0","mx-2","text-uppercase",3,"click"]],template:function(t,e){if(1&t&&(o.hc(0,"section",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div"),o.cc(4,"div",3),o.hc(5,"div",4),o.hc(6,"div"),o.hc(7,"p",5),o.hc(8,"strong"),o.cd(9,"Supporting Docs"),o.gc(),o.gc(),o.gc(),o.ad(10,$c,4,0,"button",6),o.gc(),o.hc(11,"ul",7,8),o.sc("activeIdChange",(function(t){return e.active=t})),o.hc(13,"li",9),o.sc("click",(function(){return e.onPosbillsTab("pos_bills")})),o.hc(14,"a",10),o.cd(15,"POS Bills"),o.gc(),o.ad(16,Ac,0,0,"ng-template",11),o.gc(),o.ad(17,Rc,4,2,"li",12),o.cc(18,"div",13),o.gc(),o.gc(),o.gc(),o.hc(19,"div",14),o.hc(20,"div",15),o.hc(21,"ul",16),o.ad(22,jc,6,4,"li",17),o.gc(),o.ad(23,zc,6,0,"div",18),o.gc(),o.gc(),o.hc(24,"div",19),o.hc(25,"div",20),o.hc(26,"div",20),o.hc(27,"div",21),o.hc(28,"p",22),o.cd(29),o.gc(),o.ad(30,Qc,4,0,"button",23),o.gc(),o.ad(31,Bc,2,1,"ng-container",24),o.ad(32,Vc,2,1,"ng-container",24),o.ad(33,Yc,4,0,"div",25),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(34,Xc,40,6,"ng-template",null,26,o.bd),o.ad(36,Kc,14,0,"ng-template",null,27,o.bd)),2&t){const t=o.Oc(12);o.Nb(10),o.Ec("ngIf","Submitted"!==(null==e.summaryData?null:e.summaryData.status)),o.Nb(1),o.Ec("activeId",e.active),o.Nb(2),o.Ec("ngbNavItem","pos_bills"),o.Nb(4),o.Ec("ngForOf",e.fileTypes),o.Nb(1),o.Ec("ngbNavOutlet",t),o.Nb(4),o.Ec("ngForOf",e.filteredFoliosByCategory),o.Nb(1),o.Ec("ngIf",!e.filteredFoliosByCategory.length),o.Nb(6),o.dd(null!=e.openedDoc&&e.openedDoc.document_name?null==e.openedDoc?null:e.openedDoc.document_name:null==e.openedDoc?null:e.openedDoc.invoice_number),o.Nb(1),o.Ec("ngIf","Submitted"!==(null==e.summaryData?null:e.summaryData.status)&&(null==e.openedDoc?null:e.openedDoc.document)&&"Invoices"!=e.openedDoc.document_type&&(e.fileImg||e.filePdf)),o.Nb(1),o.Ec("ngIf",e.fileImg),o.Nb(1),o.Ec("ngIf",!e.fileImg),o.Nb(1),o.Ec("ngIf",!(null!=e.openedDoc&&e.openedDoc.document))}},directives:[c.p,v.o,v.r,v.s,v.q,c.o,v.u,c.n,b.u,b.j,b.k,b.b,b.i,b.l,b.q,b.r,b.m,b.t],pipes:[Lc.a],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:0}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 20px;color:#333}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background-color:#fff;color:#000;border-radius:0!important}.nav-pills[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.btn[_ngcontent-%COMP%]{font-size:12px;border-radius:0}.bgdark[_ngcontent-%COMP%], .selected[_ngcontent-%COMP%]{background-color:#f2f2f2}.selected[_ngcontent-%COMP%]{width:100%}.selected[_ngcontent-%COMP%]   .invoice-name[_ngcontent-%COMP%]{font-weight:700}.sl-1[_ngcontent-%COMP%]:hover{background-color:#f2f2f2}.navList[_ngcontent-%COMP%]{width:100%!important}.list-unstyled[_ngcontent-%COMP%]   .each-card[_ngcontent-%COMP%]{border-radius:0;position:relative;padding:3px 0}.list-unstyled[_ngcontent-%COMP%]   .each-card[_ngcontent-%COMP%]:hover{cursor:pointer}.list-unstyled[_ngcontent-%COMP%]   .each-card.border-left[_ngcontent-%COMP%]{border-left:6px solid var(--primary)!important}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:6px}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:0;font-size:15px}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{line-height:0;display:block;padding-top:6px}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .time-date[_ngcontent-%COMP%]{line-height:1;font-size:12px;display:block}.list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{padding:3px 10px;border-radius:20px;font-size:10px;background-color:#83dcfc}object[_ngcontent-%COMP%]{width:100%;height:100vh}.border-bottom-1[_ngcontent-%COMP%]{border-bottom:1px solid #f2f2f2}.border-top-1[_ngcontent-%COMP%]{border-top:1px solid #f2f2f2}.f-upload[_ngcontent-%COMP%]{padding:7px 10px;position:relative}.upload-btn[_ngcontent-%COMP%]{position:absolute;top:1px;padding:7px 11px;background:#f26135;color:#fff;border-radius:3px;right:1px;margin:0;cursor:pointer}.bg-tab[_ngcontent-%COMP%]{background-color:#1f4350}.subnavs-h[_ngcontent-%COMP%]{position:relative;height:calc(100vh - 175px);overflow-y:auto}.invoice-name[_ngcontent-%COMP%]{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),t})();function ei(t,e){if(1&t){const t=o.ic();o.hc(0,"span",15),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(125);return e.editSummary(n)})),o.cc(1,"i",16),o.gc()}}function ni(t,e){if(1&t){const t=o.ic();o.hc(0,"span",15),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(127);return e.updateTermsNCondtns(n)})),o.cc(1,"i",16),o.gc()}}function ci(t,e){if(1&t&&(o.hc(0,"ng-option",43),o.cd(1),o.gc()),2&t){const t=e.$implicit;o.Ec("value",t.name),o.Nb(1),o.dd(t.location)}}function ii(t,e){if(1&t){const t=o.ic();o.hc(0,"div",44),o.hc(1,"p",45),o.sc("click",(function(){return o.Qc(t),o.wc(2).addLocation()})),o.cd(2," Add Location"),o.gc(),o.gc()}}function oi(t,e){if(1&t&&(o.hc(0,"div",46),o.hc(1,"div",47),o.hc(2,"div",7),o.hc(3,"div",48),o.hc(4,"div",9),o.hc(5,"p",49),o.cd(6,"Location"),o.gc(),o.gc(),o.hc(7,"div",11),o.hc(8,"p",50),o.hc(9,"b"),o.cd(10),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(11,"div",48),o.hc(12,"div",9),o.hc(13,"p",49),o.cd(14,"Address"),o.gc(),o.gc(),o.hc(15,"div",11),o.hc(16,"p",50),o.hc(17,"b"),o.cd(18),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(19,"div",48),o.hc(20,"div",9),o.hc(21,"p",49),o.cd(22,"City"),o.gc(),o.gc(),o.hc(23,"div",11),o.hc(24,"p",50),o.hc(25,"b"),o.cd(26),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(27,"div",48),o.hc(28,"div",9),o.hc(29,"p",49),o.cd(30,"State"),o.gc(),o.gc(),o.hc(31,"div",11),o.hc(32,"p",50),o.hc(33,"b"),o.cd(34),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(35,"div",48),o.hc(36,"div",9),o.hc(37,"p",49),o.cd(38,"Pincode"),o.gc(),o.gc(),o.hc(39,"div",11),o.hc(40,"p",50),o.hc(41,"b"),o.cd(42),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc(2);o.Nb(10),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.location?t.selectedLocationDetails.location:"NA"),o.Nb(8),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.address?t.selectedLocationDetails.address:"NA"),o.Nb(8),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.city?t.selectedLocationDetails.city:"NA"),o.Nb(8),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.state?t.selectedLocationDetails.state:"NA"),o.Nb(8),o.dd(null!=t.selectedLocationDetails&&t.selectedLocationDetails.pin_code?t.selectedLocationDetails.pin_code:"NA")}}function ai(t,e){if(1&t){const t=o.ic();o.hc(0,"div",17),o.hc(1,"h6",18),o.cd(2,"Summary Info"),o.gc(),o.hc(3,"button",19),o.sc("click",(function(){return e.$implicit.close("Cross click")})),o.hc(4,"span",20),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",21),o.hc(7,"form",null,22),o.hc(9,"div",23),o.hc(10,"div",24),o.hc(11,"div",25),o.hc(12,"label",26),o.cd(13,"Summary Title"),o.gc(),o.hc(14,"input",27,28),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().editSummaryData.title=e})),o.gc(),o.gc(),o.gc(),o.hc(16,"div",24),o.hc(17,"div",25),o.hc(18,"label",26),o.cd(19,"Summary Dates"),o.gc(),o.hc(20,"input",29,30),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().editSummaryData.dates=e})),o.gc(),o.cc(22,"owl-date-time",31,32),o.gc(),o.gc(),o.hc(24,"div",24),o.hc(25,"div",33),o.hc(26,"label",34),o.cd(27,"Location"),o.gc(),o.hc(28,"ng-select",35,36),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().editSummaryData.location=e}))("change",(function(){o.Qc(t);const e=o.wc();return e.changeLocation(e.editSummaryData.location)})),o.ad(30,ci,2,2,"ng-option",37),o.ad(31,ii,3,0,"ng-template",38),o.gc(),o.gc(),o.gc(),o.ad(32,oi,43,5,"div",39),o.gc(),o.hc(33,"div",8),o.hc(34,"div",40),o.hc(35,"button",41),o.sc("click",(function(){return e.$implicit.close("close")})),o.hc(36,"strong"),o.cd(37,"Cancel"),o.gc(),o.gc(),o.hc(38,"button",42),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.Oc(8);return o.wc().onSubmitSummary(c,n)})),o.cd(39,"Save "),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(23),e=o.wc();o.Nb(14),o.Ec("ngModel",e.editSummaryData.title),o.Nb(6),o.Ec("owlDateTimeTrigger",t)("ngModel",e.editSummaryData.dates)("owlDateTime",t)("selectMode","range"),o.Nb(2),o.Ec("pickerType","calendar"),o.Nb(6),o.Ec("ngModel",e.editSummaryData.location),o.Nb(2),o.Ec("ngForOf",e.taxpayerLocationsList),o.Nb(2),o.Ec("ngIf",e.selectedLocationDetails)}}function si(t,e){if(1&t){const t=o.ic();o.hc(0,"div",51),o.hc(1,"h5",18),o.cd(2,"Terms & Conditions"),o.gc(),o.hc(3,"button",19),o.sc("click",(function(){return e.$implicit.close("Cross click")})),o.hc(4,"span",20),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",21),o.hc(7,"form",null,22),o.hc(9,"div",52),o.hc(10,"div",25),o.hc(11,"quill-editor",53,54),o.sc("ngModelChange",(function(e){o.Qc(t);const n=o.wc();return(null==n.summaryData?null:n.summaryData.summary_info).terms_and_conditions=e})),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(13,"div",55),o.hc(14,"div",40),o.hc(15,"button",41),o.sc("click",(function(){return e.$implicit.close("close")})),o.hc(16,"strong"),o.cd(17,"Cancel"),o.gc(),o.gc(),o.hc(18,"button",42),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.Oc(8);return o.wc().onSubmitTerms(c,n)})),o.cd(19,"Save "),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(11),o.Ec("ngModel",null==t.summaryData?null:t.summaryData.summary_info.terms_and_conditions)}}let ri=(()=>{class t{constructor(t,e,n,c,i){this.http=t,this.activatedRoute=e,this.modal=n,this.toastr=c,this.router=i,this.company={},this.editSummaryData={},this.bankDetails={}}ngOnInit(){this.company=JSON.parse(localStorage.getItem("company")),this.activatedRoute.params.subscribe(t=>this.paramsID=null==t?void 0:t.id),this.paramsID&&(this.getSummaryDetails(),this.getSummariedData(),this.getBankDetails())}getBankDetails(){var t;this.http.get(`${l.a.resource}/${l.b.bankDetails}`,{params:{filters:JSON.stringify([["company","=",null===(t=this.company)||void 0===t?void 0:t.name]]),fields:JSON.stringify(["*"])}}).subscribe(t=>{(null==t?void 0:t.data.length)&&(this.bankDetails=t.data[0])})}getSummaryDetails(){this.http.get(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`).subscribe(t=>{t&&(this.summaryData2=t.data,console.log(this.summaryData2),this.locationsFilter(this.summaryData2.tax_payer_details,this.summaryData2.location))})}getSummariedData(){this.http.get(""+l.a.getBreakup,{params:{summary:this.paramsID}}).subscribe(t=>{var e;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)&&(this.summaryData=null==t?void 0:t.message)})}editSummary(t){var e,n,c;this.editSummaryData.title=null===(e=this.summaryData2)||void 0===e?void 0:e.summary_title,this.editSummaryData.dates=[new Date(null===(n=this.summaryData2)||void 0===n?void 0:n.from_date),new Date(null===(c=this.summaryData2)||void 0===c?void 0:c.to_date)],this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu30"})}onSubmitSummary(t,e){var n,c,i;if(t.form.markAllAsTouched(),t.valid)if(window.confirm("Are you sure updating the summary info? ")){const n=new Ct.a("Invoices","Custom",t.value.dates,"invoice_date").filter;this.http.put(""+l.a.updateSummaryData,{data:{summary_title:t.value.title,from_date:n[3][0],to_date:n[3][1],location:t.value.location},name:this.paramsID}).subscribe(t=>{var n;(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.success)?(this.toastr.success("Updated"),e.close("success"),location.reload()):this.toastr.error("Failed to change")})}else this.editSummaryData.title=null===(n=this.summaryData2)||void 0===n?void 0:n.summary_title,this.editSummaryData.dates=[new Date(null===(c=this.summaryData2)||void 0===c?void 0:c.from_date),new Date(null===(i=this.summaryData2)||void 0===i?void 0:i.to_date)]}updateTermsNCondtns(t){this.modal.open(t,{centered:!0,size:"lg"})}onSubmitTerms(t,e){this.http.put(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`,t.value).subscribe(t=>{(null==t?void 0:t.data)&&(this.getSummariedData(),this.toastr.success("Updated"),e.close("success"))})}locationsFilter(t,e){this.editSummaryData.location=e;const n={filters:[]};n.fields=JSON.stringify(["*"]),n.filters.push(["taxpayer_details","=",t]),n.filters=JSON.stringify(n.filters),this.http.get(l.a.taxpayerlocation,{params:n}).subscribe(t=>{this.taxpayerLocationsList=t.data,this.changeLocation(e)})}changeLocation(t){this.taxpayerLocationsList.forEach(e=>{t==e.name&&(this.selectedLocationDetails=e,console.log(this.selectedLocationDetails))})}addLocation(){let t=this.modal.open(tt,{size:"md",centered:!0,backdrop:"static"});t.componentInstance.gstNumber=this.summaryData2.tax_payer_details,t.componentInstance.locationType="create",t.result.then(t=>{},t=>{console.log(t),console.log("moda dismissed"),this.locationsFilter(this.summaryData2.tax_payer_details,t)})}ngOnDestroy(){this.modal.dismissAll()}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(i.a),o.bc(v.k),o.bc(H.d),o.bc(i.e))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-additinal-info"]],decls:128,vars:15,consts:[[1,"row","m-0"],[1,"col-md-6"],[1,"bg-white"],[1,"card","border-0"],[1,"card-header","bg-white"],[1,"d-flex","justify-content-between"],[3,"click",4,"ngIf"],[1,"card-body"],[1,"row"],[1,"col-3"],[1,"mb-0"],[1,"col-9"],[1,"bg-white","mb-2"],["editSummaryId",""],["termsNCndts",""],[3,"click"],[1,"ri-pencil-fill","btn-hover-gray","p-1"],[1,"modal-header","py-2"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","scrollBody"],["form","ngForm"],[1,"row","mt-1"],[1,"col-md-12"],[1,"form-group"],["for","title"],["type","text","name","title","placeholder","Title","required","",1,"form-control",3,"ngModel","ngModelChange"],["title","ngModel"],["name","dates","placeholder","Date Time","required","",1,"form-control",3,"owlDateTimeTrigger","ngModel","owlDateTime","selectMode","ngModelChange"],["dates","ngModel"],[3,"pickerType"],["dt1",""],[1,""],["for","location"],["placeholder","Location","name","location","required","",1,"custom-select","ngselect","p-0","border-0",3,"ngModel","ngModelChange","change"],["location","ngModel"],[3,"value",4,"ngFor","ngForOf"],["ng-footer-tmp",""],["class","col-md-12 my-2",4,"ngIf"],[1,"col-md-12","text-right","mt-1"],["type","button",1,"btn","btn-outline-primary","shadow-sm","mr-2",3,"click"],["type","button",1,"btn","btn-primary","shadow-sm",3,"click"],[3,"value"],[1,"text-right"],[1,"btn","btn-outline-primary","btn-sm","pt-2","mb-0",3,"click"],[1,"col-md-12","my-2"],[1,"card"],[1,"row","my-1"],[1,"m-0","c-title"],[1,"m-0"],[1,"modal-header"],[1,"row","mt-1","px-2"],["id","terms_and_conditions","name","terms_and_conditions","required","",1,"ql-container",3,"ngModel","ngModelChange"],["terms_and_conditions","ngModel"],[1,"row","mt-4","p-3"]],template:function(t,e){1&t&&(o.hc(0,"section"),o.hc(1,"div",0),o.hc(2,"div",1),o.hc(3,"div",2),o.hc(4,"div",3),o.hc(5,"div",4),o.hc(6,"div",5),o.hc(7,"b"),o.cd(8,"Summary Info"),o.gc(),o.ad(9,ei,2,0,"span",6),o.gc(),o.gc(),o.hc(10,"div",7),o.hc(11,"div",8),o.hc(12,"div",9),o.hc(13,"p",10),o.cd(14,"Summary Title"),o.gc(),o.gc(),o.hc(15,"div",11),o.hc(16,"p",10),o.hc(17,"strong"),o.cd(18),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(19,"div",8),o.hc(20,"div",9),o.hc(21,"p",10),o.cd(22,"Summary Dates"),o.gc(),o.gc(),o.hc(23,"div",11),o.hc(24,"p",10),o.hc(25,"strong"),o.cd(26),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(27,"div",8),o.hc(28,"div",9),o.hc(29,"p",10),o.cd(30,"Company"),o.gc(),o.gc(),o.hc(31,"div",11),o.hc(32,"p",10),o.hc(33,"strong"),o.cd(34),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(35,"div",8),o.hc(36,"div",9),o.hc(37,"p",10),o.cd(38,"Location"),o.gc(),o.gc(),o.hc(39,"div",11),o.hc(40,"p",10),o.hc(41,"strong"),o.cd(42),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(43,"div",8),o.hc(44,"div",9),o.hc(45,"p",10),o.cd(46,"GSTIN"),o.gc(),o.gc(),o.hc(47,"div",11),o.hc(48,"p",10),o.hc(49,"strong"),o.cd(50),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(51,"div",3),o.hc(52,"div",4),o.hc(53,"div",5),o.hc(54,"b"),o.cd(55,"Bank Details"),o.gc(),o.gc(),o.gc(),o.hc(56,"div",7),o.hc(57,"div",8),o.hc(58,"div",9),o.hc(59,"p",10),o.cd(60,"Bank Name"),o.gc(),o.gc(),o.hc(61,"div",11),o.hc(62,"p",10),o.hc(63,"strong"),o.cd(64),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(65,"div",8),o.hc(66,"div",9),o.hc(67,"p",10),o.cd(68,"Bank A/C Name"),o.gc(),o.gc(),o.hc(69,"div",11),o.hc(70,"p",10),o.hc(71,"strong"),o.cd(72),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(73,"div",8),o.hc(74,"div",9),o.hc(75,"p",10),o.cd(76,"Branch Code"),o.gc(),o.gc(),o.hc(77,"div",11),o.hc(78,"p",10),o.hc(79,"strong"),o.cd(80),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(81,"div",8),o.hc(82,"div",9),o.hc(83,"p",10),o.cd(84,"Branch A/C Number"),o.gc(),o.gc(),o.hc(85,"div",11),o.hc(86,"p",10),o.hc(87,"strong"),o.cd(88),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(89,"div",8),o.hc(90,"div",9),o.hc(91,"p",10),o.cd(92,"IFSC Code"),o.gc(),o.gc(),o.hc(93,"div",11),o.hc(94,"p",10),o.hc(95,"strong"),o.cd(96),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(97,"div",8),o.hc(98,"div",9),o.hc(99,"p",10),o.cd(100,"MICR Code"),o.gc(),o.gc(),o.hc(101,"div",11),o.hc(102,"p",10),o.hc(103,"strong"),o.cd(104),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(105,"div",8),o.hc(106,"div",9),o.hc(107,"p",10),o.cd(108,"Address"),o.gc(),o.gc(),o.hc(109,"div",11),o.hc(110,"p",10),o.hc(111,"strong"),o.cd(112),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(113,"div",1),o.hc(114,"div",12),o.hc(115,"div",3),o.hc(116,"div",4),o.hc(117,"div",5),o.hc(118,"b"),o.cd(119,"Terms & Conditions"),o.gc(),o.ad(120,ni,2,0,"span",6),o.gc(),o.gc(),o.hc(121,"div",7),o.hc(122,"p"),o.cd(123),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(124,ai,40,9,"ng-template",null,13,o.bd),o.ad(126,si,20,1,"ng-template",null,14,o.bd)),2&t&&(o.Nb(9),o.Ec("ngIf","Submitted"!==(null==e.summaryData2?null:e.summaryData2.status)),o.Nb(9),o.dd((null==e.summaryData||null==e.summaryData.summary_info?null:e.summaryData.summary_info.summary_title)||"NA"),o.Nb(8),o.dd((null==e.summaryData||null==e.summaryData.summary_info?null:e.summaryData.summary_info.between_dates)||"NA"),o.Nb(8),o.dd((null==e.summaryData||null==e.summaryData.summary_info?null:e.summaryData.summary_info.legal_name)||"NA"),o.Nb(8),o.dd((null==e.summaryData||null==e.summaryData.summary_info?null:e.summaryData.summary_info.location)||"NA"),o.Nb(8),o.dd((null==e.summaryData||null==e.summaryData.summary_info?null:e.summaryData.summary_info.tax_payer_details)||"NA"),o.Nb(14),o.dd((null==e.bankDetails?null:e.bankDetails.bank_name)||"NA"),o.Nb(8),o.dd((null==e.bankDetails?null:e.bankDetails.bank_ac_name)||"NA"),o.Nb(8),o.dd((null==e.bankDetails?null:e.bankDetails.branch_code)||"NA"),o.Nb(8),o.dd((null==e.bankDetails?null:e.bankDetails.bank_ac_number)||"NA"),o.Nb(8),o.dd((null==e.bankDetails?null:e.bankDetails.ifsc_code)||"NA"),o.Nb(8),o.dd((null==e.bankDetails?null:e.bankDetails.micr_code)||"NA"),o.Nb(8),o.dd((null==e.bankDetails?null:e.bankDetails.address)||"NA"),o.Nb(8),o.Ec("ngIf","Submitted"!==(null==e.summaryData2?null:e.summaryData2.status)),o.Nb(3),o.dd(null==e.summaryData||null==e.summaryData.summary_info?null:e.summaryData.summary_info.terms_and_conditions))},directives:[c.p,b.u,b.j,b.k,b.b,b.q,b.i,b.l,_.d,_.f,_.c,U.a,c.o,U.c,U.d,an.a],styles:[".container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}.ql-container[_ngcontent-%COMP%]{height:30%!important}input.form-control[_ngcontent-%COMP%], select.custom-select[_ngcontent-%COMP%]{font-size:13px;height:28px}.form-group[_ngcontent-%COMP%]{margin-bottom:13px!important}.label[_ngcontent-%COMP%]{margin-bottom:0!important}.ngselect[_ngcontent-%COMP%]{font-size:13px}"]}),t})();const li=["addSignature"],di=["preview"],gi=["widgetsContent"];function hi(t,e){if(1&t){const t=o.ic();o.hc(0,"li",16),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(100);return e.emailLogOpen(n)})),o.cc(1,"i",66),o.gc()}}function ui(t,e){if(1&t){const t=o.ic();o.hc(0,"i",67),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(98);return e.sendEmailTemp(n)})),o.gc()}}function pi(t,e){if(1&t){const t=o.ic();o.hc(0,"i",68),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(104);return e.dispatchTempFunc(n)})),o.gc()}}function mi(t,e){if(1&t&&(o.hc(0,"span",69),o.hc(1,"strong"),o.cd(2),o.xc(3,"uppercase"),o.gc(),o.gc()),2&t){const t=e.$implicit;o.Nb(2),o.dd(o.yc(3,1,null==t?null:t.contact_name.substring(0,2)))}}function bi(t,e){if(1&t){const t=o.ic();o.hc(0,"div",70),o.hc(1,"p",71),o.sc("click",(function(){return o.Qc(t),o.wc().scrollLeft()})),o.cc(2,"i",72),o.gc(),o.gc()}}function fi(t,e){if(1&t){const t=o.ic();o.hc(0,"li",73),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc().seletedCatgry(n)})),o.hc(1,"a",36),o.cd(2),o.gc(),o.gc()}if(2&t){const t=e.$implicit;o.Ec("ngbNavItem",t.category),o.Nb(2),o.dd(t.category)}}function _i(t,e){if(1&t){const t=o.ic();o.hc(0,"div",74),o.hc(1,"p",71),o.sc("click",(function(){return o.Qc(t),o.wc().scrollRight()})),o.cc(2,"i",75),o.gc(),o.gc()}}function vi(t,e){1&t&&(o.hc(0,"li",41),o.hc(1,"a",36),o.cd(2,"Supporting Documents"),o.gc(),o.gc()),2&t&&o.Ec("ngbNavItem","suptDoc")}function yi(t,e){if(1&t){const t=o.ic();o.hc(0,"button",84),o.sc("click",(function(){return o.Qc(t),o.wc(3).addInvoices("update")})),o.hc(1,"strong"),o.cc(2,"i",85),o.cd(3," Add Invoices"),o.gc(),o.gc()}}function Ci(t,e){if(1&t){const t=o.ic();o.hc(0,"span",87),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit;return o.wc(3).deleteInvoicesfrmSummary(e)})),o.cc(1,"i",88),o.gc()}}function Pi(t,e){if(1&t&&(o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.gc(),o.hc(7,"td"),o.cd(8),o.gc(),o.hc(9,"td"),o.cd(10),o.gc(),o.hc(11,"td"),o.cd(12),o.gc(),o.hc(13,"td",81),o.cd(14),o.gc(),o.hc(15,"td",81),o.cd(16),o.gc(),o.hc(17,"td",81),o.cd(18),o.gc(),o.hc(19,"td",81),o.cd(20),o.gc(),o.hc(21,"td",81),o.cd(22),o.gc(),o.hc(23,"td",82),o.ad(24,Ci,2,0,"span",86),o.gc(),o.gc()),2&t){const t=e.$implicit,n=e.index,c=o.wc(3);o.Nb(2),o.ed(" ",n+1," "),o.Nb(2),o.dd(null==t?null:t.invoice_date),o.Nb(2),o.dd(null==t?null:t.invoice_number),o.Nb(2),o.dd(null==t?null:t.invoice_type),o.Nb(2),o.dd(null==t?null:t.gst_number),o.Nb(2),o.dd(null==t?null:t.trade_name),o.Nb(2),o.dd(null==t?null:t.sales_amount_before_tax),o.Nb(2),o.dd(null==t?null:t.cgst_amount),o.Nb(2),o.dd(null==t?null:t.sgst_amount),o.Nb(2),o.dd(null==t?null:t.igst_amount),o.Nb(2),o.dd(null==t?null:t.sales_amount_after_tax),o.Nb(2),o.Ec("ngIf","Submitted"!==(null==c.summaryData?null:c.summaryData.status)&&"Void"!==(null==c.summaryData?null:c.summaryData.status))}}function Oi(t,e){if(1&t&&(o.hc(0,"div",77),o.hc(1,"h6"),o.hc(2,"b"),o.cd(3,"Selected Invoices"),o.gc(),o.gc(),o.ad(4,yi,4,0,"button",78),o.gc(),o.hc(5,"div",79),o.hc(6,"table",80),o.hc(7,"thead"),o.hc(8,"tr"),o.hc(9,"th"),o.cd(10,"S.no"),o.gc(),o.hc(11,"th"),o.cd(12,"Invoice Date"),o.gc(),o.hc(13,"th"),o.cd(14,"Invoice No"),o.gc(),o.hc(15,"th"),o.cd(16,"Invoice type"),o.gc(),o.hc(17,"th"),o.cd(18,"GST Number"),o.gc(),o.hc(19,"th"),o.cd(20,"Trade Name"),o.gc(),o.hc(21,"th",81),o.cd(22,"Taxable Value"),o.gc(),o.hc(23,"th",81),o.cd(24,"CGST"),o.gc(),o.hc(25,"th",81),o.cd(26,"SGST"),o.gc(),o.hc(27,"th",81),o.cd(28,"IGST"),o.gc(),o.hc(29,"th",81),o.cd(30,"Total Amount"),o.gc(),o.hc(31,"th",82),o.cd(32,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(33,"tbody"),o.ad(34,Pi,25,12,"tr",83),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc(2);o.Nb(4),o.Ec("ngIf","Submitted"!==(null==t.summaryData?null:t.summaryData.status)&&"Void"!==(null==t.summaryData?null:t.summaryData.status)),o.Nb(30),o.Ec("ngForOf",t.selectedInvoicesList)}}function Mi(t,e){1&t&&(o.hc(0,"li",76),o.hc(1,"a",36),o.cd(2,"Selected Invoices"),o.gc(),o.ad(3,Oi,35,2,"ng-template",44),o.gc()),2&t&&o.Ec("ngbNavItem","selectedInv")}function xi(t,e){if(1&t){const t=o.ic();o.hc(0,"button",89),o.sc("click",(function(){return o.Qc(t),o.wc().savePOFunc()})),o.hc(1,"strong"),o.cc(2,"i",90),o.cd(3," Save PO. "),o.gc(),o.gc()}}function wi(t,e){if(1&t){const t=o.ic();o.hc(0,"button",89),o.sc("click",(function(){return o.Qc(t),o.wc().saveChangesFun()})),o.hc(1,"strong"),o.cc(2,"i",90),o.cd(3," Save Changes"),o.gc(),o.gc()}}function Di(t,e){if(1&t){const t=o.ic();o.hc(0,"div",95),o.hc(1,"input",96,97),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc(2).summaryData.po_number=e}))("ngModelChange",(function(e){return o.Qc(t),o.wc(2).poNumberFunc(e)})),o.gc(),o.hc(3,"button",98),o.sc("click",(function(){o.Qc(t);const e=o.wc(2),n=o.Oc(88);return e.addPayments(n)})),o.hc(4,"strong"),o.cc(5,"i",85),o.cd(6," Add Payments"),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc(2);o.Nb(1),o.Ec("ngModel",t.summaryData.po_number)}}function ki(t,e){if(1&t&&(o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.gc(),o.hc(7,"td"),o.cd(8),o.gc(),o.hc(9,"td"),o.cd(10),o.gc(),o.hc(11,"td"),o.cd(12),o.gc(),o.hc(13,"td",104),o.cd(14),o.gc(),o.gc()),2&t){const t=e.$implicit,n=e.index;o.Nb(2),o.ed(" ",n+1," "),o.Nb(2),o.dd(null==t?null:t.date),o.Nb(2),o.dd(null==t?null:t.invoice_number),o.Nb(2),o.dd(null==t?null:t.category),o.Nb(2),o.dd(null==t?null:t.sac_codes),o.Nb(2),o.dd(null==t?null:t.invoice_type),o.Nb(2),o.dd(null==t?null:t.amount)}}function Ni(t,e){if(1&t&&(o.hc(0,"table",99),o.hc(1,"thead"),o.hc(2,"tr"),o.hc(3,"th"),o.cd(4,"S.no"),o.gc(),o.hc(5,"th"),o.cd(6,"Date"),o.gc(),o.hc(7,"th"),o.cd(8,"Invoice Number"),o.gc(),o.hc(9,"th"),o.cd(10,"Service Type"),o.gc(),o.hc(11,"th"),o.cd(12,"SAC/HSN"),o.gc(),o.hc(13,"th"),o.cd(14,"Invoice Type"),o.gc(),o.hc(15,"th"),o.cd(16,"Amount"),o.gc(),o.gc(),o.gc(),o.hc(17,"tbody"),o.ad(18,ki,15,7,"tr",83),o.hc(19,"tr",100),o.hc(20,"td",101),o.hc(21,"strong",102),o.cd(22," Total Amount"),o.gc(),o.gc(),o.hc(23,"td",103),o.hc(24,"strong"),o.cd(25),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc(2);o.Nb(18),o.Ec("ngForOf",null==t.invoicesData?null:t.invoicesData.data),o.Nb(7),o.dd(t.totalAmt)}}function Si(t,e){if(1&t){const t=o.ic();o.hc(0,"div",105),o.hc(1,"button",84),o.sc("click",(function(){return o.Qc(t),o.wc(2).addInvoices("create")})),o.cc(2,"i",106),o.cd(3," Add Invoices"),o.gc(),o.gc()}}function Ii(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td",104),o.cd(6),o.gc(),o.hc(7,"td"),o.hc(8,"span",114),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc(4),i=o.Oc(88);return c.paymentItem(i,n,"edit")})),o.cc(9,"i",115),o.gc(),o.hc(10,"span",114),o.sc("click",(function(){o.Qc(t);const n=e.$implicit,c=o.wc(4),i=o.Oc(88);return c.paymentItem(i,n,"Deleted")})),o.cc(11,"i",88),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index;o.Nb(2),o.dd(n+1),o.Nb(2),o.dd(null==t?null:t.payment_description),o.Nb(2),o.dd(null==t?null:t.amount),o.Nb(2),o.Ec("ngbTooltip","Edit"),o.Nb(2),o.Ec("ngbTooltip","Delete")}}function Ei(t,e){1&t&&(o.hc(0,"strong",102),o.cd(1," Total Amount To Refund"),o.gc())}function Ti(t,e){1&t&&(o.hc(0,"strong",102),o.cd(1," Total Amount To Pay"),o.gc())}function Li(t,e){if(1&t&&(o.hc(0,"table",110),o.hc(1,"thead"),o.hc(2,"tr"),o.hc(3,"th"),o.cd(4,"S.no"),o.gc(),o.hc(5,"th"),o.cd(6,"Description"),o.gc(),o.hc(7,"th"),o.cd(8,"Amount"),o.gc(),o.hc(9,"th"),o.cd(10,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(11,"tbody"),o.ad(12,Ii,12,5,"tr",83),o.hc(13,"tr",100),o.hc(14,"td",111),o.ad(15,Ei,2,0,"strong",112),o.ad(16,Ti,2,0,"strong",112),o.gc(),o.hc(17,"td",113),o.hc(18,"strong"),o.cd(19),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc(3);o.Nb(12),o.Ec("ngForOf",t.paymentsList),o.Nb(3),o.Ec("ngIf",t.refundAmt<0),o.Nb(1),o.Ec("ngIf",t.refundAmt>0),o.Nb(3),o.dd(t.refundAmt)}}function $i(t,e){if(1&t){const t=o.ic();o.hc(0,"div",116),o.hc(1,"button",98),o.sc("click",(function(){o.Qc(t);const e=o.wc(3),n=o.Oc(88);return e.addPayments(n)})),o.hc(2,"strong"),o.cc(3,"i",117),o.cd(4," Add Payments"),o.gc(),o.gc(),o.gc()}}function Ai(t,e){if(1&t&&(o.fc(0),o.hc(1,"h6",107),o.hc(2,"strong"),o.cd(3,"Payments"),o.gc(),o.gc(),o.hc(4,"div",79),o.ad(5,Li,20,4,"table",108),o.ad(6,$i,5,0,"div",109),o.gc(),o.ec()),2&t){const t=o.wc(2);o.Nb(5),o.Ec("ngIf",null==t.paymentsList?null:t.paymentsList.length),o.Nb(1),o.Ec("ngIf","Void"!==(null==t.summaryData?null:t.summaryData.status))}}function Fi(t,e){if(1&t&&(o.ad(0,Di,7,1,"div",91),o.hc(1,"div",79),o.ad(2,Ni,26,2,"table",92),o.ad(3,Si,4,0,"div",93),o.gc(),o.ad(4,Ai,7,2,"ng-container",94)),2&t){const t=o.wc();o.Ec("ngIf",(null==t.invoicesData||null==t.invoicesData.data?null:t.invoicesData.data.length)&&"Void"!==(null==t.summaryData?null:t.summaryData.status)),o.Nb(2),o.Ec("ngIf",null==t.invoicesData||null==t.invoicesData.data?null:t.invoicesData.data.length),o.Nb(1),o.Ec("ngIf",!(null!=t.invoicesData&&null!=t.invoicesData.data&&t.invoicesData.data.length)&&"Submitted"!==(null==t.summaryData?null:t.summaryData.status)&&"Void"!==(null==t.summaryData?null:t.summaryData.status)),o.Nb(1),o.Ec("ngIf",(null==t.invoicesData||null==t.invoicesData.data?null:t.invoicesData.data.length)&&"Void"!==(null==t.summaryData?null:t.summaryData.status))}}function Ri(t,e){1&t&&(o.hc(0,"div",118),o.cc(1,"app-attachments"),o.gc())}function qi(t,e){1&t&&(o.hc(0,"li",41),o.ad(1,Ri,2,0,"ng-template",44),o.gc()),2&t&&o.Ec("ngbNavItem","suptDoc")}function ji(t,e){if(1&t){const t=o.ic();o.hc(0,"button",84),o.sc("click",(function(){return o.Qc(t),o.wc(3).addInvoices("update")})),o.hc(1,"strong"),o.cc(2,"i",85),o.cd(3," Add Invoices"),o.gc(),o.gc()}}function zi(t,e){if(1&t){const t=o.ic();o.hc(0,"span",87),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit;return o.wc(3).deleteInvoicesfrmSummary(e)})),o.cc(1,"i",88),o.gc()}}function Qi(t,e){if(1&t&&(o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.gc(),o.hc(7,"td"),o.cd(8),o.gc(),o.hc(9,"td"),o.cd(10),o.gc(),o.hc(11,"td"),o.cd(12),o.gc(),o.hc(13,"td",81),o.cd(14),o.gc(),o.hc(15,"td",81),o.cd(16),o.gc(),o.hc(17,"td",81),o.cd(18),o.gc(),o.hc(19,"td",81),o.cd(20),o.gc(),o.hc(21,"td",81),o.cd(22),o.gc(),o.hc(23,"td",82),o.ad(24,zi,2,0,"span",86),o.gc(),o.gc()),2&t){const t=e.$implicit,n=e.index,c=o.wc(3);o.Nb(2),o.ed(" ",n+1," "),o.Nb(2),o.dd(null==t?null:t.invoice_date),o.Nb(2),o.dd(null==t?null:t.invoice_number),o.Nb(2),o.dd(null==t?null:t.invoice_type),o.Nb(2),o.dd(null==t?null:t.gst_number),o.Nb(2),o.dd(null==t?null:t.trade_name),o.Nb(2),o.dd(null==t?null:t.sales_amount_before_tax),o.Nb(2),o.dd(null==t?null:t.cgst_amount),o.Nb(2),o.dd(null==t?null:t.sgst_amount),o.Nb(2),o.dd(null==t?null:t.igst_amount),o.Nb(2),o.dd(null==t?null:t.sales_amount_after_tax),o.Nb(2),o.Ec("ngIf","Submitted"!==(null==c.summaryData?null:c.summaryData.status)&&"Void"!==(null==c.summaryData?null:c.summaryData.status))}}function Bi(t,e){if(1&t&&(o.hc(0,"div",77),o.hc(1,"h6"),o.hc(2,"b"),o.cd(3,"Selected Invoices"),o.gc(),o.gc(),o.ad(4,ji,4,0,"button",78),o.gc(),o.hc(5,"div",79),o.hc(6,"table",80),o.hc(7,"thead"),o.hc(8,"tr"),o.hc(9,"th"),o.cd(10,"S.no"),o.gc(),o.hc(11,"th"),o.cd(12,"Invoice Date"),o.gc(),o.hc(13,"th"),o.cd(14,"Invoice No"),o.gc(),o.hc(15,"th"),o.cd(16,"Invoice Type"),o.gc(),o.hc(17,"th"),o.cd(18,"GST Number"),o.gc(),o.hc(19,"th"),o.cd(20,"Trade Name"),o.gc(),o.hc(21,"th",81),o.cd(22,"Taxable Value"),o.gc(),o.hc(23,"th",81),o.cd(24,"CGST"),o.gc(),o.hc(25,"th",81),o.cd(26,"SGST"),o.gc(),o.hc(27,"th",81),o.cd(28,"IGST"),o.gc(),o.hc(29,"th",81),o.cd(30,"Total Amount"),o.gc(),o.hc(31,"th",82),o.cd(32,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(33,"tbody"),o.ad(34,Qi,25,12,"tr",83),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc(2);o.Nb(4),o.Ec("ngIf","Submitted"!==(null==t.summaryData?null:t.summaryData.status)&&"Void"!==(null==t.summaryData?null:t.summaryData.status)),o.Nb(30),o.Ec("ngForOf",t.selectedInvoicesList)}}function Ji(t,e){1&t&&(o.hc(0,"li",76),o.ad(1,Bi,35,2,"ng-template",44),o.gc()),2&t&&o.Ec("ngbNavItem","selectedInv")}function Vi(t,e){1&t&&(o.hc(0,"div",119),o.cc(1,"app-additinal-info"),o.gc())}const Yi=function(t){return{tab:t}};function Gi(t,e){if(1&t&&o.dc(0,120),2&t){const t=o.wc().$implicit;o.wc();const e=o.Oc(86);o.Ec("ngTemplateOutlet",e)("ngTemplateOutletContext",o.Ic(2,Yi,t))}}function Hi(t,e){if(1&t){const t=o.ic();o.hc(0,"li",73),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc().seletedCatgry(n)})),o.ad(1,Gi,1,4,"ng-template",44),o.gc()}2&t&&o.Ec("ngbNavItem",e.$implicit.category)}function Ui(t,e){if(1&t&&(o.fc(0),o.hc(1,"div",122),o.hc(2,"p"),o.hc(3,"b"),o.cd(4),o.gc(),o.gc(),o.hc(5,"small"),o.cd(6),o.gc(),o.gc(),o.hc(7,"div",122),o.hc(8,"p"),o.hc(9,"b"),o.cd(10),o.gc(),o.gc(),o.hc(11,"small"),o.cd(12),o.gc(),o.gc(),o.hc(13,"div",122),o.hc(14,"p"),o.hc(15,"b"),o.cd(16),o.gc(),o.gc(),o.hc(17,"small"),o.cd(18),o.gc(),o.gc(),o.ec()),2&t){const t=e.$implicit;o.Nb(4),o.ed("Rs. ",null==t?null:t.sgst,""),o.Nb(2),o.ed("Total CGST (",null==t?null:t.tax,"%)"),o.Nb(4),o.ed("Rs. ",null==t?null:t.cgst,""),o.Nb(2),o.ed("Total SGST (",null==t?null:t.tax,"%)"),o.Nb(4),o.ed("Rs. ",null==t?null:t.igst,""),o.Nb(2),o.ed("Total IGST (",null==t?null:t.tax,"%)")}}function Zi(t,e){if(1&t&&(o.hc(0,"div",121),o.ad(1,Ui,19,6,"ng-container",83),o.hc(2,"div",122),o.hc(3,"p"),o.hc(4,"b"),o.cd(5),o.gc(),o.gc(),o.hc(6,"small"),o.cd(7,"Total Tax Amt."),o.gc(),o.gc(),o.hc(8,"div",122),o.hc(9,"p"),o.hc(10,"b"),o.cd(11),o.gc(),o.gc(),o.hc(12,"small"),o.cd(13,"Total Taxabl Amt."),o.gc(),o.gc(),o.hc(14,"div",122),o.hc(15,"p"),o.hc(16,"b"),o.cd(17),o.gc(),o.gc(),o.hc(18,"small"),o.cd(19,"Total Amt."),o.gc(),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(1),o.Ec("ngForOf",null==t.selectedCategoryDetails?null:t.selectedCategoryDetails.gst_details),o.Nb(4),o.ed("Rs. ",(null==t.selectedCategoryDetails||null==t.selectedCategoryDetails.get_total?null:t.selectedCategoryDetails.get_total.gst_amount)||0,""),o.Nb(6),o.ed("Rs. ",(null==t.selectedCategoryDetails||null==t.selectedCategoryDetails.get_total?null:t.selectedCategoryDetails.get_total.base_amount)||0,""),o.Nb(6),o.ed("Rs. ",(null==t.selectedCategoryDetails||null==t.selectedCategoryDetails.get_total?null:t.selectedCategoryDetails.get_total.total_amount)||0,"")}}function Wi(t,e){if(1&t){const t=o.ic();o.hc(0,"button",123),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(94);return e.amendTheSummary(n)})),o.hc(1,"strong",124),o.cd(2,"Amend Summary"),o.gc(),o.gc()}}function Xi(t,e){1&t&&(o.hc(0,"button",125),o.hc(1,"strong",124),o.cd(2,"Submitted"),o.gc(),o.gc())}function Ki(t,e){if(1&t){const t=o.ic();o.hc(0,"button",126),o.sc("click",(function(){return o.Qc(t),o.wc().submitSummary()})),o.hc(1,"strong",124),o.cd(2,"Submit"),o.gc(),o.gc()}}function to(t,e){if(1&t){const t=o.ic();o.hc(0,"button",127),o.sc("click",(function(){return o.Qc(t),o.wc().submitSummary()})),o.hc(1,"strong",124),o.cd(2,"Submit"),o.gc(),o.gc()}}function eo(t,e){if(1&t){const t=o.ic();o.hc(0,"button",128),o.sc("click",(function(){o.Qc(t);const e=o.wc(),n=o.Oc(106);return e.verifyPFX_password(n)})),o.hc(1,"strong",124),o.cd(2,"Sign & Submit"),o.gc(),o.gc()}}function no(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.gc(),o.hc(7,"td"),o.hc(8,"input",131,132),o.sc("ngModelChange",(function(n){return o.Qc(t),e.$implicit.particulars=n}))("keyup",(function(n){o.Qc(t);const c=e.$implicit;return o.wc(3).onChangeByCtgry(n,c,"particulars")})),o.gc(),o.gc(),o.hc(10,"td"),o.cd(11),o.gc(),o.hc(12,"td"),o.cd(13),o.gc(),o.hc(14,"td"),o.cd(15),o.gc(),o.hc(16,"td"),o.cd(17),o.gc(),o.hc(18,"td",81),o.cd(19),o.gc(),o.hc(20,"td"),o.cd(21),o.gc(),o.hc(22,"td",81),o.cd(23),o.gc(),o.hc(24,"td",81),o.cd(25),o.gc(),o.hc(26,"td",81),o.cd(27),o.gc(),o.hc(28,"td",81),o.cd(29),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index,c=o.wc(3);o.Nb(2),o.ed(" ",n+1," "),o.Nb(2),o.dd(null==t?null:t.sac_code),o.Nb(2),o.dd(null==t?null:t.invoice_no),o.Nb(2),o.Ec("ngModel",t.particulars)("disabled","Submitted"==(null==c.summaryData?null:c.summaryData.status)&&"Void"==(null==c.summaryData?null:c.summaryData.status))("readOnly","Submitted"==(null==c.summaryData?null:c.summaryData.status)&&"Void"==(null==c.summaryData?null:c.summaryData.status)),o.Nb(3),o.dd(null==t?null:t.checkin_date),o.Nb(2),o.dd(null==t?null:t.checkout_date),o.Nb(2),o.dd(null==t?null:t.no_of_nights),o.Nb(2),o.dd(null==t?null:t.no_of_guests),o.Nb(2),o.dd(null==t?null:t.base_amount),o.Nb(2),o.dd(null==t?null:t.tax),o.Nb(2),o.dd(null==t?null:t.cgst),o.Nb(2),o.dd(null==t?null:t.sgst),o.Nb(2),o.dd(null==t?null:t.igst),o.Nb(2),o.dd(null==t?null:t.amount)}}function co(t,e){if(1&t&&(o.hc(0,"table",99),o.hc(1,"thead"),o.hc(2,"tr"),o.hc(3,"th"),o.cd(4,"S.no"),o.gc(),o.hc(5,"th"),o.cd(6,"SAC code"),o.gc(),o.hc(7,"th"),o.cd(8,"Invoice No"),o.gc(),o.hc(9,"th"),o.cd(10,"Particulars"),o.gc(),o.hc(11,"th"),o.cd(12,"Check In"),o.gc(),o.hc(13,"th"),o.cd(14,"Check Out"),o.gc(),o.hc(15,"th"),o.cd(16,"No.of Nights"),o.gc(),o.hc(17,"th"),o.cd(18,"No.of Guests"),o.gc(),o.hc(19,"th"),o.cd(20,"Room Rate"),o.gc(),o.hc(21,"th"),o.cd(22,"Tax (%)"),o.gc(),o.hc(23,"th"),o.cd(24,"CGST Amt."),o.gc(),o.hc(25,"th"),o.cd(26,"SGST Amt."),o.gc(),o.hc(27,"th"),o.cd(28,"IGST Amt."),o.gc(),o.hc(29,"th"),o.cd(30,"Amount"),o.gc(),o.gc(),o.gc(),o.hc(31,"tbody"),o.ad(32,no,30,16,"tr",83),o.gc(),o.gc()),2&t){const t=o.wc().tab;o.Nb(32),o.Ec("ngForOf",null==t?null:t.breakup_details)}}function io(t,e){if(1&t){const t=o.ic();o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.hc(6,"input",133,134),o.sc("ngModelChange",(function(n){return o.Qc(t),e.$implicit.bill_no=n}))("keyup",(function(n){o.Qc(t);const c=e.$implicit;return o.wc(3).onChangeByCtgry(n,c,"bill_no")})),o.gc(),o.gc(),o.hc(8,"td"),o.cd(9),o.gc(),o.hc(10,"td"),o.hc(11,"input",131,132),o.sc("ngModelChange",(function(n){return o.Qc(t),e.$implicit.particulars=n}))("keyup",(function(n){o.Qc(t);const c=e.$implicit;return o.wc(3).onChangeByCtgry(n,c,"particulars")})),o.gc(),o.gc(),o.hc(13,"td"),o.cd(14),o.gc(),o.hc(15,"td",81),o.cd(16),o.gc(),o.hc(17,"td",81),o.cd(18),o.gc(),o.hc(19,"td",81),o.cd(20),o.gc(),o.hc(21,"td",81),o.cd(22),o.gc(),o.hc(23,"td",81),o.cd(24),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index,c=o.wc(3);o.Nb(2),o.ed(" ",n+1," "),o.Nb(2),o.dd(null==t?null:t.date),o.Nb(2),o.Ec("ngModel",t.bill_no)("disabled","Submitted"==(null==c.summaryData?null:c.summaryData.status)&&"Void"==(null==c.summaryData?null:c.summaryData.status))("readOnly","Submitted"==(null==c.summaryData?null:c.summaryData.status)||"Void"==(null==c.summaryData?null:c.summaryData.status)),o.Nb(3),o.dd(null==t?null:t.invoice_no),o.Nb(2),o.Ec("ngModel",t.particulars)("disabled","Submitted"==(null==c.summaryData?null:c.summaryData.status)&&"Void"==(null==c.summaryData?null:c.summaryData.status))("readOnly","Submitted"==(null==c.summaryData?null:c.summaryData.status)||"Void"==(null==c.summaryData?null:c.summaryData.status)),o.Nb(3),o.dd(null==t?null:t.sac_code),o.Nb(2),o.dd(null==t?null:t.base_amount),o.Nb(2),o.dd(null==t?null:t.cgst),o.Nb(2),o.dd(null==t?null:t.sgst),o.Nb(2),o.dd(null==t?null:t.igst),o.Nb(2),o.dd(null==t?null:t.amount)}}function oo(t,e){if(1&t&&(o.hc(0,"table",99),o.hc(1,"thead"),o.hc(2,"tr"),o.hc(3,"th"),o.cd(4,"S.no"),o.gc(),o.hc(5,"th"),o.cd(6,"Date"),o.gc(),o.hc(7,"th"),o.cd(8,"Bill No."),o.gc(),o.hc(9,"th"),o.cd(10,"Invoice No"),o.gc(),o.hc(11,"th"),o.cd(12,"Particulars"),o.gc(),o.hc(13,"th"),o.cd(14,"SAC Code"),o.gc(),o.hc(15,"th"),o.cd(16,"Base Amt."),o.gc(),o.hc(17,"th"),o.cd(18,"CGST Amt."),o.gc(),o.hc(19,"th"),o.cd(20,"SGST Amt."),o.gc(),o.hc(21,"th"),o.cd(22,"IGST Amt."),o.gc(),o.hc(23,"th"),o.cd(24,"Amount"),o.gc(),o.gc(),o.gc(),o.hc(25,"tbody"),o.ad(26,io,25,15,"tr",83),o.gc(),o.gc()),2&t){const t=o.wc().tab;o.Nb(26),o.Ec("ngForOf",null==t?null:t.breakup_details)}}function ao(t,e){if(1&t&&(o.hc(0,"div",79),o.hc(1,"div",129),o.ad(2,co,33,1,"table",130),o.ad(3,oo,27,1,"table",130),o.gc(),o.gc()),2&t){const t=e.tab;o.Nb(2),o.Ec("ngIf","Rooms"==(null==t?null:t.category)),o.Nb(1),o.Ec("ngIf","Rooms"!==(null==t?null:t.category))}}function so(t,e){if(1&t){const t=o.ic();o.hc(0,"button",152),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().createSummary(n,e)})),o.cd(1,"Save "),o.gc()}}function ro(t,e){if(1&t){const t=o.ic();o.hc(0,"button",152),o.sc("click",(function(){o.Qc(t);const e=o.wc().$implicit,n=o.Oc(8);return o.wc().editPayment(n,e)})),o.cd(1,"Save "),o.gc()}}function lo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",135),o.hc(1,"h5",136),o.cd(2,"Add Payment"),o.gc(),o.hc(3,"button",137),o.sc("click",(function(){return e.$implicit.close("Cross click")})),o.hc(4,"span",138),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",139),o.hc(7,"form",null,140),o.hc(9,"div",141),o.hc(10,"div",29),o.hc(11,"div",142),o.hc(12,"label",143),o.cd(13,"Payment Description"),o.gc(),o.hc(14,"input",144,145),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().paymentData.payment_description=e})),o.gc(),o.gc(),o.gc(),o.hc(16,"div",29),o.hc(17,"div",142),o.hc(18,"label",146),o.cd(19,"Amount"),o.gc(),o.hc(20,"input",147,148),o.sc("keypress",(function(e){return o.Qc(t),o.wc().checking(e)}))("ngModelChange",(function(e){return o.Qc(t),o.wc().paymentData.amount=e})),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(22,"div",1),o.hc(23,"div",149),o.hc(24,"button",150),o.sc("click",(function(){return e.$implicit.close("close")}))("click",(function(){return o.Qc(t),o.wc().cancelAddPayment()})),o.hc(25,"strong"),o.cd(26,"Cancel"),o.gc(),o.gc(),o.ad(27,so,2,0,"button",151),o.ad(28,ro,2,0,"button",151),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(14),o.Ec("ngModel",t.paymentData.payment_description),o.Nb(6),o.Ec("ngModel",t.paymentData.amount),o.Nb(7),o.Ec("ngIf",!(null!=t.paymentData&&t.paymentData.name)),o.Nb(1),o.Ec("ngIf",null==t.paymentData?null:t.paymentData.name)}}function go(t,e){if(1&t&&(o.hc(0,"option",164),o.cd(1),o.gc()),2&t){const t=e.$implicit;o.Ec("value",t.val),o.Nb(1),o.dd(null==t?null:t.key)}}function ho(t,e){if(1&t&&(o.cc(0,"object",165),o.xc(1,"safe")),2&t){const t=o.wc(2);o.Ec("data",o.yc(1,1,t.filePdf),o.Sc)}}function uo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",135),o.hc(1,"h5",153),o.cd(2,"Preview"),o.gc(),o.hc(3,"div",154),o.hc(4,"select",155,156),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().categoryData.category=e}))("change",(function(){o.Qc(t);const e=o.Oc(5);return o.wc().selectPrint(e)})),o.ad(6,go,2,2,"option",157),o.gc(),o.gc(),o.hc(7,"button",158),o.sc("click",(function(){return o.Qc(t),o.wc().downloadAllFiles()})),o.hc(8,"span",138),o.cc(9,"i",159),o.gc(),o.gc(),o.hc(10,"p",160),o.hc(11,"small"),o.cd(12,"size : "),o.gc(),o.cd(13),o.gc(),o.hc(14,"button",137),o.sc("click",(function(){return e.$implicit.close()})),o.hc(15,"span",138),o.cd(16,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(17,"div",161),o.hc(18,"div",162),o.ad(19,ho,2,3,"object",163),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(4),o.Ec("ngModel",t.categoryData.category),o.Nb(2),o.Ec("ngForOf",t.printFormats),o.Nb(7),o.ed("",null==t.previewFileSize?null:t.previewFileSize.size,"MB"),o.Nb(6),o.Ec("ngIf",t.filePdf)}}function po(t,e){if(1&t&&(o.cc(0,"object",165),o.xc(1,"safe")),2&t){const t=o.wc(2);o.Ec("data",o.yc(1,1,t.filePdf),o.Sc)}}function mo(t,e){if(1&t&&(o.hc(0,"div",135),o.hc(1,"div",166),o.hc(2,"h5",167),o.cd(3,"Signature File"),o.gc(),o.gc(),o.hc(4,"button",168),o.sc("click",(function(){return e.$implicit.close()})),o.hc(5,"span",138),o.cd(6,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(7,"div",169),o.hc(8,"div",162),o.ad(9,po,2,3,"object",163),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(9),o.Ec("ngIf",t.filePdf)}}function bo(t,e){1&t&&(o.hc(0,"small",177),o.cd(1,"* Required"),o.gc())}function fo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",135),o.hc(1,"h5",153),o.cd(2,"Amend summary"),o.gc(),o.hc(3,"button",137),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",138),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",169),o.hc(7,"form",170,140),o.sc("ngSubmit",(function(){o.Qc(t);const e=o.Oc(8);return o.wc().submitAmendSummary(e)})),o.hc(9,"div",142),o.hc(10,"label",171),o.cd(11,"Reason"),o.gc(),o.cc(12,"textarea",172,173),o.ad(14,bo,2,0,"small",174),o.gc(),o.hc(15,"div",13),o.hc(16,"button",175),o.sc("click",(function(){return e.$implicit.close()})),o.cd(17,"Cancel"),o.gc(),o.hc(18,"button",176),o.cd(19,"Submit"),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(8),e=o.Oc(13);o.Nb(14),o.Ec("ngIf",e.invalid&&t.submitted)}}function _o(t,e){if(1&t){const t=o.ic();o.hc(0,"div",182),o.hc(1,"div",183),o.hc(2,"div",184),o.hc(3,"p",185),o.hc(4,"strong"),o.cd(5),o.xc(6,"uppercase"),o.gc(),o.gc(),o.hc(7,"div"),o.hc(8,"p",186),o.cd(9),o.gc(),o.hc(10,"p",187),o.hc(11,"small"),o.cd(12),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(13,"div",188),o.hc(14,"input",189,190),o.sc("ngModelChange",(function(n){return o.Qc(t),e.$implicit.summaryStatus=n}))("change",(function(n){o.Qc(t);const c=e.$implicit;return o.wc(2).addContactToSummary(c,n.currentTarget.checked?"add":"remove")})),o.gc(),o.cc(16,"label",191),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit,n=e.index;o.Nb(5),o.dd(o.yc(6,7,null==t?null:t.contact_name.substring(0,2))),o.Nb(4),o.dd(null==t?null:t.contact_name),o.Nb(3),o.dd(null==t?null:t.contact_type),o.Nb(2),o.Gc("id","summaryStatus",n,""),o.Gc("name","summaryStatus",n,""),o.Ec("ngModel",t.summaryStatus),o.Nb(2),o.Gc("for","summaryStatus",n,"")}}function vo(t,e){1&t&&(o.hc(0,"div"),o.hc(1,"h6",192),o.cd(2,"No Contacts"),o.gc(),o.gc())}const yo=function(){return["../../../clbs/create-contact/"]},Co=function(t,e,n){return{prop:"summary_contact",taxpayer:t,location:e,paramsID:n}};function Po(t,e){if(1&t){const t=o.ic();o.hc(0,"div",135),o.hc(1,"h5",153),o.cd(2,"Add Contact"),o.gc(),o.hc(3,"button",137),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",138),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",178),o.ad(7,_o,17,9,"div",179),o.ad(8,vo,3,0,"div",94),o.hc(9,"div",180),o.hc(10,"button",181),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc().newContact(),n.close()})),o.cd(11,"+ Add Contact"),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(7),o.Ec("ngForOf",t.contactsByLocation),o.Nb(1),o.Ec("ngIf",!(null!=t.contactsByLocation&&t.contactsByLocation.length)),o.Nb(2),o.Ec("routerLink",o.Hc(4,yo))("queryParams",o.Kc(5,Co,null==t.summaryData?null:t.summaryData.tax_payer_details,t.summaryData.location,t.paramsID))}}function Oo(t,e){1&t&&(o.hc(0,"small",177),o.cd(1,"* Required"),o.gc())}function Mo(t,e){1&t&&(o.hc(0,"small",177),o.cd(1,"* Required"),o.gc())}function xo(t,e){1&t&&(o.hc(0,"small",177),o.cd(1,"* Required"),o.gc())}function wo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",135),o.hc(1,"h5",153),o.cd(2,"Send Email"),o.gc(),o.hc(3,"button",137),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",138),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",169),o.hc(7,"form",170,140),o.sc("ngSubmit",(function(){o.Qc(t);const n=e.$implicit,c=o.Oc(8);return o.wc().emailForm(c,n)})),o.hc(9,"div",142),o.hc(10,"div",193),o.hc(11,"input",194,195),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().emailTempData.recipients=e})),o.gc(),o.hc(13,"label",196),o.cd(14,"To"),o.gc(),o.gc(),o.ad(15,Oo,2,0,"small",174),o.gc(),o.hc(16,"div",197),o.hc(17,"div",193),o.hc(18,"label",198),o.cd(19,"CC"),o.gc(),o.hc(20,"input",199,200),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().clbsSettings.cc_mail_ids_for_clbs_reports=e})),o.gc(),o.gc(),o.hc(22,"small",201),o.cd(23,"Please, write comma (,) seperated emails"),o.gc(),o.gc(),o.hc(24,"div",142),o.hc(25,"div",193),o.hc(26,"input",202,203),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().emailTempData.subject=e})),o.gc(),o.gc(),o.ad(28,Mo,2,0,"small",174),o.gc(),o.hc(29,"quill-editor",204,205),o.sc("ngModelChange",(function(e){o.Qc(t);const n=o.wc();return 1==n.emailTempData.use_html?n.emailTempData.response_html:n.emailTempData.response=e})),o.gc(),o.ad(31,xo,2,0,"small",174),o.hc(32,"div",206),o.hc(33,"button",176),o.cd(34,"Send"),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(8),e=o.Oc(12),n=o.Oc(27),c=o.Oc(30),i=o.wc();o.Nb(11),o.Ec("ngModel",i.emailTempData.recipients),o.Nb(4),o.Ec("ngIf",e.invalid&&t.submitted),o.Nb(5),o.Ec("ngModel",i.clbsSettings.cc_mail_ids_for_clbs_reports),o.Nb(6),o.Ec("ngModel",i.emailTempData.subject),o.Nb(2),o.Ec("ngIf",n.invalid&&t.submitted),o.Nb(1),o.Ec("ngModel",1==i.emailTempData.use_html?i.emailTempData.response_html:i.emailTempData.response),o.Nb(2),o.Ec("ngIf",c.invalid&&t.submitted)}}const Do=function(){return["MMM d y h:mm a"]};function ko(t,e){if(1&t&&(o.hc(0,"ul",211),o.fc(1),o.hc(2,"li"),o.hc(3,"p",186),o.cd(4),o.gc(),o.hc(5,"p"),o.cd(6),o.xc(7,"date"),o.gc(),o.cc(8,"hr"),o.gc(),o.ec(),o.gc()),2&t){const t=e.$implicit,n=o.wc().$implicit;o.Nb(4),o.dd(t),o.Nb(2),o.dd(o.zc(7,2,n.creation,o.Hc(5,Do)))}}function No(t,e){if(1&t&&(o.hc(0,"div",209),o.fc(1),o.ad(2,ko,9,6,"ul",210),o.ec(),o.gc()),2&t){const t=e.$implicit;o.Nb(2),o.Ec("ngForOf",t.emails)}}function So(t,e){if(1&t&&(o.hc(0,"div",135),o.hc(1,"h5",153),o.cd(2,"Email Log"),o.gc(),o.hc(3,"button",137),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",138),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",178),o.hc(7,"div",207),o.ad(8,No,3,1,"div",208),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(8),o.Ec("ngForOf",t.emailLogs)}}function Io(t,e){1&t&&o.cd(0," Created ")}function Eo(t,e){if(1&t&&(o.hc(0,"span"),o.cd(1," from "),o.hc(2,"small"),o.cd(3),o.gc(),o.cd(4," to "),o.hc(5,"small"),o.cd(6),o.gc(),o.gc()),2&t){const t=o.wc(2).$implicit;o.Nb(3),o.dd(t.data.changed[0][1]||'" "'),o.Nb(3),o.ed("",t.data.changed[0][2]||'" "'," ")}}function To(t,e){if(1&t&&(o.hc(0,"p",218),o.cd(1),o.xc(2,"uppercase"),o.gc(),o.ad(3,Eo,7,2,"span",94)),2&t){const t=o.wc().$implicit;o.Nb(1),o.ed("Changed value of ",o.yc(2,2,t.data.changed[0][0])||'" "',""),o.Nb(2),o.Ec("ngIf",null==t||null==t.data?null:t.data.changed[0][1])}}function Lo(t,e){if(1&t&&(o.cd(0),o.cc(1,"br"),o.hc(2,"small"),o.cd(3),o.gc(),o.cd(4,", "),o.hc(5,"small"),o.cd(6),o.gc()),2&t){const t=o.wc().$implicit;o.ed(" added ",t.data.added[0][0]||'" "'," "),o.Nb(3),o.dd((null==t.data.added[0][1]?null:t.data.added[0][1].image1)||'" "'),o.Nb(3),o.dd((null==t.data.added[0][1]?null:t.data.added[0][1].image2)||'" "')}}function $o(t,e){1&t&&o.cd(0," removed list ")}function Ao(t,e){if(1&t&&(o.hc(0,"div",209),o.fc(1),o.hc(2,"ul",213),o.hc(3,"li"),o.hc(4,"div"),o.hc(5,"p",214),o.hc(6,"strong"),o.cd(7),o.gc(),o.gc(),o.hc(8,"small",215),o.cd(9),o.xc(10,"date"),o.gc(),o.gc(),o.cc(11,"div",216),o.ad(12,Io,1,0,"ng-template",217),o.ad(13,To,4,4,"ng-template",217),o.ad(14,Lo,7,3,"ng-template",217),o.ad(15,$o,1,0,"ng-template",217),o.gc(),o.gc(),o.ec(),o.gc()),2&t){const t=e.$implicit;o.Nb(7),o.dd(t.modified_by),o.Nb(2),o.dd(o.zc(10,6,t.creation,"short")),o.Nb(3),o.Ec("ngIf",null==t.data?null:t.data.created_by),o.Nb(1),o.Ec("ngIf",(null==t.data?null:t.data.changed)&&(null==t.data||null==t.data.changed?null:t.data.changed.length)),o.Nb(1),o.Ec("ngIf",(null==t.data?null:t.data.added)&&(null==t.data||null==t.data.added?null:t.data.added.length)),o.Nb(1),o.Ec("ngIf",(null==t.data?null:t.data.removed)&&(null==t.data?null:t.data.removed.length))}}function Fo(t,e){if(1&t&&(o.hc(0,"div",135),o.hc(1,"h5",153),o.cd(2,"Activity Log"),o.gc(),o.hc(3,"button",137),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",138),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",212),o.hc(7,"div",207),o.ad(8,Ao,16,9,"div",208),o.gc(),o.gc()),2&t){const t=o.wc();o.Nb(8),o.Ec("ngForOf",t.activityLogs)}}function Ro(t,e){1&t&&(o.hc(0,"small",177),o.cd(1,"* Required"),o.gc())}function qo(t,e){1&t&&(o.hc(0,"small",177),o.cd(1,"* Required"),o.gc())}function jo(t,e){1&t&&(o.hc(0,"small",177),o.cd(1,"* Required"),o.gc())}function zo(t,e){1&t&&(o.hc(0,"button",231),o.cd(1,"Add"),o.gc())}function Qo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",135),o.hc(1,"h5",153),o.cd(2,"Dispatch Info"),o.gc(),o.hc(3,"button",137),o.sc("click",(function(){return e.$implicit.close()})),o.hc(4,"span",138),o.cd(5,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(6,"div",169),o.hc(7,"form",170,140),o.sc("ngSubmit",(function(){o.Qc(t);const n=e.$implicit,c=o.Oc(8);return o.wc().dispatchFormAdd(c,n)})),o.hc(9,"div",197),o.hc(10,"label",219),o.cd(11,"Courier Service Name"),o.gc(),o.hc(12,"input",220,221),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().dispatchInfo.courier_service=e})),o.gc(),o.ad(14,Ro,2,0,"small",174),o.gc(),o.hc(15,"div",197),o.hc(16,"label",222),o.cd(17,"Tracking Id"),o.gc(),o.hc(18,"input",223,224),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().dispatchInfo.tracking_id=e})),o.gc(),o.ad(20,qo,2,0,"small",174),o.gc(),o.hc(21,"div",197),o.hc(22,"label",225),o.cd(23,"Dispatch Date"),o.gc(),o.hc(24,"input",226,227),o.sc("ngModelChange",(function(e){return o.Qc(t),o.wc().dispatchInfo.dispatch_date=e})),o.gc(),o.cc(26,"owl-date-time",228,229),o.ad(28,jo,2,0,"small",174),o.gc(),o.hc(29,"div",206),o.ad(30,zo,2,0,"button",230),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.Oc(8),e=o.Oc(13),n=o.Oc(19),c=o.Oc(25),i=o.Oc(27),a=o.wc();o.Nb(12),o.Ec("ngModel",a.dispatchInfo.courier_service)("disabled",null==a.dispatchInfo?null:a.dispatchInfo.name),o.Nb(2),o.Ec("ngIf",e.invalid&&t.submitted),o.Nb(4),o.Ec("ngModel",a.dispatchInfo.tracking_id)("disabled",null==a.dispatchInfo?null:a.dispatchInfo.name),o.Nb(2),o.Ec("ngIf",n.invalid&&t.submitted),o.Nb(4),o.Ec("ngModel",a.dispatchInfo.dispatch_date)("owlDateTime",i)("owlDateTimeTrigger",i)("min",a.minDispatchDate)("disabled",null==a.dispatchInfo?null:a.dispatchInfo.name),o.Nb(2),o.Ec("pickerType","calendar"),o.Nb(2),o.Ec("ngIf",c.invalid&&t.submitted),o.Nb(2),o.Ec("ngIf",!(null!=a.dispatchInfo&&a.dispatchInfo.name))}}function Bo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",135),o.hc(1,"div",166),o.hc(2,"h5",167),o.cd(3,"Verify Password"),o.gc(),o.gc(),o.hc(4,"button",168),o.sc("click",(function(){return e.$implicit.close()})),o.hc(5,"span",138),o.cd(6,"\xd7"),o.gc(),o.gc(),o.gc(),o.hc(7,"div",169),o.hc(8,"form",null,140),o.hc(10,"div",142),o.hc(11,"label",232),o.cd(12,"PFX File Password"),o.gc(),o.cc(13,"input",233,234),o.gc(),o.hc(15,"div",13),o.hc(16,"button",175),o.sc("click",(function(){return e.$implicit.close()})),o.cd(17,"Cancel"),o.gc(),o.hc(18,"button",235),o.sc("click",(function(){o.Qc(t);const e=o.Oc(9);return o.wc().submitTheVerifyPassword("addSignature",e)})),o.cd(19,"Add"),o.gc(),o.gc(),o.gc(),o.gc()}}let Jo=(()=>{class t{constructor(t,e,n,c,i,s,r){this.http=t,this.router=e,this.socketService=n,this.activatedRoute=c,this.dateTimeAdapter=i,this.modal=s,this.toastr=r,this.onChangeParticulars=new o.q,this.active=1,this.data=new Array(20),this.summaryData={},this.summaryInfo={},this.invoicesData={},this.invoicesTabs=[],this.paymentsList=[],this.paymentData={},this.company={},this.totalAmt="",this.refundAmt="",this.selectedInvoicesList=[],this.itemChangesToSave=[],this.categoryData={},this.contactsByLocation=[],this.contacts=[],this.printEnable=!1,this.selectedCategoryDetails={},this.filePdf="",this.apiDomain=a.a.apiDomain,this.emailTempData={},this.activityLogs=[],this.dispatchInfo={},this.saveSummaryPO=!1,this.clbsSettings={},i.setLocale("en-IN")}ngOnInit(){this.contacts=[],this.loginData=JSON.parse(localStorage.getItem("login")),this.company=JSON.parse(localStorage.getItem("company")),this.activatedRoute.params.subscribe(t=>this.paramsID=null==t?void 0:t.id),this.getSummaryDetails(),this.getCompanyDetails(),this.getClbsSettings()}getCompanyDetails(){var t;this.http.get(`${l.a.company}/${null===(t=this.company)||void 0===t?void 0:t.name}`).subscribe(t=>{t&&(this.company=t.data)})}getUserSignature(){let t=JSON.parse(localStorage.getItem("login"));console.log(t),this.http.get(`${l.a.resource}/${l.b.userSignature}`,{params:{filters:JSON.stringify([["name","=",null==t?void 0:t.email]]),fields:JSON.stringify(["*"])}}).subscribe(t=>{(null==t?void 0:t.data)&&(this.userSignatureDetails=t.data[0],console.log(this.userSignatureDetails))})}getSummaryDetails(t=!0){this.http.get(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`).subscribe(e=>{if(e){this.summaryData=e.data;let n=new Date(this.summaryData.modified);this.minDispatchDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t&&this.getSummariedData(),this.getInvoicesfilteredData(this.summaryData),this.getContactByLoctaion(),this.getUserSignature()}})}getSummariedData(){this.http.get(""+l.a.getBreakup,{params:{summary:this.paramsID}}).subscribe(t=>{var e,n,c,i;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)?(this.invoicesData=null==t?void 0:t.message,this.totalAmt=null===(c=null===(n=this.invoicesData)||void 0===n?void 0:n.data)||void 0===c?void 0:c.map(t=>t.amount).reduce((t,e)=>t+e,0),this.invoicesTabs=null===(i=this.invoicesData)||void 0===i?void 0:i.breakup_details_data,this.getPaymentsList(),this.checkWidthOfTabsScrollBar()):(this.invoicesData={},this.active=1)})}getInvoicesfilteredData(t){if(!t)return;const e={filters:[]};if(this.paramsID&&e.filters.push(["summary","=",""+this.paramsID]),t.from_date){const n=new Ct.a("Invoices","Custom",[t.from_date,t.to_date],"invoice_date").filter;n&&e.filters.push(n)}e.limit_page_length="None",e.fields=JSON.stringify(["*"]),e.filters=JSON.stringify(e.filters),e.order_by="`tabInvoices`.`invoice_date` desc",this.http.get(`${l.a.resource}/${l.b.invoices}`,{params:e}).subscribe(t=>{(null==t?void 0:t.data)&&(this.selectedInvoicesList=t.data)})}addInvoices(t){this.router.navigate(["./clbs/invoices/"+this.paramsID,{type:t}])}goBack(){this.router.navigate(["./clbs/summaries"])}getPaymentsList(){this.http.get(`${l.a.resource}/${l.b.summaryPayments}`,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["summary","like",""+this.paramsID]]),limit_page_length:"None"}}).subscribe(t=>{if(null==t?void 0:t.data){this.paymentsList=null==t?void 0:t.data;let e=this.paymentsList.map(t=>t.amount).reduce((t,e)=>t+e,0);this.refundAmt=this.totalAmt-e}})}addPayments(t){this.paymentData={},this.modal.open(t,{centered:!0,size:"md"})}createSummary(t,e){if(t.invalid)return void t.form.markAllAsTouched();t.value.doctype=l.b.summaryPayments,t.value.summary=this.paramsID,t.value.company=this.company.name;const n=new FormData;n.append("doc",JSON.stringify(t.value)),n.append("action","Save"),this.http.post(""+l.a.fileSave,n).subscribe(t=>{t&&(this.toastr.success("New Payment Added"),e.close(t),this.getPaymentsList(),this.getSummaryDetails())})}cancelAddPayment(){this.getPaymentsList()}previewDoc(t){var e,n;(null===(n=null===(e=this.invoicesData)||void 0===e?void 0:e.data)||void 0===n?void 0:n.length)?this.getPrintFormtsById(t):this.toastr.warning("no data found in summary breakups")}verifyPFX_password(t){var e,n;(null===(n=null===(e=this.invoicesData)||void 0===e?void 0:e.data)||void 0===n?void 0:n.length)?this.modal.open(t,{size:"md",centered:!0}):this.toastr.warning("no data found in summary breakups")}submitTheVerifyPassword(t,e){var n;this.http.get(`${l.a.resource}/${l.b.userSignature}`,{params:{filters:JSON.stringify([["name","=",null===(n=this.loginData)||void 0===n?void 0:n.name]]),fields:JSON.stringify(["*"])}}).subscribe(n=>{var c,i;n.data?(null===(c=null==n?void 0:n.data[0])||void 0===c?void 0:c.pfx_password)==e.form.value.password?this.submitSummary(t):this.toastr.error("Invalid Password"):this.toastr.error(null===(i=null==n?void 0:n.message)||void 0===i?void 0:i.message)})}getPrintFormtsById(t){var e;let n;if(this.printFormats=[],"noSignature"==t)n={name:this.paramsID};else if("addSignature"==t){if(!JSON.parse(null===(e=this.summaryData)||void 0===e?void 0:e.contacts).length)return void this.toastr.info("Please Select Contact.");n={name:this.paramsID,add_signature:!0}}this.http.get(""+l.a.summaryPdfFiles,{params:n}).subscribe(e=>{var n,c,i,o,a;console.log(e),(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.success)?(this.modal.open("addSignature"==t?this.addSignature:this.preview,{size:"lg",centered:!0,windowClass:"printModal",backdrop:"static"}).result.then(e=>{"addSignature"==t&&window.location.reload()}),this.previewFileSize=null==e?void 0:e.message,this.printFormats=null===(i=null===(c=null==e?void 0:e.message)||void 0===c?void 0:c.files)||void 0===i?void 0:i.map(t=>{if(t){let e=Object.entries(t),n={};return n.key=e[0][0],n.val=this.apiDomain+e[0][1],n}}),this.printFormats.length&&(this.categoryData.category=null===(o=this.printFormats[0])||void 0===o?void 0:o.val,this.filePdf=null===(a=this.printFormats[0])||void 0===a?void 0:a.val)):this.toastr.error("Failed to Load")})}test(t){console.log(t.currentTarget.checked)}selectPrint(t){this.filePdf=this.categoryData.category}deleteInvoicesfrmSummary(t){this.http.get(""+l.a.deleteInvoiceFrmSmry,{params:{summary:this.paramsID,deleted_invoices:JSON.stringify([t.name])}}).subscribe(t=>{var e;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)&&(this.toastr.info("Deleted"),this.getInvoicesfilteredData(this.summaryData),this.getSummaryDetails())})}onNavChange(t){this.selectedCategoryDetails={}}onChangeByCtgry(t,e,n){let c={};"particulars"==n&&(c.particulars=t.target.value),"bill_no"==n&&(c.bill_no=t.target.value),c.name=null==e?void 0:e.name,this.itemChangesToSave.push(c);const i=[];this.itemChangesToSave.reverse().map(t=>i.filter(e=>e.name==t.name).length>0?null:i.push(t)),this.itemChangesToSave=i}saveChangesFun(){this.itemChangesToSave.length?this.http.post(l.a.updateSummary,{data:{summary:this.itemChangesToSave}}).subscribe(t=>{var e;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)?this.itemChangesToSave=[]:this.toastr.error("Error")}):this.toastr.info("No Changes to Save")}addContact(t){this.getContactByLoctaion(),this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu"}).result.then(t=>{this.getContactByLoctaion()})}newContact(){this.socketService.isContactAdded.subscribe(t=>{console.log(t),"refresh"==t&&window.location.reload()})}getContactByLoctaion(){var t;this.contacts=[],this.http.get(""+l.a.contacts,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["location","=",null===(t=this.summaryData)||void 0===t?void 0:t.location],["contact_status","=",1]]),limit_page_length:"None"}}).subscribe(t=>{var e;(null==t?void 0:t.data)&&(this.contactsByLocation=null==t?void 0:t.data.map((t,e)=>{var n;return JSON.parse(null===(n=this.summaryData)||void 0===n?void 0:n.contacts).forEach(e=>{e&&e==t.name&&(t.summaryStatus=!0)}),t}),console.log(this.contactsByLocation),(null===(e=this.contactsByLocation)||void 0===e?void 0:e.length)&&(this.contacts=this.contactsByLocation.filter(t=>{if(1===(null==t?void 0:t.contact_status)&&t.summaryStatus)return t}),this.contacts=this.contacts.slice(0,2)))})}addContactToSummary(t,e){var n;let c=JSON.parse(null===(n=this.summaryData)||void 0===n?void 0:n.contacts);if("add"==e&&c.push(t.name),"remove"==e){const e=c.indexOf(null==t?void 0:t.name);e>-1&&c.splice(e,1)}this.http.put(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`,{contacts:JSON.stringify(c)}).subscribe(t=>{this.getSummaryDetails(!1)})}downloadAllFiles(){var t=document.createElement("a");t.style.display="none",document.body.appendChild(t);for(var e=0;e<this.printFormats.length;e++){var n=this.printFormats[e];t.setAttribute("href",n.val),t.setAttribute("download",n.key),t.click()}document.body.removeChild(t)}seletedCatgry(t){this.selectedCategoryDetails=t}submitSummary(t=null){var e;JSON.parse(null===(e=this.summaryData)||void 0===e?void 0:e.contacts).length?this.http.get(""+l.a.submitSummary,{params:{summary:this.paramsID}}).subscribe(e=>{var n,c,i;(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.success)?(this.active=1,this.getSummaryDetails(),this.toastr.success(null===(c=null==e?void 0:e.message)||void 0===c?void 0:c.message),"addSignature"==t&&this.previewDoc(t)):this.toastr.error(null===(i=null==e?void 0:e.message)||void 0===i?void 0:i.message)}):this.toastr.info("Please Select Contact.")}getClbsSettings(){this.http.get(""+l.a.clbsSettings).subscribe(t=>{var e;(null==t?void 0:t.data[0])&&this.http.get(`${l.a.clbsSettings}/${null===(e=null==t?void 0:t.data[0])||void 0===e?void 0:e.name}`,{params:{fields:JSON.stringify(["*"])}}).subscribe(t=>{t&&(this.clbsSettings=null==t?void 0:t.data)})})}sendEmailTemp(t){this.emailTempData.recipients=this.contacts.map(t=>t.email_id),this.modal.open(t,{size:"lg",centered:!0,windowClass:"sideMenu50"}),this.getClbsSettings()}emailForm(t,e){var n;t.valid?this.http.put(`${l.a.clbsSettings}/${null===(n=this.company)||void 0===n?void 0:n.name}`,{data:{cc_mail_ids_for_clbs_reports:t.value.cc_mail_ids_for_clbs_reports}}).subscribe(n=>{n&&(this.http.post(""+l.a.sendEmailSummary,{data:{summary:this.paramsID,subject:t.value.subject,email:t.value.recipients,response:t.value.message}}).subscribe(t=>{var n;(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.success)?(this.toastr.success("Email Sent"),e.close("success")):this.toastr.error("Error")}),this.getCompanyDetails())}):(t.form.markAllAsTouched(),this.toastr.error("Error"))}getDispatchDetails(t){const e={filters:JSON.stringify([["summaries","=",this.paramsID]]),fields:JSON.stringify(["*"])};this.http.get(`${l.a.resource}/${l.b.dispatchInfo}`,{params:e}).subscribe(e=>{(null==e?void 0:e.data.length)?(this.dispatchInfo=null==e?void 0:e.data[0],this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu30"})):(this.dispatchInfo={},this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu30"}))})}dispatchTempFunc(t){this.getDispatchDetails(t)}dispatchFormAdd(t,e){if(t.form.valid){let n=t.value;n.dispatch_date=p()(t.value.dispatch_date).format("YYYY/MM/DD");let c=Object.assign(Object.assign({},n),{summaries:this.paramsID});this.http.post(`${l.a.resource}/${l.b.dispatchInfo}`,{data:c}).subscribe(t=>{t&&(this.toastr.success("Success"),e.close("success"),this.active=1,this.getSummaryDetails())})}}dispatchFormEdit(t,e){var n;let c=Object.assign(Object.assign({},t.value),{summaries:this.paramsID});this.http.put(`${l.a.resource}/${l.b.dispatchInfo}/${null===(n=this.dispatchInfo)||void 0===n?void 0:n.name}`,{data:c}).subscribe(t=>{t&&(this.toastr.success("Success"),e.close("success"),this.getSummaryDetails())})}activityOpen(t){this.getActivityLogs(),this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu"})}emailLogOpen(t){this.getEmailLogs(),this.modal.open(t,{size:"md",centered:!0,windowClass:"sideMenu"})}getEmailLogs(){let t={summary:this.paramsID,fields:JSON.stringify(["*"])};this.http.get(""+l.a.email_tracking,{params:t}).subscribe(t=>{if(null==t?void 0:t.data){let e=null==t?void 0:t.data.map(t=>(t.emails&&(t.emails=JSON.parse(t.emails)),t));this.emailLogs=e,console.log(this.emailLogs)}})}getActivityLogs(){JSON.stringify([["docname","=",""+this.paramsID]]),this.http.get(""+l.a.summary_activity_log,{params:{summary:this.paramsID}}).subscribe(t=>{var e,n;if(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success){let e=null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.data.map(t=>(t.data&&(t.data=JSON.parse(t.data)),t));this.activityLogs=e,console.log(this.activityLogs)}})}paymentItem(t,e,n){var c;if(this.paymentData=e,"edit"==n&&this.modal.open(t,{centered:!0,size:"md"}),"Deleted"==n){if(!window.confirm(`Are you sure to delete payment ${e.payment_description} ?`))return null;this.http.delete(`${l.a.resource}/${l.b.summaryPayments}/${null===(c=this.paymentData)||void 0===c?void 0:c.name}`).subscribe(t=>{t&&this.getPaymentsList()})}}editPayment(t,e){var n;t.valid?this.http.put(`${l.a.resource}/${l.b.summaryPayments}/${null===(n=this.paymentData)||void 0===n?void 0:n.name}`,{data:t.value}).subscribe(t=>{t&&(e.close(),this.getPaymentsList(),this.getSummaryDetails())}):t.form.markAllAsTouched()}poNumberFunc(t){t&&(this.saveSummaryPO=!0)}savePOFunc(){this.http.put(`${l.a.resource}/${l.b.summaries}/${this.paramsID}`,{data:{po_number:this.summaryData.po_number}}).subscribe(t=>{this.saveSummaryPO=!1,this.getSummaryDetails()})}getDocumentsList(){return Object(Ic.a)(this,void 0,void 0,(function*(){this.http.get(`${l.a.resource}/${l.b.summaryDocuments}`,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify([["summary","=",this.paramsID],["document_type","=","Invoices"]]),limit_page_length:"None"}}).subscribe(t=>{(null==t?void 0:t.data)&&(null==t||t.data.map(t=>Object(Ic.a)(this,void 0,void 0,(function*(){if((null==t?void 0:t.document)&&(null==t?void 0:t.qr_code_image)){const e=new FormData,n=yield this.fileType(t,!0);console.log("file ======",n);const c=this.dataURLtoFile(n,Date.now()+"with-qr.pdf");e.append("file",c),e.append("is_private","1"),e.append("folder","Home"),e.append("doctype",l.b.summaryDocuments),e.append("fieldname","invoice"),e.append("docname",t.name),this.http.post(l.a.uploadFile,e).subscribe(t=>{t&&console.log("res ===== ",t)})}}))))})}))}fileType(t,e=!1){var n;return Object(Ic.a)(this,void 0,void 0,(function*(){let e;e=null==t?void 0:t.qr_code_image;let c=this.apiDomain+(null==t?void 0:t.document);const i=yield fetch(c).then(t=>t.arrayBuffer()),o=yield Ec.PDFDocument.load(i,{ignoreEncryption:!0});o.setTitle("Tax Invoice");const a=o.getPages(),s="Last"==(null===(n=this.company)||void 0===n?void 0:n.qr_page)?a[a.length-1]:a[0];let r=e?this.apiDomain+e:null;if(r){const t=yield this.http.get(r,{responseType:"arraybuffer"}).toPromise(),e=yield o.embedPng(t);e.scale(.6),s.drawImage(e,{x:parseInt(this.company.qr_rect_x0),y:s.getHeight()-parseInt(this.company.qr_rect_y0)-parseInt(this.company.qr_rect_y1),width:parseInt(this.company.qr_rect_x1),height:parseInt(this.company.qr_rect_y1)});const n=yield o.saveAsBase64({dataUri:!0,addDefaultPage:!0});return this.previewFile=n,this.previewFile}console.log("QR img not found")}))}dataURLtoFile(t,e){for(var n=t.split(","),c=n[0].match(/:(.*?);/)[1],i=atob(n[1]),o=i.length,a=new Uint8Array(o);o--;)a[o]=i.charCodeAt(o);return new File([a],e,{type:c})}checking(t){t.charCode>=48&&t.charCode<=57||46==t.charCode||0==t.charCode?t.target.value.indexOf(".")>-1&&46==t.charCode&&t.preventDefault():t.preventDefault()}addSignatureToPreview(t){this.printFormats=[],this.http.get(""+l.a.summaryPdfFiles,{params:{name:this.paramsID,add_signature:!0}}).subscribe(e=>{var n,c,i,o,a;console.log(e),(null===(n=null==e?void 0:e.message)||void 0===n?void 0:n.success)?(this.modal.open(t,{size:"lg",centered:!0,windowClass:"printModal"}),this.previewFileSize=null==e?void 0:e.message,this.printFormats=null===(i=null===(c=null==e?void 0:e.message)||void 0===c?void 0:c.files)||void 0===i?void 0:i.map(t=>{if(t){let e=Object.entries(t),n={};return n.key=e[0][0],n.val=this.apiDomain+e[0][1],n}}),this.printFormats.length&&(this.categoryData.category=null===(o=this.printFormats[0])||void 0===o?void 0:o.val,this.filePdf=null===(a=this.printFormats[0])||void 0===a?void 0:a.val)):this.toastr.error("Failed to Load")})}amendTheSummary(t){this.modal.open(t,{size:"lg",centered:!0})}submitAmendSummary(t){t.invalid||this.http.put(""+l.a.summary_amendment,{summary:this.paramsID,reason_for_amendment:t.form.value.reason_for_amendment}).subscribe(t=>{this.modal.dismissAll(),this.router.navigate(["./clbs/summaries"])})}scrollLeft(){this.widgetsContent.nativeElement.scrollLeft-=150}scrollRight(){this.widgetsContent.nativeElement.scrollLeft+=150}ngbNavLinkClick(t){console.log(t)}checkWidthOfTabsScrollBar(){setTimeout(()=>{document.onreadystatechange=function(){if("complete"==document.readyState){var t=document.getElementById("scroll-l").offsetWidth/window.screen.width*100;return console.log(t),t>38}}},1e3)}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(i.e),o.bc(k.a),o.bc(i.a),o.bc(_.a),o.bc(v.k),o.bc(H.d))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-summary-details"]],viewQuery:function(t,e){var n;1&t&&(o.jd(li,!0),o.jd(di,!0),o.jd(gi,!0)),2&t&&(o.Nc(n=o.tc())&&(e.addSignature=n.first),o.Nc(n=o.tc())&&(e.preview=n.first),o.Nc(n=o.tc())&&(e.widgetsContent=n.first))},decls:107,vars:39,consts:[[1,"py-2","px-3"],[1,"row"],[1,"col-md-8","d-flex","align-items-center","my-auto","text-white"],[1,"m-0"],[1,"ri-arrow-left-line","back","btn-hover",3,"click"],[1,"pl-2"],[1,"ml-2"],[1,"d-flex"],[1,"mb-0","pr-2"],[1,"border-right"],[1,"mb-0","px-2"],[1,"col-md-4","d-flex","justify-content-end"],[1,"row","no-gutters","text-white"],[1,"d-flex","justify-content-end"],[1,"list-unstyled","d-flex","justify-content-around","align-items-center","m-0","border-left","pr-2"],["class","px-1",3,"click",4,"ngIf"],[1,"px-1",3,"click"],["ngbTooltip","Activity Log",1,"ri-exchange-funds-line","btn-hover","p-1"],["ngbTooltip","Preview",1,"ri-eye-line","btn-hover","p-1"],[1,"px-1"],["class","ri-mail-line  btn-hover p-1","ngbTooltip","Send Mail",3,"click",4,"ngIf"],["class","ri-truck-line  btn-hover p-1","ngbTooltip","Dispatch",3,"click",4,"ngIf"],[1,"list-unstyled","d-flex","justify-content-around","align-items-center","m-0","border-left","px-2"],["class","contactName d-flex justify-content-around align-items-center mr-2 ",4,"ngFor","ngForOf"],[1,"pl-2",3,"click"],[1,"addcontactInfo","btn-hover-gray"],[1,"ri-user-add-line"],[1,"container-fluid","h-80vh"],[1,"mb-5","pb-4"],[1,"col-md-12"],["ngbNav","",1,"nav-tabs","shadow-sm","border-0","bg-white","m-15",3,"activeId","activeIdChange","navChange"],["nav","ngbNav"],["class","pull-left mt-sm cursor-pointer",4,"ngIf"],["id","scroll-l",1,"scroll-l"],["widgetsContent",""],[3,"ngbNavItem"],["ngbNavLink",""],[3,"ngbNavItem","click",4,"ngFor","ngForOf"],["class","pull-right mt-sm cursor-pointer",4,"ngIf"],["class","mr-2",3,"ngbNavItem",4,"ngIf"],["class","ml-2",3,"ngbNavItem",4,"ngIf"],[1,"mr-2",3,"ngbNavItem"],["class","btn btn-primary btn-sm save","type","button",3,"click",4,"ngIf"],["nav1","ngbNav"],["ngbNavContent",""],[1,"mt-3",3,"ngbNavOutlet"],[1,"bg-white","row","d-flex","justify-content-between","shadow-sm","p-2","w-100"],[1,"col-8"],["class"," row d-flex justify-content-between align-items-center m-0",4,"ngIf"],[1,"col-4","text-right"],["class","btn btn-primary btn-sm mx-1",3,"click",4,"ngIf"],["class","btn btn-primary btn-sm","type","button",4,"ngIf"],["class","btn btn-primary btn-sm","type","button",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm mx-1","aria-label","submit","ngbTooltip","submit",3,"click",4,"ngIf"],["type","button","class","btn btn-primary btn-sm mx-1","aria-label","Add Signature","ngbTooltip","Add Signature",3,"click",4,"ngIf"],["dynamicTabContent",""],["addPayment",""],["preview",""],["addSignature",""],["amendSummary",""],["addCont",""],["sendEmail",""],["emailLog",""],["activityLog",""],["dispatchTemp",""],["verifyPfx_password",""],["ngbTooltip","Email Logs",1,"ri-mail-send-line","btn-hover","p-1"],["ngbTooltip","Send Mail",1,"ri-mail-line","btn-hover","p-1",3,"click"],["ngbTooltip","Dispatch",1,"ri-truck-line","btn-hover","p-1",3,"click"],[1,"contactName","d-flex","justify-content-around","align-items-center","mr-2"],[1,"pull-left","mt-sm","cursor-pointer"],[1,"mt-2","mb-0",3,"click"],[1,"ri-arrow-left-s-line","h4"],[3,"ngbNavItem","click"],[1,"pull-right","mt-sm","cursor-pointer"],[1,"ri-arrow-right-s-line","h4"],[1,"ml-2",3,"ngbNavItem"],[1,"col-12","d-flex","pb-2","justify-content-between","align-items-center"],["class","btn btn-primary ","type","button",3,"click",4,"ngIf"],[1,"bg-white","shadow-sm","list-table"],[1,"table","table-sm"],[1,"text-right"],[1,"text-center"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",3,"click"],[1,"ri-add-line"],["class","actions cursor-pointer",3,"click",4,"ngIf"],[1,"actions","cursor-pointer",3,"click"],[1,"ri-delete-bin-7-fill","btn-hover-gray","p-1"],["type","button",1,"btn","btn-primary","btn-sm","save",3,"click"],[1,"ri-save-line"],["class","col-12 d-flex pb-2 justify-content-end",4,"ngIf"],["class","table table-bordered table-sm",4,"ngIf"],["class","noData d-flex justify-content-center align-items-center",4,"ngIf"],[4,"ngIf"],[1,"col-12","d-flex","pb-2","justify-content-end"],["name","po_number","placeholder","Enter PO Number",1,"form-control","poNumber","mr-3",3,"ngModel","ngModelChange"],["poNumber","ngModel"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"table","table-bordered","table-sm"],[1,"bgClr"],["colspan","6",1,"text-right"],[1,"pr-3"],["colspan","1",1,"text-right","pr-3"],[1,"text-right","pr-3"],[1,"noData","d-flex","justify-content-center","align-items-center"],[1,"ri-file-fill"],[1,"p-2"],["class","table table-bordered  table-sm mb-0",4,"ngIf"],["class","py-3 d-flex justify-content-center align-items-center",4,"ngIf"],[1,"table","table-bordered","table-sm","mb-0"],["colspan","2",1,"text-right"],["class","pr-3",4,"ngIf"],["colspan","1",1,"pr-3","text-right"],[1,"actions","mr-2","cursor-pointer",3,"ngbTooltip","click"],[1,"ri-pencil-fill","btn-hover-gray","p-1"],[1,"py-3","d-flex","justify-content-center","align-items-center"],[1,"ri-add-fill"],[1,"bg-white"],[1,""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"row","d-flex","justify-content-between","align-items-center","m-0"],[1,"col"],[1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"px-3"],["type","button",1,"btn","btn-primary","btn-sm"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],["type","button","aria-label","submit","ngbTooltip","submit",1,"btn","btn-primary","btn-sm","mx-1",3,"click"],["type","button","aria-label","Add Signature","ngbTooltip","Add Signature",1,"btn","btn-primary","btn-sm","mx-1",3,"click"],[1,"table-responsive"],["class","table table-bordered  table-sm",4,"ngIf"],["type","text","placeholder","Particulars","name","particulars",3,"ngModel","disabled","readOnly","ngModelChange","keyup"],["particulars","ngModel"],["type","text","placeholder","Bill No.","name","bill_no",3,"ngModel","disabled","readOnly","ngModelChange","keyup"],["bill_no","ngModel"],[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","scrollBody"],["form","ngForm"],[1,"row","mt-1"],[1,"form-group"],["for","payment_description"],["type","text","name","payment_description","placeholder","Payment Description","required","",1,"form-control",3,"ngModel","ngModelChange"],["payment_description","ngModel"],["for","amount"],["type","text","step","0.01","name","amount","placeholder","Amount","required","",1,"form-control",3,"ngModel","keypress","ngModelChange"],["amount","ngModel"],[1,"col-md-12","text-right","mt-1"],["type","button",1,"btn","btn-outline-primary","shadow-sm","mr-2",3,"click"],["class","btn btn-primary shadow-sm","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","shadow-sm",3,"click"],["id","modal-basic-title"],[1,"form-group","mb-0","px-5","printSelect"],["id","category","name","category",1,"custom-select",3,"ngModel","ngModelChange","change"],["category","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","button","aria-label","Download All","ngbTooltip","Download All ",1,"btn","btn-primary","btn-sm",3,"click"],[1,"ri-download-fill","btn-hover"],[1,"ml-3","mb-0","mt-3"],[1,"modal-body",2,"padding","20px"],[1,"",2,"width","100%","height","100vh"],["style","width: 100%;height: 100vh;","type","",3,"data",4,"ngIf"],[3,"value"],["type","",2,"width","100%","height","100vh",3,"data"],[1,"d-flex","justify-content-between","flex-grow-1"],["id","modal-basic-title flex-grow-1"],["type","button","aria-label","Close",1,"close","mx-0",3,"click"],[1,"modal-body"],[3,"ngSubmit"],["for","reason_for_amendment",1,"form-label"],["name","reason_for_amendment","id","reason_for_amendment","ngModel","","cols","30","rows","3","required","",1,"form-control"],["reason_for_amendment","ngModel"],["class","text-danger",4,"ngIf"],[1,"btn","btn-outline-primary","mx-1",3,"click"],["type","submit",1,"btn","btn-primary"],[1,"text-danger"],[1,"modal-body","p-0"],["class","border-bottom py-1",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","my-2"],[1,"btn","btn-primary",3,"routerLink","queryParams","click"],[1,"border-bottom","py-1"],[1,"d-flex","justify-content-between","align-items-center","px-3"],[1,"d-flex","align-items-center"],[1,"contactName","d-flex","justify-content-around","align-items-center","mr-3"],[1,"m-0","font-weight-bold"],[1,"m-0",2,"margin-top","-8px !important"],[1,"custom-control","custom-switch"],["type","checkbox",1,"custom-control-input",3,"id","ngModel","name","ngModelChange","change"],["summaryStatus","ngModel"],[1,"custom-control-label",3,"for"],[1,"text-center","mt-4"],[1,"input-with-label"],["type","text","id","recipients","name","recipients","required","",1,"form-control","pl-3",2,"padding-left","36px !important",3,"ngModel","ngModelChange"],["recipients","ngModel"],["for","recipients",1,"attach-label"],[1,"form-group","mb-3"],["for","cc_mail_ids_for_clbs_reports",1,"attach-label"],["type","text","id","cc_mail_ids_for_clbs_reports","name","cc_mail_ids_for_clbs_reports","required","",1,"form-control",2,"padding-left","44px !important",3,"ngModel","ngModelChange"],["cc_mail_ids_for_clbs_reports","ngModel"],[1,"text-warning"],["type","text","id","subject","name","subject","placeholder","Subject","required","",1,"form-control",3,"ngModel","ngModelChange"],["subject","ngModel"],["id","message","name","message","required","",1,"mail-quill-editor","ql-container","min-height-120",3,"ngModel","ngModelChange"],["message","ngModel"],[1,"mt-3","text-right"],[1,"activity-feed"],["class","feed-item",4,"ngFor","ngForOf"],[1,"feed-item"],["class","timeline pb-2",4,"ngFor","ngForOf"],[1,"timeline","pb-2"],[1,"modal-body","px-0"],[1,"timeline"],[1,"float-left","mb-0"],[1,"float-right","text-muted","mb-0"],[1,"clear"],[3,"ngIf"],[1,"mb-0"],["for","courier_service"],["type","text","id","courier_service","name","courier_service","required","",1,"form-control","bg-input",3,"ngModel","disabled","ngModelChange"],["courier_service","ngModel"],["for","tracking_id"],["type","text","id","tracking_id","name","tracking_id","required","",1,"form-control","bg-input",3,"ngModel","disabled","ngModelChange"],["tracking_id","ngModel"],["for","dispatch_date"],["id","dispatch_date","name","dispatch_date","placeholder","dd/mm/yyyy","required","",1,"form-control","h-auto","bg-input",3,"ngModel","owlDateTime","owlDateTimeTrigger","min","disabled","ngModelChange"],["dispatch_date","ngModel"],[3,"pickerType"],["dt1",""],["class","btn btn-primary btn-sm","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-sm"],["for","password"],["type","password","placeholder","Enter PFX File Password","name","password","id","password","ngModel","",1,"form-control"],["password","ngModel"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t){const t=o.ic();o.hc(0,"header",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"h6",3),o.hc(4,"i",4),o.sc("click",(function(){return e.goBack()})),o.gc(),o.gc(),o.hc(5,"div",5),o.hc(6,"h6",3),o.hc(7,"b"),o.cd(8),o.gc(),o.hc(9,"small",6),o.cd(10),o.gc(),o.gc(),o.hc(11,"div",7),o.hc(12,"p",8),o.cd(13),o.gc(),o.cc(14,"div",9),o.hc(15,"p",10),o.cd(16),o.gc(),o.cc(17,"div",9),o.hc(18,"p",10),o.cd(19),o.xc(20,"date"),o.xc(21,"date"),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(22,"div",11),o.hc(23,"div",12),o.hc(24,"div",13),o.hc(25,"ul",14),o.ad(26,hi,2,0,"li",15),o.hc(27,"li",16),o.sc("click",(function(){o.Qc(t);const n=o.Oc(102);return e.activityOpen(n)})),o.cc(28,"i",17),o.gc(),o.hc(29,"li",16),o.sc("click",(function(){return e.previewDoc("noSignature")})),o.cc(30,"i",18),o.gc(),o.hc(31,"li",19),o.ad(32,ui,1,0,"i",20),o.gc(),o.hc(33,"li",19),o.ad(34,pi,1,0,"i",21),o.gc(),o.gc(),o.hc(35,"ul",22),o.hc(36,"li",7),o.ad(37,mi,4,3,"span",23),o.gc(),o.hc(38,"li",24),o.sc("click",(function(){o.Qc(t);const n=o.Oc(96);return e.addContact(n)})),o.hc(39,"span",25),o.cc(40,"i",26),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(41,"div",27),o.hc(42,"section",28),o.hc(43,"div",1),o.hc(44,"div",29),o.hc(45,"ul",30,31),o.sc("activeIdChange",(function(t){return e.active=t}))("navChange",(function(t){return e.onNavChange(t)})),o.ad(47,bi,3,0,"div",32),o.hc(48,"div",33,34),o.hc(50,"li",35),o.hc(51,"a",36),o.cd(52,"Summary"),o.gc(),o.gc(),o.ad(53,fi,3,2,"li",37),o.gc(),o.ad(54,_i,3,0,"div",38),o.cc(55,"div",9),o.ad(56,vi,3,1,"li",39),o.ad(57,Mi,4,1,"li",40),o.hc(58,"li",41),o.hc(59,"a",36),o.cd(60,"Additional Info"),o.gc(),o.gc(),o.gc(),o.ad(61,xi,4,0,"button",42),o.ad(62,wi,4,0,"button",42),o.gc(),o.hc(63,"div",29),o.hc(64,"ul",30,43),o.sc("activeIdChange",(function(t){return e.active=t}))("navChange",(function(t){return e.onNavChange(t)})),o.hc(66,"li",35),o.ad(67,Fi,5,4,"ng-template",44),o.gc(),o.ad(68,qi,2,1,"li",39),o.ad(69,Ji,2,1,"li",40),o.hc(70,"li",41),o.ad(71,Vi,2,0,"ng-template",44),o.gc(),o.ad(72,Hi,2,1,"li",37),o.gc(),o.cc(73,"div",45),o.gc(),o.gc(),o.gc(),o.hc(74,"footer"),o.hc(75,"div",46),o.hc(76,"div",47),o.ad(77,Zi,20,4,"div",48),o.gc(),o.hc(78,"div",49),o.hc(79,"div",13),o.ad(80,Wi,3,0,"button",50),o.ad(81,Xi,3,0,"button",51),o.ad(82,Ki,3,0,"button",52),o.ad(83,to,3,0,"button",53),o.ad(84,eo,3,0,"button",54),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(85,ao,4,2,"ng-template",null,55,o.bd),o.ad(87,lo,29,4,"ng-template",null,56,o.bd),o.ad(89,uo,20,4,"ng-template",null,57,o.bd),o.ad(91,mo,10,1,"ng-template",null,58,o.bd),o.ad(93,fo,20,1,"ng-template",null,59,o.bd),o.ad(95,Po,12,9,"ng-template",null,60,o.bd),o.ad(97,wo,35,7,"ng-template",null,61,o.bd),o.ad(99,So,9,1,"ng-template",null,62,o.bd),o.ad(101,Fo,9,1,"ng-template",null,63,o.bd),o.ad(103,Qo,31,14,"ng-template",null,64,o.bd),o.ad(105,Bo,20,0,"ng-template",null,65,o.bd)}if(2&t){const t=o.Oc(65);o.Nb(8),o.ed(" ",null==e.summaryData?null:e.summaryData.summary_title,""),o.Nb(2),o.ed("(",null==e.summaryData?null:e.summaryData.status,")"),o.Nb(3),o.dd(null==e.summaryData?null:e.summaryData.tax_payer_details),o.Nb(3),o.dd((null==e.summaryData?null:e.summaryData.legal_name)||"-----"),o.Nb(3),o.fd("",o.zc(20,33,null==e.summaryData?null:e.summaryData.from_date,"d MMMM, y")," - ",o.zc(21,36,null==e.summaryData?null:e.summaryData.to_date,"d MMMM , y"),""),o.Nb(7),o.Ec("ngIf","Submitted"==(null==e.summaryData?null:e.summaryData.status)),o.Nb(6),o.Ec("ngIf","Submitted"==(null==e.summaryData?null:e.summaryData.status)||"Void"==(null==e.summaryData?null:e.summaryData.status)),o.Nb(2),o.Ec("ngIf","Submitted"==(null==e.summaryData?null:e.summaryData.status)),o.Nb(3),o.Ec("ngForOf",e.contacts.slice(0,2)),o.Nb(8),o.Ec("activeId",e.active),o.Nb(2),o.Ec("ngIf",(null==e.invoicesTabs?null:e.invoicesTabs.length)>2),o.Nb(3),o.Ec("ngbNavItem",1),o.Nb(3),o.Ec("ngForOf",e.invoicesTabs),o.Nb(1),o.Ec("ngIf",(null==e.invoicesTabs?null:e.invoicesTabs.length)>2),o.Nb(2),o.Ec("ngIf",null==e.invoicesData||null==e.invoicesData.data?null:e.invoicesData.data.length),o.Nb(1),o.Ec("ngIf",(null==e.invoicesData||null==e.invoicesData.data?null:e.invoicesData.data.length)&&"Void"!==(null==e.summaryData?null:e.summaryData.status)),o.Nb(1),o.Ec("ngbNavItem","addInfo"),o.Nb(3),o.Ec("ngIf","Void"!==(null==e.summaryData?null:e.summaryData.status)&&"Submitted"!==(null==e.summaryData?null:e.summaryData.status)&&e.saveSummaryPO),o.Nb(1),o.Ec("ngIf","Submitted"!==(null==e.summaryData?null:e.summaryData.status)&&"Void"!==(null==e.summaryData?null:e.summaryData.status)&&(null==e.itemChangesToSave?null:e.itemChangesToSave.length)),o.Nb(2),o.Ec("activeId",e.active),o.Nb(2),o.Ec("ngbNavItem",1),o.Nb(2),o.Ec("ngIf",null==e.invoicesData||null==e.invoicesData.data?null:e.invoicesData.data.length),o.Nb(1),o.Ec("ngIf",(null==e.invoicesData||null==e.invoicesData.data?null:e.invoicesData.data.length)&&"Void"!==(null==e.summaryData?null:e.summaryData.status)),o.Nb(1),o.Ec("ngbNavItem","addInfo"),o.Nb(2),o.Ec("ngForOf",e.invoicesTabs),o.Nb(1),o.Ec("ngbNavOutlet",t),o.Nb(4),o.Ec("ngIf",null==e.selectedCategoryDetails||null==e.selectedCategoryDetails.gst_details?null:e.selectedCategoryDetails.gst_details.length),o.Nb(3),o.Ec("ngIf","Submitted"===(null==e.summaryData?null:e.summaryData.status)),o.Nb(1),o.Ec("ngIf","Submitted"===(null==e.summaryData?null:e.summaryData.status)&&"Void"==(null==e.summaryData?null:e.summaryData.status)),o.Nb(1),o.Ec("ngIf","Draft"==(null==e.summaryData?null:e.summaryData.status)&&"Administrator"==(null==e.loginData?null:e.loginData.name)),o.Nb(1),o.Ec("ngIf","Draft"==(null==e.summaryData?null:e.summaryData.status)&&"Administrator"!=(null==e.loginData?null:e.loginData.name)&&(0==e.clbsSettings.digital_signature||1==e.clbsSettings.digital_signature&&!(null!=e.userSignatureDetails&&e.userSignatureDetails.signature_image&&null!=e.userSignatureDetails&&e.userSignatureDetails.signature_pfx))),o.Nb(1),o.Ec("ngIf","Draft"==(null==e.summaryData?null:e.summaryData.status)&&"Administrator"!=(null==e.loginData?null:e.loginData.name)&&1==e.clbsSettings.digital_signature&&(null==e.userSignatureDetails?null:e.userSignatureDetails.signature_image)&&(null==e.userSignatureDetails?null:e.userSignatureDetails.signature_pfx))}},directives:[c.p,v.A,c.o,v.o,v.r,v.s,v.q,v.u,b.b,b.i,b.l,ti,ri,c.t,b.u,b.j,b.k,b.q,b.r,b.m,b.t,i.f,b.a,an.a,_.d,_.f,_.c],pipes:[c.f,c.z,Lc.a],styles:['.container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}i[_ngcontent-%COMP%]{vertical-align:middle}header[_ngcontent-%COMP%]{background:#213d47}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-weight:300!important;font-size:13px}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer}header[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:13px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:#fff!important}.table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #dee2e6!important}.m-15[_ngcontent-%COMP%]{margin:0 -15px;background-color:#fff!important}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding:.3rem!important}.table[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #eee;font-size:12px;background:#eee;border-radius:3px;padding:2px 6px}.save[_ngcontent-%COMP%]{position:absolute;top:4px;right:10px;font-size:13px;border-radius:0}.back[_ngcontent-%COMP%]{font-size:25px;cursor:pointer}.submitbtn[_ngcontent-%COMP%]{background-color:#fff;color:#000;height:30px!important;font-size:15px;border-color:#fff!important}.noData[_ngcontent-%COMP%]{min-height:50vh;max-height:100vh!important}.btn[_ngcontent-%COMP%]{height:35px;font-size:12px;border-radius:2px}.btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px}.bgClr[_ngcontent-%COMP%]{background-color:#eee!important}.actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#444;font-size:14px}footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;z-index:999}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:13px}.printSelect[_ngcontent-%COMP%]{max-width:15rem;min-width:10rem}.printSelect[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:35px}.modal-header[_ngcontent-%COMP%]{padding:.5rem 1rem!important}.addcontactInfo[_ngcontent-%COMP%]{padding:7px;background-color:#fff;border-radius:16px;color:#000}.contactName[_ngcontent-%COMP%]{height:35px;width:35px;text-align:center;margin:5px;background-color:green;border-radius:18px;color:#fff}.activity[_ngcontent-%COMP%]::-webkit-scrollbar{width:1px}.activity[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1}.activity[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888}.activity[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.activity[_ngcontent-%COMP%]{position:fixed;right:0;width:35%;top:0;height:100vh;background:#fff;overflow-y:scroll;z-index:999;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.activity[_ngcontent-%COMP%]   .activity-feed[_ngcontent-%COMP%]:after{content:"";position:absolute;left:9px;width:1px;height:100vh;background:rgba(243,112,103,.5490196078431373);top:42px}.activity-feed[_ngcontent-%COMP%]{padding:15px}.activity-feed[_ngcontent-%COMP%]   .feed-item[_ngcontent-%COMP%]{position:relative}.activity-feed[_ngcontent-%COMP%]   .feed-item[_ngcontent-%COMP%]:last-child{border-color:transparent}.activity-feed[_ngcontent-%COMP%]   .feed-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{position:relative;top:-5px;color:#8c96a3;text-transform:capitalize;font-size:12px;text-align:right}.activity-feed[_ngcontent-%COMP%]   .feed-item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{position:relative;font-size:13px;padding:10px;background:#f5caca;border-radius:6px;margin-left:5px;box-shadow:0 .125rem .25rem rgba(0,0,0,.08)!important;margin-bottom:5px}.poNumber[_ngcontent-%COMP%]{max-width:250px!important;height:35px}.min-height-120[_ngcontent-%COMP%]{min-height:120px!important}.clear[_ngcontent-%COMP%]{clear:both}.tl-date[_ngcontent-%COMP%]{font-size:.85em}.text-muted[_ngcontent-%COMP%]{color:#6c757d}ul.timeline[_ngcontent-%COMP%]{list-style-type:none;position:relative;margin-bottom:0;padding-bottom:25px;padding-right:30px;overflow:hidden}ul.timeline[_ngcontent-%COMP%]:before{content:" ";background:#d4d9df;display:inline-block;position:absolute;left:29px;width:1px;height:100%;z-index:400}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{margin:0;padding-left:10px;font-size:13px}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{background:#fff;border-radius:50%;border:1px solid #d4d9df;left:20px;width:20px;height:20px}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after, ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:" ";display:inline-block;position:absolute;z-index:400}ul.timeline[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:after{background:#0583af;border-radius:50%;border:none;left:27px;top:7px;width:6px;height:6px}.input-with-label[_ngcontent-%COMP%]{position:relative}.input-with-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#f5f5f5;border:none;font-size:13px}.input-with-label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:1px solid grey}.input-with-label[_ngcontent-%COMP%]   .attach-label[_ngcontent-%COMP%]{position:absolute;top:6px;left:8px;font-weight:700;font-size:13px}input.form-control[_ngcontent-%COMP%], select.custom-select[_ngcontent-%COMP%]{height:32px}.bg-input[_ngcontent-%COMP%]{background:#f5f5f5!important;border:none}.bg-input[_ngcontent-%COMP%]:focus{border:1px solid grey!important}.moreCateg[_ngcontent-%COMP%]{position:fixed;right:25px;top:65px}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.scroll-l[_ngcontent-%COMP%]{max-width:38%;display:flex;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;scroll-behavior:smooth}.pull-right[_ngcontent-%COMP%]{box-shadow:-7px 0 10px -3px #ebeff3}.pull-left[_ngcontent-%COMP%]{box-shadow:9px 0 9px -3px #ebeff3;z-index:1}']}),t})();function Vo(t,e){1&t&&o.dc(0)}function Yo(t,e){if(1&t&&o.ad(0,Vo,1,0,"ng-container",25),2&t){o.wc();const t=o.Oc(55);o.Ec("ngTemplateOutlet",t)}}function Go(t,e){1&t&&o.dc(0)}function Ho(t,e){if(1&t&&o.ad(0,Go,1,0,"ng-container",25),2&t){o.wc();const t=o.Oc(57);o.Ec("ngTemplateOutlet",t)}}function Uo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",31),o.hc(1,"div",32),o.hc(2,"div",33),o.hc(3,"div"),o.hc(4,"small",34),o.cd(5),o.gc(),o.gc(),o.hc(6,"div"),o.hc(7,"span",35),o.sc("click",(function(){o.Qc(t);const n=e.$implicit;return o.wc(2).openLocationModel(n,"edit")})),o.cc(8,"i",36),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=e.$implicit;o.Nb(5),o.id("",t.location,", ",t.address,", ",t.city,", ",t.state,", ",t.pin_code,"")}}function Zo(t,e){1&t&&(o.hc(0,"div",37),o.hc(1,"h6",38),o.cd(2,"No Data"),o.gc(),o.gc())}function Wo(t,e){if(1&t){const t=o.ic();o.hc(0,"div",26),o.hc(1,"button",27),o.sc("click",(function(){return o.Qc(t),o.wc().openNewLocationModel()})),o.hc(2,"span"),o.cd(3,"+"),o.gc(),o.cd(4,"Add Location"),o.gc(),o.hc(5,"div",28),o.ad(6,Uo,9,5,"div",29),o.gc(),o.ad(7,Zo,3,0,"div",30),o.gc()}if(2&t){const t=o.wc();o.Nb(6),o.Ec("ngForOf",t.locationsList),o.Nb(1),o.Ec("ngIf",!t.locationsList.length)}}const Xo=function(){return["../../clbs/create-contact/"]},Ko=function(t){return{prop:"Edit",name:t}};function ta(t,e){if(1&t&&(o.hc(0,"div",31),o.hc(1,"div",32),o.hc(2,"div",33),o.hc(3,"div",40),o.hc(4,"small",41),o.cc(5,"i",42),o.hc(6,"div",40),o.cd(7),o.cc(8,"br"),o.cd(9),o.hc(10,"b"),o.cd(11,"|"),o.gc(),o.cd(12),o.gc(),o.gc(),o.gc(),o.hc(13,"div"),o.hc(14,"span",43),o.cc(15,"i",36),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()),2&t){const t=e.$implicit;o.Nb(7),o.ed(" ",t.contact_name,""),o.Nb(2),o.ed(" ",t.email_id," "),o.Nb(3),o.ed(" ",t.phone_number," "),o.Nb(2),o.Ec("routerLink",o.Hc(5,Xo))("queryParams",o.Ic(6,Ko,t.name))}}function ea(t,e){1&t&&(o.hc(0,"div",37),o.hc(1,"h6",38),o.cd(2,"No Data"),o.gc(),o.gc())}const na=function(){return["/clbs/create-contact"]},ca=function(t,e){return{prop:"CreateWithGST",taxpayer:t,companyName:e}};function ia(t,e){if(1&t&&(o.hc(0,"div",26),o.hc(1,"button",39),o.hc(2,"span"),o.cd(3,"+"),o.gc(),o.cd(4,"Add Contacts"),o.gc(),o.hc(5,"div",28),o.ad(6,ta,16,8,"div",29),o.gc(),o.ad(7,ea,3,0,"div",30),o.gc()),2&t){const t=o.wc();o.Nb(1),o.Ec("routerLink",o.Hc(4,na))("queryParams",o.Jc(5,ca,t.paramsData.name,t.taxPayerDetails.legal_name)),o.Nb(5),o.Ec("ngForOf",t.contactsList),o.Nb(1),o.Ec("ngIf",!t.contactsList.length)}}class oa{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search="",this.name=""}}class aa{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search="",this.name=""}}let sa=(()=>{class t{constructor(t,e,n,c,i,a){this.location=t,this.modal=e,this.router=n,this.activatedRoute=c,this.http=i,this.toaster=a,this.filters=new oa,this.filters2=new aa,this.conatctsOnSearch=new o.q,this.locationsOnSearch=new o.q,this.paramsData={},this.active=1,this.taxPayerDetails={},this.selectedOption="companies",this.contactsList=[],this.locationsList=[],this.newLocationform={},this.paramsData=this.activatedRoute.snapshot.queryParams,this.formDisable="View"}ngOnInit(){this.getCompanyInfo(),this.getLocationsBtn()}checkTheSelectedTab(){}contactsFilter(){this.conatctsOnSearch.pipe(Object(d.a)(500)).subscribe(t=>this.updateRouterParams()),this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{this.filters.itemsPerPage=parseInt(t.itemsPerPage,0)||this.filters.itemsPerPage,this.filters.currentPage=parseInt(t.currentPage,0)||this.filters.currentPage,this.filters.search=t.search||this.filters.search;const e={filters:[]};return e.limit_start=this.filters.itemsPerPage,e.limit_page_length=this.filters.currentPage-1,e.filters.push(["taxpayer","=",this.paramsData.name]),this.filters.search&&e.filters.push(["contact_name","like",`%${this.filters.search}%`]),e.fields=JSON.stringify(["*"]),e.filters=JSON.stringify(e.filters),this.http.get(l.a.contacts,{params:e})})).subscribe(t=>{t.data&&(this.contactsList=t.data)})}locationsFilter(){this.locationsOnSearch.pipe(Object(d.a)(500)).subscribe(t=>this.updateRouterParams()),this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{this.filters2.itemsPerPage=parseInt(t.itemsPerPage,0)||this.filters2.itemsPerPage,this.filters2.currentPage=parseInt(t.currentPage,0)||this.filters2.currentPage,this.filters2.search=t.search||this.filters2.search;const e={filters:[]};return e.limit_start=this.filters2.itemsPerPage,e.limit_page_length=this.filters2.currentPage-1,e.filters.push(["taxpayer_details","=",this.paramsData.name]),this.filters2.search&&e.filters.push(["location","like",`%${this.filters2.search}%`]),e.fields=JSON.stringify(["*"]),e.filters=JSON.stringify(e.filters),this.http.get(l.a.taxpayerlocation,{params:e})})).subscribe(t=>{(null==t?void 0:t.data)&&(this.locationsList=t.data)})}checkPagination(){this.filters.currentPage=1,this.updateRouterParams()}getCompanyInfo(){let t=[["gst_number","=",this.paramsData.name]];this.http.get(l.a.taxPayerDefault,{params:{fields:JSON.stringify(["*"]),filters:JSON.stringify(t)}}).subscribe(t=>{t&&(this.taxPayerDetails=t.data[0])})}updateRouterParams(){let t;t="contacts"==this.selectedOption?this.filters:this.filters2,t.name=this.paramsData.name,console.log(t),this.router.navigate(["clbs/taxpayer-details"],{queryParams:t})}goBack(){this.location.back(),this.router.navigate(["clbs/taxpayers"])}sidenavSelection(t){this.selectedOption=t,"contacts"==this.selectedOption?(localStorage.setItem("taxpayerTab","2"),this.contactsFilter()):"locations"==this.selectedOption?(localStorage.setItem("taxpayerTab","3"),this.locationsFilter()):localStorage.setItem("taxpayerTab","1"),this.filters=new oa,this.filters2=new aa,this.updateRouterParams()}search(t){this.newLocationform.state="",this.newLocationform.city="",this.cities=[],this.invalidPincode="",t.length>5?fetch("https://api.postalpincode.in/pincode/"+t).then(t=>t.json()).then(t=>{var e,n,c;"Success"==(null===(e=t[0])||void 0===e?void 0:e.Status)?(this.zip_code_valid=!1,this.newLocationform.state=t[0].PostOffice[0].State,this.cities=null===(n=t[0])||void 0===n?void 0:n.PostOffice,console.log(this.cities)):(this.invalidPincode=null===(c=t[0])||void 0===c?void 0:c.Message,this.newLocationform.guest_state="",this.cities=[],this.zip_code_valid=!0)}):this.invalidPincode="Enter Valid Pincode"}openLocationModel(t,e){this.locationType=e,this.newLocationform=t,console.log();let n=this.modal.open(tt,{size:"md",centered:!0,backdrop:"static"});n.componentInstance.newLocationform=t,n.componentInstance.gstNumber=this.paramsData.name,n.componentInstance.locationType=e,n.result.then(t=>{},t=>{console.log("moda dismissed"),this.locationsFilter()})}openNewLocationModel(){let t=this.modal.open(tt,{size:"md",centered:!0,backdrop:"static"});t.componentInstance.gstNumber=this.paramsData.name,t.componentInstance.locationType="create",t.result.then(t=>{},t=>{console.log("moda dismissed"),this.getLocationsBtn()})}addLocation(t){if(t.form.markAllAsTouched(),console.log(t.form.invalid),t.form.invalid)return;let e=Object.assign(Object.assign(Object.assign({},t.form.value),{taxpayer_details:this.paramsData.name}),{company:JSON.parse(localStorage.getItem("company")).name});"edit"==this.locationType?this.http.put(l.a.taxpayerlocation+"/"+this.newLocationform.name,e).subscribe(t=>{console.log(t),this.modal.dismissAll()}):this.http.post(l.a.taxpayerlocation,e).subscribe(t=>{console.log(t),this.modal.dismissAll()}),console.log(e)}onSubmit(t){console.log(t.form.value),this.http.put(l.a.taxPayerDefault+"/"+this.paramsData.name,t.form.value).subscribe(t=>{console.log(t),this.taxPayerDetails=t.data,this.toaster.success("updated")})}getLocationsBtn(){const t={filters:[]};t.filters.push(["taxpayer_details","=",this.paramsData.name]),t.fields=JSON.stringify(["*"]),t.filters=JSON.stringify(t.filters),this.http.get(l.a.taxpayerlocation,{params:t}).subscribe(t=>{(null==t?void 0:t.data)&&(this.locationsList=t.data)})}getContactsBtn(){const t={filters:[]};t.filters.push(["taxpayer","=",this.paramsData.name]),t.fields=JSON.stringify(["*"]),t.filters=JSON.stringify(t.filters),this.http.get(l.a.contacts,{params:t}).subscribe(t=>{this.contactsList=t.data})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(c.l),o.bc(v.k),o.bc(i.e),o.bc(i.a),o.bc(m.b),o.bc(H.d))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-taxpayers-details"]],decls:58,vars:12,consts:[[1,"shadow"],[1,"py-1","px-3"],[1,"row"],[1,"col-md-6"],[1,"h6","d-flex","mt-0","mb-0"],[1,"ri-arrow-left-line","arrow-back","h3","m-0","cursor-pointer",3,"click"],[1,"ml-3","mt-2","mb-0"],[1,"col-md-6","my-auto"],[1,"container-fluid"],[1,"px-3","taxpayer-container"],[1,"row","no-gutters","my-2"],[1,"col-9"],[1,"row","m-0","d-flex","justify-content-between"],[1,"col","px-1"],[1,"card"],[1,"card-body"],[1,"col-3","border","px-1","bg-white","tabCollection"],["ngbNav","",1,"nav-tabs","shadow-sm","border-0","bg-white","m-15",3,"activeId","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem","click"],["ngbNavLink",""],["ngbNavContent",""],[3,"ngbNavOutlet"],["locations",""],["contacts",""],[4,"ngTemplateOutlet"],[1,"mx-2"],[1,"btn","btn-outline-primary","w-100","h-75","my-2","shadow-sm",3,"click"],[1,"side-h"],["class","card my-1",4,"ngFor","ngForOf"],["class","my-4",4,"ngIf"],[1,"card","my-1"],[1,"card-body","py-2","locationCard"],[1,"d-flex","justify-content-between"],[1,"mr-3"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Edit",1,"view","pl-2","cursor-pointer",3,"click"],[1,"ri-pencil-line","btn-hover-gray","p-1"],[1,"my-4"],[1,"text-center"],[1,"btn","btn-outline-primary","w-100","h-75","my-2","shadow-sm",3,"routerLink","queryParams"],[2,"width","80%"],[1,"mr-3","d-flex"],[1,"fas","fa-user-circle","h4","mr-3","mt-1"],["data-bs-toggle","tooltip","data-bs-placement","top","title","Edit",1,"view","pl-2","cursor-pointer",3,"routerLink","queryParams"]],template:function(t,e){if(1&t&&(o.hc(0,"header",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"div",3),o.hc(4,"div",4),o.hc(5,"i",5),o.sc("click",(function(){return e.goBack()})),o.gc(),o.hc(6,"p",6),o.cd(7),o.gc(),o.gc(),o.gc(),o.cc(8,"div",7),o.gc(),o.gc(),o.gc(),o.hc(9,"div",8),o.hc(10,"section",9),o.hc(11,"div",10),o.hc(12,"div",11),o.hc(13,"div",12),o.hc(14,"div",13),o.hc(15,"div",14),o.hc(16,"div",15),o.hc(17,"p"),o.cd(18,"Company"),o.gc(),o.hc(19,"p"),o.hc(20,"b"),o.cd(21),o.gc(),o.gc(),o.cc(22,"br"),o.hc(23,"p"),o.cd(24,"GSTIN"),o.gc(),o.hc(25,"p"),o.hc(26,"b"),o.cd(27),o.gc(),o.gc(),o.cc(28,"br"),o.hc(29,"p"),o.cd(30,"State code"),o.gc(),o.hc(31,"p"),o.hc(32,"b"),o.cd(33),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(34,"div",13),o.hc(35,"div",14),o.hc(36,"div",15),o.hc(37,"p"),o.cd(38,"Location"),o.gc(),o.hc(39,"p"),o.hc(40,"b"),o.cd(41),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(42,"div",16),o.hc(43,"ul",17,18),o.sc("activeIdChange",(function(t){return e.active=t})),o.hc(45,"li",19),o.sc("click",(function(){return e.getLocationsBtn()})),o.hc(46,"a",20),o.cd(47,"Locations"),o.gc(),o.ad(48,Yo,1,1,"ng-template",21),o.gc(),o.hc(49,"li",19),o.sc("click",(function(){return e.getContactsBtn()})),o.hc(50,"a",20),o.cd(51,"Contacts"),o.gc(),o.ad(52,Ho,1,1,"ng-template",21),o.gc(),o.gc(),o.cc(53,"div",22),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(54,Wo,8,2,"ng-template",null,23,o.bd),o.ad(56,ia,8,8,"ng-template",null,24,o.bd)),2&t){const t=o.Oc(44);o.Nb(7),o.fd(" ",null==e.taxPayerDetails?null:e.taxPayerDetails.legal_name,"(",null==e.taxPayerDetails?null:e.taxPayerDetails.gst_number,")"),o.Nb(14),o.dd(e.taxPayerDetails.legal_name),o.Nb(6),o.dd(e.taxPayerDetails.gst_number),o.Nb(6),o.dd(e.taxPayerDetails.state_code),o.Nb(8),o.gd("",e.taxPayerDetails.address_street,"",e.taxPayerDetails.location,",",e.taxPayerDetails.pincode,""),o.Nb(2),o.Ec("activeId",e.active),o.Nb(2),o.Ec("ngbNavItem",1),o.Nb(4),o.Ec("ngbNavItem",2),o.Nb(4),o.Ec("ngbNavOutlet",t)}},directives:[v.o,v.r,v.s,v.q,v.u,c.t,c.o,c.p,i.f],styles:['.container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}header[_ngcontent-%COMP%]{background:#213d47;color:#fff;padding:3px 0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#214350;color:#fff}.sidenav-c[_ngcontent-%COMP%]{min-height:100vh;background:#1f4350}.sidenav-c[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1f4350!important}.sidenav-c[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:118%}.cardNav[_ngcontent-%COMP%]{background-color:initial;color:#fff;border:none}.dx[_ngcontent-%COMP%]{border-right:none;border-top-left-radius:8px;border-bottom-left-radius:8px}.locationCard[_ngcontent-%COMP%]{background:#f2f4f5}.tabCollection[_ngcontent-%COMP%]{min-height:92vh}.side-h[_ngcontent-%COMP%]{overflow-y:scroll;max-height:77vh}.d-card[_ngcontent-%COMP%]{margin:2px}.d-card[_ngcontent-%COMP%], .t-cards[_ngcontent-%COMP%]{border:1px solid #e3dada}.title-3[_ngcontent-%COMP%]{margin-top:-5px!important}.card[_ngcontent-%COMP%]{border-radius:0}.c-title[_ngcontent-%COMP%]{color:#444}.btn-outline-primary[_ngcontent-%COMP%]{border-color:#e3dada;color:#444}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#fff}.taxpayer-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.taxpayer-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#2164e8;font-weight:600}.taxpayer-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n), .taxpayer-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background:#fff}.taxpayer-container[_ngcontent-%COMP%]   .table-bordered[_ngcontent-%COMP%]{border:0}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:0;border-top:0;font-size:12px;padding:9px 10px}.taxpayer-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .taxpayer-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:9px 10px;font-size:14px;border:1px solid rgba(221,218,218,.3)}.taxpayer-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:8px!important}.taxpayer-container[_ngcontent-%COMP%]   .badge-success[_ngcontent-%COMP%]{padding:6px 20px;border-radius:30px;margin:0 auto;text-align:center;background:transparent;font-size:12px;color:#000;position:relative}.taxpayer-container[_ngcontent-%COMP%]   .badge-success[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;background:#0bd72e;width:10px;height:10px;border-radius:50%}.taxpayer-container[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{max-width:200px}.taxpayer-container[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:5px;right:4px;cursor:pointer}.taxpayer-container[_ngcontent-%COMP%]   .badge-warning[_ngcontent-%COMP%]{padding:6px 20px;border-radius:30px;margin:0 auto;text-align:center;background:transparent;font-size:12px;color:#000;position:relative}.taxpayer-container[_ngcontent-%COMP%]   .badge-warning[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;background:#ffd00a;width:10px;height:10px;border-radius:50%}.taxpayer-container[_ngcontent-%COMP%]   .badge-danger[_ngcontent-%COMP%]{padding:6px 20px;border-radius:30px;margin:0 auto;text-align:center;background:transparent;font-size:12px;color:#000;position:relative}.taxpayer-container[_ngcontent-%COMP%]   .badge-danger[_ngcontent-%COMP%]:after{position:absolute;content:"";left:0;background:#ff2f0a;width:10px;height:10px;border-radius:50%}.taxpayer-container[_ngcontent-%COMP%]   tr.pending[_ngcontent-%COMP%]{background:#fd8787!important}.taxpayer-container[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px}.taxpayer-container[_ngcontent-%COMP%]   select.custom-select[_ngcontent-%COMP%]{height:auto}.taxpayer-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.taxpayer-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:13px}.taxpayer-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:5px;border:0!important}.taxpayer-container[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{max-width:50px!important;text-align:center}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){max-width:100px!important}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4)   div[_ngcontent-%COMP%]{max-width:140px!important}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5)   div[_ngcontent-%COMP%]{max-width:180px!important}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6)   div[_ngcontent-%COMP%]{max-width:120px!important;max-width:100px!important}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7)   div[_ngcontent-%COMP%], .taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8), .taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(9){max-width:100px!important}.taxpayer-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3)   div[_ngcontent-%COMP%]{max-width:-webkit-fit-content!important;max-width:-moz-fit-content!important;max-width:fit-content!important}']}),t})();const ra=function(){return["../../clbs/taxpayer-details/"]},la=function(t){return{type:"Edit",name:t}};function da(t,e){if(1&t&&(o.hc(0,"tr",23),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.gc(),o.hc(7,"td"),o.cd(8),o.gc(),o.gc()),2&t){const t=e.$implicit,n=e.index;o.Ec("routerLink",o.Hc(6,ra))("queryParams",o.Ic(7,la,t.name)),o.Nb(2),o.ed(" ",n+1," "),o.Nb(2),o.dd(t.trade_name),o.Nb(2),o.dd(t.gst_number),o.Nb(2),o.dd(t.status)}}function ga(t,e){if(1&t){const t=o.ic();o.fc(0),o.hc(1,"p",31),o.sc("click",(function(){o.Qc(t);const e=o.wc(2);return e.filters.start=e.taxpayerList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.ec()}}const ha=function(t){return{"bg-count":t}};function ua(t,e){if(1&t){const t=o.ic();o.hc(0,"div",24),o.hc(1,"div",25),o.ad(2,ga,3,0,"ng-container",26),o.gc(),o.hc(3,"div",27),o.hc(4,"div",28),o.hc(5,"p",29),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(20)})),o.cd(6,"20"),o.gc(),o.hc(7,"p",29),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(50)})),o.cd(8,"50"),o.gc(),o.hc(9,"p",29),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(100)})),o.cd(10,"100"),o.gc(),o.hc(11,"p",30),o.sc("click",(function(){return o.Qc(t),o.wc().checkPagination(500)})),o.cd(12,"500"),o.gc(),o.gc(),o.gc(),o.gc()}if(2&t){const t=o.wc();o.Nb(2),o.Ec("ngIf",t.taxpayerList.length<t.filters.totalCount),o.Nb(3),o.Ec("ngClass",o.Ic(5,ha,20==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(7,ha,50==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(9,ha,100==t.filters.itemsPerPage)),o.Nb(2),o.Ec("ngClass",o.Ic(11,ha,500==t.filters.itemsPerPage))}}class pa{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=25,this.search="",this.searchCompany="",this.start=0,this.status=""}}const ma=[{path:"",redirectTo:"summaries",pathMatch:"full"},{path:"",component:L,children:[{path:"summaries",component:Nc},{path:"contacts",component:G},{path:"taxpayers",component:(()=>{class t{constructor(t,e,n){this.http=t,this.router=e,this.activatedRoute=n,this.onSearch=new o.q,this.filters=new pa,this.taxpayerList=[]}ngOnInit(){var t;this.companyDetails=JSON.parse(localStorage.getItem("company")),this.filters.itemsPerPage=null===(t=this.companyDetails)||void 0===t?void 0:t.items_per_page,this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{this.updateRouterParams()}),this.getTaxPAyers()}updateRouterParams(){this.router.navigate(["clbs/taxpayers"],{queryParams:this.filters})}checkPagination(t){this.filters.itemsPerPage=t,this.filters.currentPage=1,this.updateRouterParams()}getTaxPAyers(){this.activatedRoute.queryParams.pipe(Object(g.a)(t=>{this.filters.search=t.search||this.filters.search,this.filters.searchCompany=t.searchCompany||this.filters.searchCompany;const e={filters:[]};e.limit_start=(this.filters.currentPage-1)*this.filters.itemsPerPage,e.limit_page_length=this.filters.itemsPerPage,this.filters.search&&e.filters.push(["gst_number","like",`%${this.filters.search}%`]),this.filters.searchCompany&&e.filters.push(["legal_name","like",`%${this.filters.searchCompany}%`]),this.filters.status&&e.filters.push(["status","like",`%${this.filters.status}%`]),e.filters=JSON.stringify(e.filters),e.fields=JSON.stringify(["*"]),e.order_by="`tabTaxPayerDetail`.`creation` desc";const n=this.http.get(""+l.a.taxpayerdetails,{params:{fields:JSON.stringify(["count( `tabTaxPayerDetail`.`name`) AS total_count"]),filters:e.filters}}),c=this.http.get(""+l.a.taxpayerdetails,{params:e});return Object($.a)([n,c])})).subscribe(t=>{1==this.filters.currentPage&&(this.taxpayerList=[]);const[e,n]=t;this.filters.totalCount=e.data[0].total_count,n.data=n.data.map((t,e)=>(t&&(t.index=this.taxpayerList.length+e+1),t)),n.data&&(this.taxpayerList=1!==this.filters.currentPage?this.taxpayerList.concat(n.data):n.data)})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(m.b),o.bc(i.e),o.bc(i.a))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-taxpayers"]],decls:50,vars:6,consts:[[1,"container-fluid","h-100vh"],[1,"row","py-2","filter-card"],[1,"col-md-5","grid"],[1,"d-flex","align-items-center"],[1,"mt-2"],[1,"card","row","mt-3","list-table","shadow-sm"],[1,"col-md-12","p-0"],[1,"table-responsive"],[1,"table","table-hover","table-sm"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ri-search-line"],["type","search",1,"form-control",3,"ngModel","ngModelChange","keyup","search","keyup.enter"],["searchCompany",""],["search",""],[1,"form-group","mb-0"],["id","summaryStatus",1,"custom-select",3,"ngModel","ngModelChange","change"],["value",""],["value","Active"],["value","In-Active"],["class","summary-table-tr",3,"routerLink","queryParams",4,"ngFor","ngForOf"],["class","d-flex justify-content-between morec pt-3",4,"ngIf"],[1,"summary-table-tr",3,"routerLink","queryParams"],[1,"d-flex","justify-content-between","morec","pt-3"],[1,"text-right","px-3"],[4,"ngIf"],[1,"px-3"],[1,"row","no-gutters","pagination"],[1,"px-2","py-1","mb-0","cursor-pointer","border-right",3,"ngClass","click"],[1,"px-2","py-1","mb-0","cursor-pointer",3,"ngClass","click"],[1,"cursor-pointer","px-2","py-1","pagination",3,"click"]],template:function(t,e){1&t&&(o.hc(0,"div",0),o.hc(1,"section"),o.hc(2,"div",1),o.hc(3,"div",2),o.hc(4,"div",3),o.hc(5,"h6",4),o.hc(6,"b"),o.cd(7),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(8,"div",5),o.hc(9,"div",6),o.hc(10,"div",7),o.hc(11,"table",8),o.hc(12,"thead"),o.hc(13,"tr"),o.hc(14,"th"),o.cd(15,"#"),o.gc(),o.hc(16,"th"),o.cd(17,"Company"),o.gc(),o.hc(18,"th"),o.cd(19,"GST No."),o.gc(),o.hc(20,"th"),o.cd(21,"Status"),o.gc(),o.gc(),o.hc(22,"tr"),o.cc(23,"td"),o.hc(24,"td"),o.hc(25,"div",9),o.hc(26,"div",10),o.hc(27,"span",11),o.cc(28,"i",12),o.gc(),o.gc(),o.hc(29,"input",13,14),o.sc("ngModelChange",(function(t){return e.filters.searchCompany=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.gc(),o.gc(),o.hc(31,"td"),o.hc(32,"div",9),o.hc(33,"div",10),o.hc(34,"span",11),o.cc(35,"i",12),o.gc(),o.gc(),o.hc(36,"input",13,15),o.sc("ngModelChange",(function(t){return e.filters.search=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.gc(),o.gc(),o.hc(38,"td"),o.hc(39,"div",16),o.hc(40,"select",17),o.sc("ngModelChange",(function(t){return e.filters.status=t}))("change",(function(){return e.onSearch.emit(e.filters)})),o.hc(41,"option",18),o.cd(42,"Showing all"),o.gc(),o.hc(43,"option",19),o.cd(44,"Active"),o.gc(),o.hc(45,"option",20),o.cd(46,"In-Active"),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(47,"tbody"),o.ad(48,da,9,9,"tr",21),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.ad(49,ua,13,13,"div",22),o.gc(),o.gc()),2&t&&(o.Nb(7),o.ed("Companies (",e.filters.totalCount,")"),o.Nb(22),o.Ec("ngModel",e.filters.searchCompany),o.Nb(7),o.Ec("ngModel",e.filters.search),o.Nb(4),o.Ec("ngModel",e.filters.status),o.Nb(8),o.Ec("ngForOf",e.taxpayerList),o.Nb(1),o.Ec("ngIf",e.taxpayerList.length))},directives:[b.b,b.i,b.l,b.r,b.m,b.t,c.o,c.p,i.f,c.n],styles:['.container-fluid[_ngcontent-%COMP%]{background:#f2f4f5}.h-100vh[_ngcontent-%COMP%]{height:100vh}.h-90vh[_ngcontent-%COMP%]{height:90vh}.h-80vh[_ngcontent-%COMP%]{height:80vh}.btn-primary[_ngcontent-%COMP%]{background-color:#0583af;border:#0583af}.btn-outline-primary[_ngcontent-%COMP%]{color:#0583af;border-color:#0583af}.custom-control-input[_ngcontent-%COMP%]:checked ~ .custom-control-label[_ngcontent-%COMP%]:before{border-color:#0583af;background-color:#0583af}.custom-checkbox[_ngcontent-%COMP%]   .custom-control-input[_ngcontent-%COMP%]:focus ~ .custom-control-label[_ngcontent-%COMP%]:before{box-shadow:none}.btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af}.btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .btn-outline-primary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):hover, .show[_ngcontent-%COMP%] > .btn-outline-primary.dropdown-toggle[_ngcontent-%COMP%]{background-color:#0583af;color:#fff}.list-table[_ngcontent-%COMP%]{width:100%;margin:0}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#ebeff3;color:#213d47;font-weight:700!important}.list-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:#fff;position:sticky;top:0;z-index:1}.table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{border-left:3px solid #213d47}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding:5px 10px;border:none}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px;min-width:110px}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{border:1px solid transparent;color:#0583af;border-bottom:4px solid #213d47!important}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0583af;border:1px solid transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:10px 25px;color:#333}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;font-weight:600;font-size:14px;box-shadow:none;padding:10px 40px 10px 10px;line-height:1}.c-header[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]:active{box-shadow:none}.avatar[_ngcontent-%COMP%]{width:32px;height:32px;background:#ad8b3a;position:absolute;display:block;left:6px;color:#fff;top:8px;text-align:center;line-height:32px;border-radius:50%}.table-responsive[_ngcontent-%COMP%]{max-height:82vh}.filter-card[_ngcontent-%COMP%]{background:#ebeff3}.filter-card[_ngcontent-%COMP%]   .grid[_ngcontent-%COMP%]   .btn-light[_ngcontent-%COMP%]{background:#fff;border:1px solid #d3d0d0;box-shadow:0 4px 4px rgba(0,0,0,.1);border-radius:4px;font-size:20px;padding:0 8px;margin-right:10px}.filter-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#faf4e8;border:1px solid #cfcccc;font-size:13px;border-radius:0;height:37px}.bg-count[_ngcontent-%COMP%]{background-color:#ffd3d3!important;font-weight:700}.more[_ngcontent-%COMP%]{color:#ee3737!important;font-weight:700;text-decoration:underline}.pagination[_ngcontent-%COMP%]{border:1px solid #d3d3d3}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{cursor:pointer}input[type=text][disabled][_ngcontent-%COMP%]{color:red!important;background-color:red!important}.bg-gray[_ngcontent-%COMP%]{background:#f9f9f9}.custom-select[_ngcontent-%COMP%]{height:30px!important}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background-color:""}']}),t})()},{path:"clbs-reports",component:w},{path:"events",component:te},{path:"clbs-settings",component:ic},{path:"document-type",component:Jt}]},{path:"create-summary",component:Lt},{path:"summary-details/:id",component:Jo},{path:"summary-details-view",component:Sc},{path:"create-contact",component:yt},{path:"invoices/:id",component:le},{path:"taxpayer-details",component:sa}];let ba=(()=>{class t{}return t.\u0275mod=o.Zb({type:t}),t.\u0275inj=o.Yb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(ma)],i.i]}),t})();var fa=n("oOf3"),_a=n("SYYg"),va=n("icpI"),ya=n("HgEw");let Ca=(()=>{class t{}return t.\u0275mod=o.Zb({type:t}),t.\u0275inj=o.Yb({factory:function(e){return new(e||t)},imports:[[c.c,ba,v.i,v.t,an.b,b.d,U.b,fa.a,Lc.b,et.b,_a.b,f.b,_.e,_.g,an.b,va.b,v.B,ya.b,on.b,v.i,v.z,cn,y.b]]}),t})()},ITC6:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var c=n("fXoL"),i=n("jhN1");let o=(()=>{class t{constructor(t){this.sanitizer=t}transform(t){return this.sanitizer.bypassSecurityTrustResourceUrl(t)}}return t.\u0275fac=function(e){return new(e||t)(c.bc(i.b))},t.\u0275pipe=c.ac({name:"safe",type:t,pure:!0}),t})(),a=(()=>{class t{}return t.\u0275mod=c.Zb({type:t}),t.\u0275inj=c.Yb({factory:function(e){return new(e||t)}}),t})()},ZMzJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var c=n("fXoL");let i=(()=>{class t{constructor(t){this.ele=t}onInputChange(t){const e=this.ele.nativeElement.value;this.ele.nativeElement.value=e.replace(/[^0-9]*/g,""),e!==this.ele.nativeElement.value&&t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(c.bc(c.o))},t.\u0275dir=c.Wb({type:t,selectors:[["","appNumberInput",""]],hostBindings:function(t,e){1&t&&c.sc("input",(function(t){return e.onInputChange(t)}))}}),t})(),o=(()=>{class t{}return t.\u0275mod=c.Zb({type:t}),t.\u0275inj=c.Yb({factory:function(e){return new(e||t)}}),t})()},mLv5:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var c=n("fXoL");let i=(()=>{class t{constructor(t){this.el=t,this.regex=new RegExp(/^\d*\.?\d{0,2}$/g),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(t){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(t.key))return;let e=this.el.nativeElement.value;const n=this.el.nativeElement.selectionStart,c=[e.slice(0,n),"Decimal"==t.key?".":t.key,e.slice(n)].join("");c&&!String(c).match(this.regex)&&t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(c.bc(c.o))},t.\u0275dir=c.Wb({type:t,selectors:[["","appDecimaNumber",""]],hostBindings:function(t,e){1&t&&c.sc("keydown",(function(t){return e.onKeyDown(t)}))}}),t})(),o=(()=>{class t{}return t.\u0275mod=c.Zb({type:t}),t.\u0275inj=c.Yb({factory:function(e){return new(e||t)}}),t})()}}]);