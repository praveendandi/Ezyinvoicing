(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{"lS+i":function(c,t,e){"use strict";e.r(t),e.d(t,"PermissionsModule",(function(){return L}));var n=e("ofXK"),i=e("tyNb"),l=e("t0ZU"),s=e("fXoL"),o=e("tk/3"),r=e("HgEw"),d=e("3Pt+");function h(c,t){if(1&c&&(s.hc(0,"option",14),s.cd(1),s.gc()),2&c){const c=t.$implicit;s.Dc("value",null==c?null:c.name),s.Nb(1),s.dd(null==c?null:c.name)}}function a(c,t){1&c&&s.cc(0,"i",16)}function g(c,t){1&c&&s.cc(0,"i",16)}function u(c,t){1&c&&s.cc(0,"i",16)}function f(c,t){1&c&&s.cc(0,"i",16)}function p(c,t){1&c&&s.cc(0,"i",16)}function m(c,t){1&c&&s.cc(0,"i",16)}function b(c,t){1&c&&s.cc(0,"i",16)}function v(c,t){1&c&&s.cc(0,"i",16)}function N(c,t){if(1&c&&(s.hc(0,"tr"),s.hc(1,"td"),s.cd(2),s.gc(),s.hc(3,"td"),s.cd(4),s.gc(),s.hc(5,"td"),s.cd(6),s.gc(),s.hc(7,"td"),s.ad(8,a,1,0,"i",15),s.gc(),s.hc(9,"td"),s.ad(10,g,1,0,"i",15),s.gc(),s.hc(11,"td"),s.ad(12,u,1,0,"i",15),s.gc(),s.hc(13,"td"),s.ad(14,f,1,0,"i",15),s.gc(),s.hc(15,"td"),s.ad(16,p,1,0,"i",15),s.gc(),s.hc(17,"td"),s.ad(18,m,1,0,"i",15),s.gc(),s.hc(19,"td"),s.ad(20,b,1,0,"i",15),s.gc(),s.hc(21,"td"),s.ad(22,v,1,0,"i",15),s.gc(),s.gc()),2&c){const c=t.$implicit,e=t.index;s.Nb(2),s.dd(e+1),s.Nb(2),s.dd(null==c?null:c.parent),s.Nb(2),s.dd(null==c?null:c.permlevel),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.read)),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.write)),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.create)),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.delete)),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.submit)),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.cancel)),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.amend)),s.Nb(2),s.Dc("ngIf","1"==(null==c?null:c.set_user_permissions))}}function w(c,t){1&c&&(s.hc(0,"div",17),s.hc(1,"h5"),s.cd(2,"No Data Found"),s.gc(),s.gc())}const D=[{path:"",component:(()=>{class c{constructor(c){this.http=c,this.permissionsList=[],this.rolesList=[]}ngOnInit(){this.getTotalRolesCount()}getTotalRolesCount(){this.http.get(""+l.a.roles,{params:{fields:JSON.stringify(["count( `tabRole`.`name`) AS total_count"])}}).subscribe(c=>{this.getRoles(c.data[0].total_count)})}getRoles(c){this.http.get(l.a.roles,{params:{limit_start:"0",limit_page_length:JSON.stringify(c)}}).subscribe(c=>{this.rolesList=c.data.filter(c=>c.name.includes("ezy"))})}selectRole(c){const t=new FormData;t.append("role",c.target.value),this.http.post(l.a.rolePermissions,t).subscribe(c=>{this.permissionsList=c.message})}}return c.\u0275fac=function(t){return new(t||c)(s.bc(o.b))},c.\u0275cmp=s.Vb({type:c,selectors:[["app-permissions"]],decls:42,vars:3,consts:[[1,"row","mb-3"],[1,"col-md-9","col-lg-9"],[1,"d-flex"],[1,"font-weight-bold","text-white"],[1,"col-lg-3","col-md-3"],[1,"position-relative","mt-2","mt-lg-0","mt-md-0"],["appMatInput","","name","roles","id","roles","placeholder","Select role","required","",1,"custom-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[1,"card"],[1,"table-responsive"],[1,"table"],[1,"thead"],[4,"ngFor","ngForOf"],["class","text-center py-3",4,"ngIf"],[3,"value"],["class","ri-check-line",4,"ngIf"],[1,"ri-check-line"],[1,"text-center","py-3"]],template:function(c,t){1&c&&(s.hc(0,"section"),s.hc(1,"div",0),s.hc(2,"div",1),s.hc(3,"div",2),s.hc(4,"h4",3),s.cd(5,"Permissions"),s.gc(),s.gc(),s.gc(),s.hc(6,"div",4),s.hc(7,"div",5),s.hc(8,"select",6),s.sc("change",(function(c){return t.selectRole(c)})),s.hc(9,"option"),s.cd(10,"Select Role"),s.gc(),s.ad(11,h,2,2,"option",7),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(12,"div",8),s.hc(13,"div",9),s.hc(14,"table",10),s.hc(15,"thead",11),s.hc(16,"tr"),s.hc(17,"th"),s.cd(18,"#"),s.gc(),s.hc(19,"th"),s.cd(20,"Document Type"),s.gc(),s.hc(21,"th"),s.cd(22,"Level"),s.gc(),s.hc(23,"th"),s.cd(24,"Read"),s.gc(),s.hc(25,"th"),s.cd(26,"Write"),s.gc(),s.hc(27,"th"),s.cd(28,"Create"),s.gc(),s.hc(29,"th"),s.cd(30,"Delete"),s.gc(),s.hc(31,"th"),s.cd(32,"Submit"),s.gc(),s.hc(33,"th"),s.cd(34,"Cancel"),s.gc(),s.hc(35,"th"),s.cd(36,"Amend"),s.gc(),s.hc(37,"th"),s.cd(38,"Set User Permissions"),s.gc(),s.gc(),s.gc(),s.hc(39,"tbody"),s.ad(40,N,23,11,"tr",12),s.gc(),s.gc(),s.ad(41,w,3,0,"div",13),s.gc(),s.gc(),s.gc()),2&c&&(s.Nb(11),s.Dc("ngForOf",t.rolesList),s.Nb(29),s.Dc("ngForOf",t.permissionsList),s.Nb(1),s.Dc("ngIf",!t.permissionsList.length))},directives:[r.a,d.m,d.t,n.o,n.p],styles:[".ri-check-line[_ngcontent-%COMP%]{color:green;font-size:18px;font-weight:bolder}"]}),c})()}];let y=(()=>{class c{}return c.\u0275mod=s.Zb({type:c}),c.\u0275inj=s.Yb({factory:function(t){return new(t||c)},imports:[[i.i.forChild(D)],i.i]}),c})();var I=e("oOf3");let L=(()=>{class c{}return c.\u0275mod=s.Zb({type:c}),c.\u0275inj=s.Yb({factory:function(t){return new(t||c)},imports:[[n.c,y,d.d,I.a,r.b]]}),c})()}}]);