(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{"Xn8+":function(t,e,c){"use strict";c.r(e),c.d(e,"TabletConfModule",(function(){return N}));var i=c("ofXK"),n=c("tyNb"),o=c("fXoL"),s=c("cp0P"),a=c("Kj3r"),r=c("1G5W"),l=c("eIep"),d=c("t0ZU"),h=c("1kSV"),g=c("tk/3"),u=c("5eHb"),f=c("yFR0"),b=c("3Pt+");function p(t,e){if(1&t){const t=o.ic();o.hc(0,"span"),o.hc(1,"a",20),o.sc("click",(function(){o.Pc(t);const e=o.wc().$implicit;return o.wc().resetTablet(e)})),o.cd(2,"Reset"),o.gc(),o.gc()}}function m(t,e){if(1&t&&(o.hc(0,"tr"),o.hc(1,"td"),o.cd(2),o.gc(),o.hc(3,"td"),o.cd(4),o.gc(),o.hc(5,"td"),o.cd(6),o.gc(),o.hc(7,"td"),o.cd(8),o.gc(),o.hc(9,"td"),o.cd(10),o.gc(),o.hc(11,"td"),o.cd(12),o.gc(),o.hc(13,"td"),o.ad(14,p,3,0,"span",19),o.gc(),o.gc()),2&t){const t=e.$implicit;o.Nb(2),o.dd(null==t?null:t.index),o.Nb(2),o.ed(" ",null==t?null:t.tablet," "),o.Nb(2),o.ed(" ",null==t?null:t.work_station," "),o.Nb(2),o.ed(" ",null==t?null:t.tablet_ip_address," "),o.Nb(2),o.ed(" ",null==t?null:t.work_station_ip_address," "),o.Nb(2),o.dd(null==t?null:t.mode),o.Nb(2),o.Dc("ngIf","Active"==(null==t?null:t.mode))}}function v(t,e){1&t&&(o.hc(0,"div",21),o.hc(1,"h5"),o.cd(2,"No Data Found"),o.gc(),o.gc())}function P(t,e){if(1&t){const t=o.ic();o.hc(0,"div"),o.hc(1,"p",26),o.sc("click",(function(){o.Pc(t);const e=o.wc(2);return e.filters.start=e.tableConfigList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),o.cd(2," more "),o.gc(),o.gc()}}function C(t,e){if(1&t){const t=o.ic();o.hc(0,"div",22),o.hc(1,"div",23),o.hc(2,"select",24),o.sc("ngModelChange",(function(e){return o.Pc(t),o.wc().filters.itemsPerPage=e}))("change",(function(){return o.Pc(t),o.wc().checkPagination()})),o.hc(3,"option",25),o.cd(4,"20"),o.gc(),o.hc(5,"option",25),o.cd(6,"50"),o.gc(),o.hc(7,"option",25),o.cd(8,"100"),o.gc(),o.hc(9,"option",25),o.cd(10,"150"),o.gc(),o.hc(11,"option",25),o.cd(12,"500"),o.gc(),o.gc(),o.gc(),o.ad(13,P,3,0,"div",19),o.gc()}if(2&t){const t=o.wc();o.Nb(2),o.Dc("ngModel",t.filters.itemsPerPage),o.Nb(1),o.Dc("value",20),o.Nb(2),o.Dc("value",50),o.Nb(2),o.Dc("value",100),o.Nb(2),o.Dc("value",150),o.Nb(2),o.Dc("value",500),o.Nb(2),o.Dc("ngIf",t.tableConfigList.length<t.filters.totalCount)}}class y{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.search=""}}const w=[{path:"",component:(()=>{class t{constructor(t,e,c,i,n,s){this.modal=t,this.router=e,this.http=c,this.activatedRoute=i,this.toaster=n,this.sockect=s,this.destroyEvents=new o.q,this.filters=new y,this.onSearch=new o.q,this.tableConfigList=[]}ngOnInit(){this.getWorkStationData(),this.onSearch.pipe(Object(a.a)(500)).subscribe(t=>{this.tableConfigList=[],this.filters.start=0,this.filters.totalCount=0,this.updateRouterParams()}),this.sockect.newInvoice.pipe(Object(r.a)(this.destroyEvents)).subscribe(t=>{var e;console.log(t,"ppppppppp"),"Tablet Configuration"===(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.message)&&(console.log(t,"ifff"),this.getWorkStationData())})}getWorkStationData(){this.activatedRoute.queryParams.pipe(Object(l.a)(t=>{const e={filters:[]};this.filters.search&&e.filters.push(["work_station","like",`%${this.filters.search}%`]),e.limit_start=this.filters.start,e.limit_page_length=this.filters.itemsPerPage,e.order_by="`tabTablet Config`.`creation` desc",e.fields=JSON.stringify(["name","creation","modified","modified_by","idx","work_station","tablet","username","tablet_ip_address","work_station_ip_address","mode"]),e.filters=JSON.stringify(e.filters);const c=this.http.get(`${d.a.resource}/${d.b.tabletConfig}`,{params:{fields:JSON.stringify(["count( `tabTablet Config`.`name`) AS total_count"]),filters:e.filters}}),i=this.http.get(`${d.a.resource}/${d.b.tabletConfig}`,{params:e});return Object(s.a)([c,i])})).subscribe(t=>{1==this.filters.currentPage&&(this.tableConfigList=[]);const[e,c]=t;this.filters.totalCount=e.data[0].total_count,c.data=c.data.map((t,e)=>(t&&(t.index=this.tableConfigList.length+e+1),t)),c.data&&(this.tableConfigList=0!==this.filters.start?this.tableConfigList.concat(c.data):c.data)})}updateRouterParams(){this.router.navigate(["home/tablet-conf"],{queryParams:this.filters})}resetTablet(t){this.http.post(d.a.tabletReset,{data:t}).subscribe(t=>{console.log(t),t&&this.getWorkStationData()})}}return t.\u0275fac=function(e){return new(e||t)(o.bc(h.k),o.bc(n.e),o.bc(g.b),o.bc(n.a),o.bc(u.d),o.bc(f.a))},t.\u0275cmp=o.Vb({type:t,selectors:[["app-tablet-conf"]],decls:40,vars:5,consts:[[1,"row","mb-3"],[1,"col-md-9","col-lg-9"],[1,"d-flex"],[1,"font-weight-bold","text-white","my-auto"],[1,"col-lg-3","col-md-3"],[1,"position-relative","mt-2","mt-lg-0","mt-md-0"],["type","search","placeholder","Search by WorkStation",1,"form-control","pl-5",3,"ngModel","ngModelChange","keyup","search","keyup.enter"],["search",""],[1,"search"],[1,"ri-search-line"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],["class","text-center py-3",4,"ngIf"],["class","d-flex pb-2 justify-content-between",4,"ngIf"],[4,"ngIf"],[3,"click"],[1,"text-center","py-3"],[1,"d-flex","pb-2","justify-content-between"],[1,"px-3"],["name","itemsPerPage","id","itemsPerPage",1,"custom-select",3,"ngModel","ngModelChange","change"],[3,"value"],[1,"text-right","pr-5","more","text-primary",3,"click"]],template:function(t,e){if(1&t){const t=o.ic();o.hc(0,"section"),o.hc(1,"div",0),o.hc(2,"div",1),o.hc(3,"div",2),o.hc(4,"h4",3),o.cd(5,"Tablet Config"),o.hc(6,"small"),o.cd(7),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(8,"div",4),o.hc(9,"div",5),o.hc(10,"input",6,7),o.sc("ngModelChange",(function(t){return e.filters.search=t}))("keyup",(function(){o.Pc(t);const c=o.Nc(11);return e.filters.search=c.value,e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)}))("keyup.enter",(function(){return e.updateRouterParams()})),o.gc(),o.hc(12,"span",8),o.cc(13,"i",9),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(14,"div",10),o.hc(15,"div",11),o.hc(16,"div",12),o.hc(17,"div",13),o.hc(18,"div",14),o.hc(19,"table",15),o.hc(20,"thead"),o.hc(21,"tr"),o.hc(22,"th"),o.cd(23,"S.No"),o.gc(),o.hc(24,"th"),o.cd(25,"Tablet Name"),o.gc(),o.hc(26,"th"),o.cd(27,"WorkStation Name"),o.gc(),o.hc(28,"th"),o.cd(29,"Tablet IP"),o.gc(),o.hc(30,"th"),o.cd(31,"WorkStation IP"),o.gc(),o.hc(32,"th"),o.cd(33,"Mode"),o.gc(),o.hc(34,"th"),o.cd(35,"Actions"),o.gc(),o.gc(),o.gc(),o.hc(36,"tbody"),o.ad(37,m,15,7,"tr",16),o.gc(),o.gc(),o.ad(38,v,3,0,"div",17),o.ad(39,C,14,7,"div",18),o.gc(),o.gc(),o.gc(),o.gc(),o.gc(),o.gc()}2&t&&(o.Nb(7),o.ed("(",e.filters.totalCount,")"),o.Nb(3),o.Dc("ngModel",e.filters.search),o.Nb(27),o.Dc("ngForOf",e.tableConfigList),o.Nb(1),o.Dc("ngIf",!e.tableConfigList.length),o.Nb(1),o.Dc("ngIf",e.tableConfigList.length))},directives:[b.b,b.i,b.l,i.o,i.p,b.r,b.m,b.t],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;font-size:14px;border:1px solid rgba(221,218,218,.3)}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}.more[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}"]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=o.Zb({type:t}),t.\u0275inj=o.Yb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(w)],n.i]}),t})(),N=(()=>{class t{}return t.\u0275mod=o.Zb({type:t}),t.\u0275inj=o.Yb({factory:function(e){return new(e||t)},imports:[[i.c,k,b.d]]}),t})()}}]);