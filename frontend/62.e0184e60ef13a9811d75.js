(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{bXhV:function(t,e,c){"use strict";c.r(e),c.d(e,"SaveGstinModule",(function(){return O}));var n=c("ofXK"),i=c("tyNb"),s=c("fXoL"),o=c("1G5W"),r=c("t0ZU"),d=c("xtfN"),a=c("nbXG"),h=c("tk/3"),g=c("5eHb"),l=c("mFJh"),u=c("1kSV"),b=c("3Pt+");function m(t,e){if(1&t&&(s.hc(0,"option",30),s.cd(1),s.gc()),2&t){const t=e.$implicit;s.Ec("value",t.short),s.Nb(1),s.dd(t.long)}}function p(t,e){if(1&t&&(s.hc(0,"option"),s.cd(1),s.gc()),2&t){const t=e.$implicit;s.Nb(1),s.dd(t)}}function v(t,e){if(1&t){const t=s.ic();s.hc(0,"button",33),s.sc("click",(function(){s.Qc(t);const e=s.wc().$implicit;return s.wc().retSubmitFun(e)})),s.cd(1,"Submit"),s.gc()}}function f(t,e){1&t&&(s.hc(0,"span"),s.cd(1,"Submited on 23/02/2022"),s.gc())}function S(t,e){if(1&t&&(s.hc(0,"tr"),s.hc(1,"td"),s.cd(2),s.gc(),s.hc(3,"td"),s.cd(4),s.gc(),s.hc(5,"td"),s.cd(6),s.gc(),s.hc(7,"td"),s.hc(8,"b"),s.cd(9),s.gc(),s.gc(),s.hc(10,"td"),s.ad(11,v,2,0,"button",31),s.ad(12,f,2,0,"ng-template",null,32,s.bd),s.gc(),s.gc()),2&t){const t=e.$implicit,c=s.Oc(13),n=s.wc();s.Nb(2),s.dd(null==t?null:t.creation),s.Nb(2),s.dd(null==t?null:t.b2b_count),s.Nb(2),s.dd(null==t?null:t.b2c_count),s.Nb(3),s.dd(null==t?null:t.ret_status_response),s.Nb(2),s.Ec("ngIf",!n.submitSuccess)("ngIfElse",c)}}const y=function(){return["/gstr/dashboard"]},x=function(){return["/gstr/gstr1"]},w=[{path:"",component:(()=>{class t{constructor(t,e,c,n,i,o){this.http=t,this.router=e,this.toastr=c,this.yearService=n,this.storageService=i,this.modal=o,this.yearsList=[],this.monthList=[],this.month="",this.year="",this.retSavedList=[],this.submitSuccess=!1,this.submitResp={},this.destroyEvents=new s.q}ngOnInit(){this.yearService.years.pipe(Object(o.a)(this.destroyEvents)).subscribe(t=>this.yearsList=t),this.yearService.months.pipe(Object(o.a)(this.destroyEvents)).subscribe(t=>this.monthList=t);const t=new Date;t.setMonth(t.getMonth()-1),this.month=JSON.stringify(t.getMonth()+1),this.year=t.getFullYear(),this.loginDetails=JSON.parse(this.storageService.getRawValue(a.b.LOGIN)||""),this.getRetSaveData()}returnSave(){let t={month:this.month,year:JSON.stringify(this.year)};this.http.post(r.a.retSave,t).subscribe(t=>{!0===t.message&&this.getRetSaveData()})}getRetSaveData(){this.http.get(`${r.a.resource}${r.b.gstrSavedData}`,{params:{fields:JSON.stringify(["*"]),order_by:"`tabGstr One Saved Details`.`creation` desc"}}).subscribe(t=>{t.data?this.retSavedList=t.data:this.returnSave()})}retSubmitFun(t){this.modal.open(d.a,{size:"md",centered:!0}).result.then(e=>{console.log(e),e&&this.http.post(r.a.retSubmit,{gstr_one_save_name:null==t?void 0:t.name,otp:e}).subscribe(t=>{var e,c;(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.success)?this.submitSuccess=!0:(this.submitSuccess=!1,this.toastr.error(null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.message))})})}ngOnDestroy(){this.destroyEvents.next(),this.destroyEvents.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.bc(h.b),s.bc(i.e),s.bc(g.d),s.bc(l.a),s.bc(a.a),s.bc(u.k))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-save-gstin"]],decls:62,vars:10,consts:[[1,"border-bottom","bg-linear","px-3"],[1,"container-fluid","px-5","py-1"],[1,"d-flex","no-gutters","justify-content-between"],[1,""],[1,"mb-0","text-white"],[1,"d-flex","align-items-center"],[1,"mb-0","text-white",3,"routerLink"],[1,"cursor-pointer","underline"],[1,"ri-arrow-right-s-line","text-white"],[1,"text-white","mb-0",3,"routerLink"],[1,"text-white","mb-0"],[1,"m-0"],[1,"pr-2","text-white"],[1,"flex-fill"],["id","my-select","name","month",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-fill","ml-3"],["id","my-select","name","year",1,"form-control","px-4",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[1,"mt-3"],[1,"container-fluid"],[1,"row"],[1,"col-md-6"],[1,"d-flex"],[1,"col-md-6","text-right"],["type","button",1,"btn","btn-primary","submit",3,"disabled"],[1,"row","mt-3"],[1,"col-md-12"],[1,"table","table-bordered","text-center","first-table"],[1,"thead-light"],[3,"value"],["class","btn btn-default submit","type","button",3,"click",4,"ngIf","ngIfElse"],["elseBlock",""],["type","button",1,"btn","btn-default","submit",3,"click"]],template:function(t,e){1&t&&(s.hc(0,"section",0),s.hc(1,"div",1),s.hc(2,"div",2),s.hc(3,"div",3),s.hc(4,"h6",4),s.hc(5,"strong"),s.cd(6,"Save To GSTIN"),s.gc(),s.gc(),s.hc(7,"div",5),s.hc(8,"div"),s.hc(9,"p",6),s.hc(10,"small",7),s.cd(11,"Dashboard"),s.gc(),s.gc(),s.gc(),s.hc(12,"div"),s.cc(13,"i",8),s.gc(),s.hc(14,"div"),s.hc(15,"p",9),s.hc(16,"small",7),s.cd(17,"GSTR1-Summary"),s.gc(),s.gc(),s.gc(),s.hc(18,"div"),s.cc(19,"i",8),s.gc(),s.hc(20,"div"),s.hc(21,"p",10),s.hc(22,"small",3),s.cd(23,"Save To GSTIN"),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(24,"div",5),s.hc(25,"div"),s.hc(26,"p",11),s.hc(27,"small",12),s.cd(28,"Return Period"),s.gc(),s.gc(),s.gc(),s.hc(29,"div",13),s.hc(30,"div",3),s.hc(31,"select",14),s.sc("ngModelChange",(function(t){return e.month=t}))("ngModelChange",(function(){return e.getRetSaveData()})),s.ad(32,m,2,2,"option",15),s.gc(),s.gc(),s.gc(),s.hc(33,"div",16),s.hc(34,"div",3),s.hc(35,"select",17),s.sc("ngModelChange",(function(t){return e.year=t}))("ngModelChange",(function(){return e.getRetSaveData()})),s.ad(36,p,2,1,"option",18),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(37,"section",19),s.hc(38,"div",20),s.hc(39,"div",21),s.hc(40,"div",22),s.cc(41,"div",23),s.gc(),s.hc(42,"div",24),s.hc(43,"button",25),s.cd(44,"File GSTR 1"),s.gc(),s.gc(),s.gc(),s.hc(45,"div",26),s.hc(46,"div",27),s.hc(47,"table",28),s.hc(48,"thead",29),s.hc(49,"tr"),s.hc(50,"th"),s.cd(51,"Saved On"),s.gc(),s.hc(52,"th"),s.cd(53,"B2B"),s.gc(),s.hc(54,"th"),s.cd(55,"B2C"),s.gc(),s.hc(56,"th"),s.cd(57,"Status"),s.gc(),s.hc(58,"th"),s.cd(59,"Submit"),s.gc(),s.gc(),s.gc(),s.hc(60,"tbody"),s.ad(61,S,14,6,"tr",18),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc()),2&t&&(s.Nb(9),s.Ec("routerLink",s.Hc(8,y)),s.Nb(6),s.Ec("routerLink",s.Hc(9,x)),s.Nb(16),s.Ec("ngModel",e.month),s.Nb(1),s.Ec("ngForOf",e.monthList),s.Nb(3),s.Ec("ngModel",e.year),s.Nb(1),s.Ec("ngForOf",e.yearsList),s.Nb(7),s.Ec("disabled",!e.submitSuccess),s.Nb(18),s.Ec("ngForOf",e.retSavedList))},directives:[i.f,b.r,b.i,b.l,n.o,b.m,b.t,n.p],styles:[".form-control[_ngcontent-%COMP%]{font-size:14px;height:35px}.custom-select[_ngcontent-%COMP%]{height:35px}i[_ngcontent-%COMP%]{vertical-align:middle!important}.crums[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.underline[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.submit[_ngcontent-%COMP%]{background:#0070d4;border-radius:0!important;padding:6px 20px!important;font-size:14px;color:#fff!important}"]}),t})()}];let N=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(e){return new(e||t)},imports:[[i.i.forChild(w)],i.i]}),t})(),O=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(e){return new(e||t)},imports:[[n.c,N,b.d]]}),t})()}}]);