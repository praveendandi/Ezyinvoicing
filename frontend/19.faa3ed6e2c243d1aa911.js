(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{C3g4:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));const c=[{tin:"1",state:"Jammu and Kashmir",code:"JK"},{tin:"2",state:"Himachal Pradesh",code:"HP"},{tin:"3",state:"Punjab",code:"PB"},{tin:"4",state:"Chandigarh",code:"CH"},{tin:"5",state:"Uttarakhand",code:"UK"},{tin:"6",state:"Haryana",code:"HR"},{tin:"7",state:"Delhi",code:"DL"},{tin:"8",state:"Rajasthan",code:"RJ"},{tin:"9",state:"Uttar Pradesh",code:"UP"},{tin:"10",state:"Bihar",code:"BR"},{tin:"11",state:"Sikkim",code:"SK"},{tin:"12",state:"Arunachal Pradesh",code:"AR"},{tin:"13",state:"Nagaland",code:"NL"},{tin:"14",state:"Manipur",code:"MN"},{tin:"15",state:"Mizoram",code:"MZ"},{tin:"16",state:"Tripura",code:"TR"},{tin:"17",state:"Meghalaya",code:"ML"},{tin:"18",state:"Assam",code:"AS"},{tin:"19",state:"West Bengal",code:"WB"},{tin:"20",state:"Jharkhand",code:"JH"},{tin:"21",state:"Odisha",code:"OD"},{tin:"22",state:"Chattisgarh",code:"CG"},{tin:"23",state:"Madhya Pradesh",code:"MP"},{tin:"24",state:"Gujarat",code:"GJ"},{tin:"26",state:"Dadra & Nagar Haveli and Daman & Diu",code:"DNHDD"},{tin:"27",state:"Maharashtra",code:"MH"},{tin:"29",state:"Karnataka",code:"KA"},{tin:"30",state:"Goa",code:"GA"},{tin:"31",state:"Lakshadweep Islands",code:"LD"},{tin:"32",state:"Kerala",code:"KL"},{tin:"33",state:"Tamil Nadu",code:"TN"},{tin:"34",state:"Pondicherry",code:"PY"},{tin:"35",state:"Andaman and Nicobar Islands",code:"AN"},{tin:"36",state:"Telangana",code:"TS"},{tin:"37",state:"Andhra Pradesh",code:"AD"},{tin:"38",state:"Ladakh",code:"LA"}]},DcT1:function(t,e,n){"use strict";n.r(e),n.d(e,"ManualCreditNotesModule",(function(){return yt}));var c=n("mLv5"),i=n("ZMzJ"),o=n("ofXK"),s=n("tyNb"),a=n("mrSG"),r=n("fXoL"),l=n("cp0P"),d=n("Kj3r"),h=n("eIep"),g=n("t0ZU"),u=n("wd/R"),p=n.n(u),f=n("C3g4"),m=n("mmdM"),b=n("d+JV"),v=n("1kSV"),y=n("tk/3"),_=n("5eHb"),M=n("MgRC"),C=n("3Pt+"),P=n("SYYg"),O=n("z17N");const w=["addCredit"];function N(t,e){if(1&t&&(r.hc(0,"h4",55),r.hc(1,"b"),r.cd(2),r.hc(3,"small"),r.cd(4),r.gc(),r.gc(),r.gc()),2&t){const t=r.wc();r.Nb(2),r.ed("",t.manualType," Notes "),r.Nb(2),r.ed("(",t.filters.totalCount,")")}}function x(t,e){if(1&t&&(r.hc(0,"h4",55),r.hc(1,"b"),r.cd(2),r.hc(3,"small"),r.cd(4),r.gc(),r.gc(),r.gc()),2&t){const t=r.wc();r.Nb(2),r.ed("Manual ",t.manualType," Notes "),r.Nb(2),r.ed("(",t.filters.totalCount,")")}}function k(t,e){if(1&t){const t=r.ic();r.hc(0,"div",56),r.hc(1,"input",57),r.sc("ngModelChange",(function(e){return r.Qc(t),r.wc().filters.search.filterDate=e}))("dateTimeChange",(function(){return r.Qc(t),r.wc().updateRouterParams()})),r.gc(),r.hc(2,"span",58),r.cc(3,"i",59),r.gc(),r.cc(4,"owl-date-time",60,61),r.gc()}if(2&t){const t=r.Oc(5),e=r.wc();r.Nb(1),r.Ec("ngModel",e.filters.search.filterDate)("owlDateTime",t)("selectMode","range")("owlDateTimeTrigger",t),r.Nb(1),r.Ec("owlDateTimeTrigger",t),r.Nb(2),r.Ec("pickerType","calendar")}}function I(t,e){if(1&t){const t=r.ic();r.hc(0,"button",62),r.sc("click",(function(){r.Qc(t);const e=r.wc(),n=r.Oc(135);return e.openModalIRN(n)})),r.cd(1,"Generate IRN"),r.gc()}}function T(t,e){1&t&&(r.hc(0,"p",63),r.cd(1,"How to add a credit invoice?"),r.gc())}function E(t,e){1&t&&(r.hc(0,"p",63),r.cd(1,"How to add a debit invoice?"),r.gc())}function D(t,e){if(1&t){const t=r.ic();r.hc(0,"p",64),r.sc("click",(function(){r.Qc(t);const e=r.wc(),n=r.Oc(133);return e.openVideo(n)})),r.cd(1,"How to add a manual invoice?"),r.gc()}}function S(t,e){1&t&&(r.hc(0,"th"),r.cd(1,"Sync Status"),r.gc())}function L(t,e){1&t&&(r.hc(0,"th"),r.cd(1,"Sync Date"),r.gc())}function R(t,e){if(1&t){const t=r.ic();r.hc(0,"div",65),r.hc(1,"select",66),r.sc("ngModelChange",(function(e){return r.Qc(t),r.wc().filters.search.irn=e}))("change",(function(){r.Qc(t);const e=r.wc();return e.onSearch.emit(e.filters)})),r.hc(2,"option",67),r.cd(3,"Showing all"),r.gc(),r.hc(4,"option",68),r.cd(5,"Pending"),r.gc(),r.hc(6,"option",69),r.cd(7,"Success"),r.gc(),r.hc(8,"option",70),r.cd(9,"Cancelled"),r.gc(),r.hc(10,"option",71),r.cd(11,"Error"),r.gc(),r.hc(12,"option",72),r.cd(13,"Zero Invoice"),r.gc(),r.hc(14,"option",73),r.cd(15,"Draft"),r.gc(),r.gc(),r.gc()}if(2&t){const t=r.wc();r.Nb(1),r.Ec("ngModel",t.filters.search.irn)}}function A(t,e){if(1&t){const t=r.ic();r.hc(0,"td",36),r.hc(1,"div",65),r.hc(2,"select",74),r.sc("ngModelChange",(function(e){return r.Qc(t),r.wc().filters.search.synced_to_erp=e}))("change",(function(){r.Qc(t);const e=r.wc();return e.onSearch.emit(e.filters)})),r.hc(3,"option",67),r.cd(4,"Showing all"),r.gc(),r.hc(5,"option",75),r.cd(6,"Synced"),r.gc(),r.hc(7,"option",76),r.cd(8,"Not Synced"),r.gc(),r.gc(),r.gc(),r.gc()}if(2&t){const t=r.wc();r.Nb(2),r.Ec("ngModel",t.filters.search.synced_to_erp)}}function B(t,e){1&t&&r.cc(0,"td",36)}function Y(t,e){if(1&t){const t=r.ic();r.hc(0,"div",33),r.hc(1,"input",83),r.sc("change",(function(e){r.Qc(t);const n=r.wc().$implicit;return r.wc().checkedItems(e,n)}))("ngModelChange",(function(e){return r.Qc(t),r.wc().$implicit.checked=e})),r.gc(),r.cc(2,"label",84),r.gc()}if(2&t){const t=r.wc(),e=t.index,n=t.$implicit;r.Nb(1),r.Gc("id","customCheck",e,""),r.Gc("name","item",e,""),r.Ec("ngModel",n.checked),r.Nb(1),r.Gc("for","customCheck",e,"")}}function z(t,e){if(1&t&&r.cc(0,"i",85),2&t){const t=r.wc().$implicit;r.Ec("ngbTooltip",t.error_message)}}const J=function(t){return{expiring_bg_warn:t}};function q(t,e){if(1&t&&(r.hc(0,"span",88),r.cd(1),r.gc()),2&t){const t=r.wc(2).$implicit;r.Ec("ngClass",r.Ic(2,J,!(0!=(null==t?null:t.expiry_days)&&1!=(null==t?null:t.expiry_days)||"Pending"!==t.irn_generated&&"Error"!==t.irn_generated||"B2B"!=t.invoice_type))),r.Nb(1),r.ed("",0==(null==t?null:t.expiry_days)?"Today":null==t?null:t.expiry_days," ")}}function G(t,e){1&t&&(r.hc(0,"span",89),r.cd(1,"Expired"),r.gc())}function j(t,e){if(1&t&&(r.hc(0,"td"),r.ad(1,q,2,4,"span",86),r.ad(2,G,2,0,"span",87),r.gc()),2&t){const t=r.wc().$implicit;r.Nb(1),r.Ec("ngIf",(null==t?null:t.expiry_days)>=0&&"B2B"==t.invoice_type),r.Nb(1),r.Ec("ngIf",(null==t?null:t.expiry_days)<0&&("Pending"===t.irn_generated||"Error"===t.irn_generated)&&"B2B"==t.invoice_type)}}const $=function(t,e,n,c,i){return{"badge-success":t,"badge-success":e,"badge-warning":n,"badge-default":c,"badge-danger":i}};function H(t,e){if(1&t&&(r.hc(0,"td",90),r.hc(1,"span",91),r.cd(2),r.gc(),r.gc()),2&t){const t=r.wc().$implicit;r.Nb(1),r.Ec("ngClass",r.Mc(2,$,"Zero Invoice"==t.irn_generated,"Success"==t.irn_generated,"Pending"==t.irn_generated,"Cancelled"==t.irn_generated,"Error"==t.irn_generated)),r.Nb(1),r.dd(t.irn_generated)}}const Z=function(t,e,n,c){return{"badge-success":t,"badge-success":e,"badge-warning":n,"badge-danger":c}};function Q(t,e){if(1&t&&(r.hc(0,"td",90),r.hc(1,"span",91),r.cd(2),r.gc(),r.gc()),2&t){const t=r.wc().$implicit;r.Nb(1),r.Ec("ngClass",r.Lc(2,Z,"Zero Invoice"==t.qr_generated,"Success"==t.qr_generated,"Pending"==t.qr_generated,"Error"==t.qr_generated)),r.Nb(1),r.dd(t.qr_generated)}}function F(t,e){if(1&t&&(r.hc(0,"td"),r.cd(1),r.gc()),2&t){const t=r.wc().$implicit;r.Nb(1),r.dd(null!=t&&t.synced_to_erp?"Synced":"Not Synced")}}const K=function(){return["MMM d y"]};function V(t,e){if(1&t&&(r.hc(0,"td"),r.cd(1),r.xc(2,"date"),r.gc()),2&t){const t=r.wc().$implicit;r.Nb(1),r.dd(r.zc(2,1,null==t?null:t.synced_date,r.Hc(4,K)))}}const W=function(t){return[t]},U=function(){return{prop:"invoice"}};function X(t,e){if(1&t&&(r.hc(0,"tr"),r.hc(1,"td"),r.cd(2),r.gc(),r.hc(3,"td"),r.ad(4,Y,3,4,"div",77),r.gc(),r.hc(5,"td"),r.cd(6),r.ad(7,z,1,1,"i",78),r.gc(),r.ad(8,j,3,2,"td",31),r.hc(9,"td"),r.hc(10,"span",79),r.cd(11),r.gc(),r.gc(),r.hc(12,"td"),r.hc(13,"span",79),r.cd(14),r.gc(),r.gc(),r.hc(15,"td"),r.cd(16),r.gc(),r.hc(17,"td"),r.cd(18),r.gc(),r.hc(19,"td"),r.cd(20),r.gc(),r.ad(21,H,3,8,"td",80),r.ad(22,Q,3,7,"ng-template",null,81,r.bd),r.hc(24,"td"),r.cd(25),r.xc(26,"date"),r.gc(),r.hc(27,"td"),r.cd(28),r.xc(29,"date"),r.gc(),r.ad(30,F,2,1,"td",31),r.ad(31,V,3,5,"td",31),r.hc(32,"td"),r.hc(33,"a",82),r.cd(34,"View"),r.gc(),r.gc(),r.gc()),2&t){const t=e.$implicit,n=r.Oc(23),c=r.wc();r.Nb(2),r.dd(null==t?null:t.index),r.Nb(2),r.Ec("ngIf","Pending"===t.irn_generated&&"B2B"==t.invoice_type),r.Nb(2),r.ed("",(null==t?null:t.invoice_number)||"NA"," "),r.Nb(1),r.Ec("ngIf","No"==t.ready_to_generate_irn&&"Error"==t.irn_generated),r.Nb(1),r.Ec("ngIf",null==c.companyDetails?null:c.companyDetails.einvoice_missing_date_feature),r.Nb(2),r.Ec("ngbTooltip",null==t?null:t.guest_name)("placement","top"),r.Nb(1),r.dd((null==t?null:t.guest_name)||"NA"),r.Nb(2),r.Ec("ngbTooltip",null==t?null:t.confirmation_number)("placement","top"),r.Nb(1),r.dd((null==t?null:t.confirmation_number)||"NA"),r.Nb(2),r.dd((null==t?null:t.gst_number)||"NA"),r.Nb(2),r.dd((null==t?null:t.room_number)||"NA"),r.Nb(2),r.dd((null==t?null:t.invoice_type)||"NA"),r.Nb(1),r.Ec("ngIf","NA"!==t.irn_generated)("ngIfElse",n),r.Nb(4),r.dd(r.zc(26,22,null==t?null:t.invoice_date,"MMM d yyyy")),r.Nb(3),r.dd(r.zc(29,25,null==t?null:t.creation,"MMM d yyyy")),r.Nb(2),r.Ec("ngIf",1==(null==c.companyDetails?null:c.companyDetails.ezy_gst_module)),r.Nb(1),r.Ec("ngIf",1==(null==c.companyDetails?null:c.companyDetails.ezy_gst_module)),r.Nb(2),r.Ec("routerLink",r.Ic(28,W,"../../manual-credit-details/"+t.name))("queryParams",r.Hc(30,U))}}function tt(t,e){1&t&&(r.hc(0,"div",92),r.hc(1,"h5"),r.hc(2,"strong"),r.cd(3,"No Data Found"),r.gc(),r.gc(),r.gc())}function et(t,e){if(1&t){const t=r.ic();r.hc(0,"div"),r.hc(1,"p",97),r.sc("click",(function(){r.Qc(t);const e=r.wc(2);return e.filters.start=e.invoicesList.length,e.filters.currentPage=e.filters.currentPage+1,e.updateRouterParams()})),r.cd(2," more "),r.gc(),r.gc()}}function nt(t,e){if(1&t){const t=r.ic();r.hc(0,"div",93),r.hc(1,"div",94),r.hc(2,"select",95),r.sc("ngModelChange",(function(e){return r.Qc(t),r.wc().filters.itemsPerPage=e}))("change",(function(){return r.Qc(t),r.wc().checkPagination()})),r.hc(3,"option",96),r.cd(4,"20"),r.gc(),r.hc(5,"option",96),r.cd(6,"50"),r.gc(),r.hc(7,"option",96),r.cd(8,"100"),r.gc(),r.hc(9,"option",96),r.cd(10,"150"),r.gc(),r.hc(11,"option",96),r.cd(12,"500"),r.gc(),r.gc(),r.gc(),r.ad(13,et,3,0,"div",31),r.gc()}if(2&t){const t=r.wc();r.Nb(2),r.Ec("ngModel",t.filters.itemsPerPage),r.Nb(1),r.Ec("value",20),r.Nb(2),r.Ec("value",50),r.Nb(2),r.Ec("value",100),r.Nb(2),r.Ec("value",150),r.Nb(2),r.Ec("value",500),r.Nb(2),r.Ec("ngIf",t.invoicesList.length<t.filters.totalCount)}}function ct(t,e){1&t&&(r.hc(0,"div",98),r.hc(1,"h6",99),r.hc(2,"b"),r.cd(3,"How to add a manual invoice? "),r.gc(),r.gc(),r.hc(4,"button",100),r.sc("click",(function(){return e.$implicit.dismiss("Cross click")})),r.hc(5,"span",101),r.cd(6,"\xd7"),r.gc(),r.gc(),r.gc(),r.hc(7,"div",102),r.hc(8,"div",103),r.hc(9,"div",104),r.hc(10,"div"),r.hc(11,"pre",105),r.cd(12,"Step 1 : Click on add\nStep 2 : Enter the below valid GST number,our system fetches all the data  related to the GST number you have entered.\nStep 3 : Enter the remaining data like Invoice number, Invoice date ,Room number and place of supply.\nStep 4 : Click on Save\nStep 5 : You will now navigate to the invoice details screen.All the information you have entered in the previous screen will be displayed here.\nStep 6 : Now you need add line items.To do that click on the add button which is beside the invoice summary.\nStep 7 : Select Item Value\nStep 8 : Select Item Base value and click on add.\n\n  "),r.gc(),r.gc(),r.gc(),r.hc(13,"div",104),r.cc(14,"video",106),r.gc(),r.gc(),r.gc())}function it(t,e){1&t&&(r.hc(0,"b"),r.cc(1,"i",118),r.gc())}function ot(t,e){1&t&&(r.hc(0,"b"),r.cc(1,"i",119),r.gc())}function st(t,e){if(1&t&&(r.hc(0,"div",113),r.hc(1,"div",2),r.hc(2,"span",114),r.ad(3,it,2,0,"b",31),r.ad(4,ot,2,0,"b",31),r.gc(),r.hc(5,"p",115),r.hc(6,"a",116),r.cd(7),r.hc(8,"b",117),r.cd(9),r.gc(),r.gc(),r.gc(),r.gc(),r.gc()),2&t){const t=e.$implicit;r.Nb(3),r.Ec("ngIf","failed"==t.uploaded),r.Nb(1),r.Ec("ngIf","success"==t.uploaded),r.Nb(2),r.Ec("routerLink",r.Ic(6,W,"../../invoice-details/"+t.name))("queryParams",r.Hc(8,U)),r.Nb(1),r.ed("",t.invoice_number," "),r.Nb(2),r.ed(" ",null==t?null:t.guest_name," ")}}function at(t,e){if(1&t&&(r.hc(0,"div"),r.ad(1,st,10,9,"div",112),r.gc()),2&t){const t=r.wc(2);r.Nb(1),r.Ec("ngForOf",t.dupinvoicesList)}}function rt(t,e){if(1&t){const t=r.ic();r.hc(0,"button",120),r.sc("click",(function(){return r.Qc(t),r.wc().$implicit.close("generated")})),r.cd(1,"Ok"),r.gc()}}function lt(t,e){if(1&t){const t=r.ic();r.hc(0,"button",121),r.sc("click",(function(){return r.Qc(t),r.wc().$implicit.close("Save click")})),r.cd(1,"Cancel"),r.gc()}}function dt(t,e){if(1&t){const t=r.ic();r.hc(0,"button",122),r.sc("click",(function(){return r.Qc(t),r.wc(2).generateIrn()})),r.cd(1,"Generate"),r.gc()}}function ht(t,e){if(1&t&&(r.hc(0,"div",98),r.hc(1,"h5",107),r.cd(2,"Generate IRN"),r.gc(),r.hc(3,"button",100),r.sc("click",(function(){return e.$implicit.dismiss("Cross click")})),r.hc(4,"span",101),r.cd(5,"\xd7"),r.gc(),r.gc(),r.gc(),r.hc(6,"div",102),r.ad(7,at,2,1,"div",31),r.gc(),r.hc(8,"div",108),r.ad(9,rt,2,0,"button",109),r.ad(10,lt,2,0,"button",110),r.ad(11,dt,2,0,"button",111),r.gc()),2&t){const t=r.wc();r.Nb(7),r.Ec("ngIf",t.dupinvoicesList.length>0),r.Nb(2),r.Ec("ngIf",t.gerenateIRNITems),r.Nb(1),r.Ec("ngIf",!t.gerenateIRNITems),r.Nb(1),r.Ec("ngIf",!t.gerenateIRNITems)}}class gt{constructor(){this.itemsPerPage=20,this.currentPage=1,this.totalCount=0,this.start=0,this.active=2,this.search={name:"",invoice:"",gstNumber:"",confirmation:"",roomNo:"",invoiceType:"",irn:"",sortBy:"modified",filterBy:"Today",filterDate:"",orderBy:"",has_credit_items:"",filterType:"creation",synced_to_erp:"",invoice_date:""}}}const ut=[{path:"",component:(()=>{class t{constructor(t,e,n,c,i){this.router=t,this.modal=e,this.http=n,this.activatedRoute=c,this.toastr=i,this.filters=new gt,this.onSearch=new r.q,this.invoicesList=[],this.selectedMonth=p()(new Date).format("MMM"),this.selectedyear=2022,this.years=[],this.selectAll=!1,this.gerenateIRNITems=!1}ngOnInit(){var t;this.companyDetails=JSON.parse(localStorage.getItem("company")),this.filters.itemsPerPage=null===(t=this.companyDetails)||void 0===t?void 0:t.items_per_page,this.stateCodes=f.a,this.activatedRoute.queryParams.subscribe(t=>{this.manualType=t.type,this.filters.search.filterBy=t.filterBy||"Today"}),this.activatedRoute.snapshot.queryParams.invoice_date&&(this.filters.search.invoice_date=this.activatedRoute.snapshot.queryParams.invoice_date,this.filters.search.filterBy="All",this.filters.search.invoiceType=this.activatedRoute.snapshot.queryParams.invoiceType,this.filters.search.irn=this.activatedRoute.snapshot.queryParams.irn_generated),this.activatedRoute.snapshot.queryParams.irn_generated&&(this.filters.search.irn=this.activatedRoute.snapshot.queryParams.irn_generated),this.onSearch.pipe(Object(d.a)(500)).subscribe(t=>{this.invoicesList=[],this.filters.start=0,this.filters.totalCount=0,this.updateRouterParams()}),this.activatedRoute.queryParams.subscribe(t=>{if(t.search){const e=JSON.parse(t.search);this.filters.search.filterBy=e.filterBy,this.filters.search.filterType=e.filterType,this.filters.search.irn=e.irn,this.filters.search.confirmation=e.confirmation,this.filters.search.gstNumber=e.gstNumber,this.filters.search.roomNo=e.roomNo,this.filters.search.name=e.name,this.filters.search.invoice=e.invoice,this.filters.search.synced_to_erp=e.synced_to_erp}}),this.getInvoiceList(),this.getYear()}updateRouterParams(){const t=JSON.parse(JSON.stringify(this.filters));t.type=this.manualType,t.search=JSON.stringify(t.search),this.router.navigate(["home/manual-credit-notes"],{queryParams:t})}getInvoicesCount(){this.http.get(g.a.invoices,{params:{fields:JSON.stringify(["count( `tabInvoices`.`name`) AS total_count"])}}).subscribe(t=>{this.filters.totalCount=t.data[0].total_count,this.getInvoiceList()})}getInvoiceList(){this.activatedRoute.queryParams.pipe(Object(h.a)(t=>{this.filters.active=parseInt(t.active)||2;const e={filters:[]};if(this.filters.search.confirmation&&e.filters.push(["confirmation_number","like",`%${this.filters.search.confirmation}%`]),this.filters.search.invoice&&e.filters.push(["invoice_number","like",`%${this.filters.search.invoice}%`]),this.filters.search.gstNumber&&e.filters.push(["gst_number","like",`%${this.filters.search.gstNumber}%`]),this.filters.search.invoiceType&&e.filters.push(["invoice_type","=",this.filters.search.invoiceType]),this.filters.search.irn&&e.filters.push(["irn_generated","in",this.filters.search.irn]),this.filters.search.name&&e.filters.push(["guest_name","like",`%${this.filters.search.name}%`]),this.filters.search.roomNo&&e.filters.push(["room_number","like",`%${this.filters.search.roomNo}%`]),this.filters.search.has_credit_items&&e.filters.push(["has_credit_items","like",`%${this.filters.search.has_credit_items}%`]),this.filters.search.synced_to_erp&&e.filters.push(["synced_to_erp","like",`%${this.filters.search.synced_to_erp}%`]),this.filters.search.sortBy&&(e.order_by="`tabInvoices`.`"+this.filters.search.sortBy+"` "+this.filters.search.orderBy),this.filters.search.invoice_date&&e.filters.push(["invoice_date","=",""+this.filters.search.invoice_date]),this.filters.search.filterBy)if("Custom"===this.filters.search.filterBy){if(this.filters.search.filterDate){const t=new b.a("Invoices",this.filters.search.filterBy,this.filters.search.filterDate,this.filters.search.filterType).filter;t&&e.filters.push(t)}}else if("All"!==this.filters.search.filterBy){const t=new b.a("Invoices",this.filters.search.filterBy,null,this.filters.search.filterType).filter;t&&e.filters.push(t)}"Credit"===this.manualType&&e.filters.push(["invoice_category","=","Credit Invoice"]),"Debit"===this.manualType&&e.filters.push(["invoice_category","=","Debit Invoice"]),"Tax"===this.manualType&&(e.filters.push(["invoice_category","=","Tax Invoice"]),e.filters.push(["invoice_from","=","Web"])),e.limit_page_length=this.filters.itemsPerPage,e.limit_start=this.filters.start,e.fields=JSON.stringify(["*"]),e.filters=JSON.stringify(e.filters),e.order_by="`tabInvoices`.`creation` desc";const n=this.http.get(g.a.invoices,{params:{fields:JSON.stringify(["count( `tabInvoices`.`name`) AS total_count"]),filters:e.filters}}),c=this.http.get(g.a.invoices,{params:e});return Object(l.a)([n,c])})).subscribe(t=>{1==this.filters.currentPage&&(this.invoicesList=[]);const[e,n]=t;this.filters.totalCount=e.data[0].total_count,this.selectAll=!1,this.dupinvoicesList=[],n.data=n.data.map((t,e)=>{var n,c,i;if(t){t.index=this.invoicesList.length+e+1;let o=u(null==t?void 0:t.invoice_date).format("YYYY-MM-DD"),s=(null===(n=this.companyDetails)||void 0===n?void 0:n.einvoice_missing_start_date)?u(null===(c=this.companyDetails)||void 0===c?void 0:c.einvoice_missing_start_date).format("YYYY-MM-DD"):null;if((null===(i=this.companyDetails)||void 0===i?void 0:i.einvoice_missing_date_feature)&&o>=s){let e=u(new Date).format("YYYY-MM-DD"),n=u(u(null==t?void 0:t.invoice_date).add(7,"d").format("YYYY-MM-DD"));n=u(n).format("YYYY-MM-DD"),t.expiry_date=u(n).format("YYYY-MM-DD"),t.expiry_days=u(n).diff(u(e),"days")}}return t}),n.data&&(this.invoicesList=0!==this.filters.start?this.invoicesList.concat(n.data):n.data)})}addManualCredit(){this.modal.open(m.a,{size:"lg",centered:!0})}checkedItemsAll(t){this.dupinvoicesList=this.invoicesList.filter(this.selectAll?t=>("Pending"==t.irn_generated&&(t.checked=!0),t):t=>("Pending"==t.irn_generated&&(t.checked=!1),t)),this.dupinvoicesList=this.invoicesList.filter(t=>t.checked),this.dupinvoicesList=this.dupinvoicesList.map(t=>(t&&(t.doctype=g.b.invoices),t)),console.log(this.dupinvoicesList)}checkedItems(t,e){const n=this.invoicesList.filter(t=>t.checked);this.selectAll=n.length==this.invoicesList.length,this.dupinvoicesList=n,this.dupinvoicesList=this.dupinvoicesList.map(t=>(t&&(t.doctype=g.b.invoices),t)),console.log(this.dupinvoicesList)}openModalIRN(t){this.modal.open(t,{centered:!0,size:"md"}).result.then(t=>{"generated"==t&&(this.dupinvoicesList=[],this.gerenateIRNITems=!1,this.getInvoiceList())})}generateIrn(){return Object(a.a)(this,void 0,void 0,(function*(){if(!window.confirm("Are you sure to generate IRN? "))return null;{const t=this.dupinvoicesList.map((t,e)=>new Promise((n,c)=>{this.dupinvoicesList[e]={uploaded:"",invoice_number:t.invoice_number,name:t.name,guest_name:t.guest_name},this.http.post(g.a.generateIrn_new,{data:{invoice_number:t.name,generation_type:"Manual"}}).subscribe(t=>Object(a.a)(this,void 0,void 0,(function*(){this.dupinvoicesList[e].uploaded=t.message.success?"success":"failed"})),t=>{console.log("err: ",t)}),n(e)}));yield Promise.all(t),this.gerenateIRNITems=!0}}))}ngOnDestroy(){this.dupinvoicesList=[],this.gerenateIRNITems=!1,this.modal.dismissAll()}onDateFilterChange(){"Custom"==this.filters.search.filterBy?this.filters.search.filterDate="":this.updateRouterParams()}onDateFilterType(){this.updateRouterParams()}checkPagination(){this.filters.currentPage=1,this.updateRouterParams()}openVideo(t){this.modal.open(t,{size:"xl",centered:!0})}getYear(){for(var t=(new Date).getFullYear(),e=t,n=e;n<=t;n++)this.years.push(e++);return this.years}}return t.\u0275fac=function(e){return new(e||t)(r.bc(s.e),r.bc(v.k),r.bc(y.b),r.bc(s.a),r.bc(_.d))},t.\u0275cmp=r.Vb({type:t,selectors:[["app-manual-credit-notes"]],viewQuery:function(t,e){var n;1&t&&r.jd(w,!0),2&t&&r.Nc(n=r.tc())&&(e.addCredit=n.first)},decls:136,vars:24,consts:[[1,"position-relative","manual"],[1,"d-flex","mb-3","justify-content-between"],[1,"d-flex"],["class","text-white",4,"ngIf"],[1,"ml-3","d-flex"],["appPermissionButton","","accessType","create","type","button",1,"btn","btn-primary","py-0","px-2",3,"click"],[1,"ri-add-line"],[1,"form-group","w-c-50","my-auto"],["id","my-select2","name","",1,"custom-select","bg-white",3,"ngModel","ngModelChange"],["value","creation"],["value","invoice_date"],["id","my-select","name","",1,"custom-select","bg-white",3,"ngModel","ngModelChange"],["value","All"],["value","Today"],["value","Yesterday"],["value","This Week"],["value","Last Week"],["value","This Month"],["value","Last Month"],["value","This Year"],["value","Custom"],["class","form-group calendar w-c-50 position-relative my-auto",4,"ngIf"],["class","btn btn-primary btn-small mr-2","appPermissionButton","","accessType","write","type","button",3,"click",4,"ngIf"],["class","mt-3 mb-0 cursor-pointer text-white text-decoration-underline ",4,"ngIf"],["class","mt-3 mb-0 cursor-pointer text-white text-decoration-underline ",3,"click",4,"ngIf"],[1,"card","border-0","shadow"],[1,"card-body","p-0","table-responsive"],[3,"items"],["scroll",""],[1,"table","table-bordered"],["head",""],[4,"ngIf"],["container",""],[1,"custom-control","custom-checkbox"],["type","checkbox","id","customCheckAll","name","itemAll",1,"custom-control-input",3,"ngModel","change","ngModelChange"],["for","customCheckAll","ngbTooltip","Select All",1,"custom-control-label"],[1,"bg-gray"],[1,"input-group","input-group-sm"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"ri-search-line"],["type","search",1,"form-control",3,"ngModel","ngModelChange","keyup","search"],["invoiceInp",""],["nameInp",""],["confirmNumInp",""],[1,"bg-gray",2,"min-width","120px"],["gstNumInp",""],["roomNumInp",""],["class","form-group",4,"ngIf"],["class","bg-gray",4,"ngIf"],[4,"ngFor","ngForOf"],["class","text-center pb-3",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],["video",""],["multiGenerateIrn",""],[1,"text-white"],[1,"form-group","calendar","w-c-50","position-relative","my-auto"],["placeholder","Date Time",1,"form-control","h-auto",3,"ngModel","owlDateTime","selectMode","owlDateTimeTrigger","ngModelChange","dateTimeChange"],[1,"example-trigger",3,"owlDateTimeTrigger"],[1,"ri-calendar-2-line"],[3,"pickerType"],["dt1",""],["appPermissionButton","","accessType","write","type","button",1,"btn","btn-primary","btn-small","mr-2",3,"click"],[1,"mt-3","mb-0","cursor-pointer","text-white","text-decoration-underline"],[1,"mt-3","mb-0","cursor-pointer","text-white","text-decoration-underline",3,"click"],[1,"form-group"],["id","irn",1,"custom-select",3,"ngModel","ngModelChange","change"],["value",""],["value","Pending"],["value","Success"],["value","Cancelled"],["value","Error"],["value","Zero Invoice"],["value","Draft"],["id","synced_to_erp",1,"custom-select",3,"ngModel","ngModelChange","change"],["value","1"],["value","0"],["class","custom-control custom-checkbox",4,"ngIf"],["class","ri-error-warning-fill text-danger",3,"ngbTooltip",4,"ngIf"],[1,"text-truncate","d-block","max-200",3,"ngbTooltip","placement"],["class","text-left",4,"ngIf","ngIfElse"],["statusBlock",""],["queryParamsHandling","merge","appPermissionButton","","accessType","read","moduleType","docType",1,"view",3,"routerLink","queryParams"],["type","checkbox",1,"custom-control-input",3,"id","name","ngModel","change","ngModelChange"],[1,"custom-control-label",3,"for"],[1,"ri-error-warning-fill","text-danger",3,"ngbTooltip"],[3,"ngClass",4,"ngIf"],["class","expiring_bg",4,"ngIf"],[3,"ngClass"],[1,"expiring_bg"],[1,"text-left"],[1,"badge",3,"ngClass"],[1,"text-center","pb-3"],[1,"d-flex","justify-content-between"],[1,"px-3"],["name","itemsPerPage","id","itemsPerPage",1,"custom-select",3,"ngModel","ngModelChange","change"],[3,"value"],[1,"text-right","pr-5","more","text-primary",3,"click"],[1,"modal-header"],["classmb-0",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-md-6"],[1,"px-2",2,"white-space","pre-line","line-height","26px","font-family","inherit","max-height","250px","overflow","auto"],["src","https://r5---sn-npoe7ney.c.drive.google.com/videoplayback?expire=1617806056&ei=qIptYI27Me-FrvIPneGJ0AY&ip=223.230.2.44&cp=QVRGWUlfVVBTR1hPOkNsRnFRdmFiSDZibWRTSGlJUlRlaTk4X1ZJMkM4VzlxMksxeEFyZUt6SXk&id=d53bf6ddfb8cdccb&itag=18&source=webdrive&requiressl=yes&ttl=transient&susc=dr&driveid=1DMBLZV2XLD4URpWniwD2r733F-K-utst&app=explorer&mime=video/mp4&vprv=1&prv=1&dur=125.085&lmt=1617791596789258&sparams=expire,ei,ip,cp,id,itag,source,requiressl,ttl,susc,driveid,app,mime,vprv,prv,dur,lmt&sig=AOq0QJ8wRAIgd169QwNhowvwVYbB4JIyz7aSsgzNNw_vj2ZzK75367cCIGn77rCOYnZKr1aAViJ6uYuv5jf3GdA8Fp3_2gjEJ2ND&cpn=CPExBVbgb7MJz_6w&c=WEB_EMBEDDED_PLAYER&cver=1.20210405.1.0&redirect_counter=1&cm2rm=sn-h55ee76&req_id=eebd30377ecca3ee&cms_redirect=yes&mh=Vr&mm=34&mn=sn-npoe7ney&ms=ltu&mt=1617790898&mv=u&mvi=5&pl=22&lsparams=mh,mm,mn,ms,mv,mvi,pl&lsig=AG3C_xAwRAIgIDOwExHhpTqsC6qeiJP64CYoPiTDlmjkMw0-k-i_lMQCIF8AKnaZeJ9sFxGUzSUuHkyz9MjVOVDy9Yy-hCgI_snl","controls",""],["id","modal-basic-title",1,""],[1,"modal-footer"],["class","btn btn-outline-primary mb-0  text-uppercase","type","button",3,"click",4,"ngIf"],["type","reset","class","btn btn-outline-dark",3,"click",4,"ngIf"],["type","button","appPermissionButton","","accessType","write","class","btn btn-primary",3,"click",4,"ngIf"],["class","mb-2",4,"ngFor","ngForOf"],[1,"mb-2"],[1,"col-md-1"],[1,"mr-3","col-md-11"],["queryParamsHandling","merge",3,"routerLink","queryParams"],[2,"color","black"],[1,"ri-close-line",2,"color","red"],[1,"ri-check-line",2,"color","green"],["type","button",1,"btn","btn-outline-primary","mb-0","text-uppercase",3,"click"],["type","reset",1,"btn","btn-outline-dark",3,"click"],["type","button","appPermissionButton","","accessType","write",1,"btn","btn-primary",3,"click"]],template:function(t,e){if(1&t&&(r.hc(0,"section",0),r.hc(1,"div",1),r.hc(2,"div",2),r.ad(3,N,5,2,"h4",3),r.ad(4,x,5,2,"h4",3),r.hc(5,"div",4),r.hc(6,"button",5),r.sc("click",(function(){return e.addManualCredit()})),r.cc(7,"i",6),r.gc(),r.hc(8,"div",7),r.hc(9,"select",8),r.sc("ngModelChange",(function(t){return e.filters.search.filterType=t}))("ngModelChange",(function(){return e.onDateFilterType()})),r.hc(10,"option",9),r.cd(11,"Printed"),r.gc(),r.hc(12,"option",10),r.cd(13,"Invoice"),r.gc(),r.gc(),r.gc(),r.hc(14,"div",7),r.hc(15,"select",11),r.sc("ngModelChange",(function(t){return e.filters.search.filterBy=t}))("ngModelChange",(function(){return e.onDateFilterChange()})),r.hc(16,"option",12),r.cd(17,"All"),r.gc(),r.hc(18,"option",13),r.cd(19,"Today"),r.gc(),r.hc(20,"option",14),r.cd(21,"Yesterday"),r.gc(),r.hc(22,"option",15),r.cd(23,"This Week"),r.gc(),r.hc(24,"option",16),r.cd(25,"Last Week"),r.gc(),r.hc(26,"option",17),r.cd(27,"This Month"),r.gc(),r.hc(28,"option",18),r.cd(29,"Last Month"),r.gc(),r.hc(30,"option",19),r.cd(31,"This Year"),r.gc(),r.hc(32,"option",20),r.cd(33,"Custom"),r.gc(),r.gc(),r.gc(),r.ad(34,k,6,6,"div",21),r.gc(),r.gc(),r.hc(35,"div"),r.hc(36,"div",2),r.ad(37,I,2,0,"button",22),r.ad(38,T,2,0,"p",23),r.ad(39,E,2,0,"p",23),r.ad(40,D,2,0,"p",24),r.gc(),r.gc(),r.gc(),r.hc(41,"div",25),r.hc(42,"div",26),r.hc(43,"virtual-scroller",27,28),r.hc(45,"table",29),r.hc(46,"thead",null,30),r.hc(48,"tr"),r.hc(49,"th"),r.cd(50," S NO "),r.gc(),r.hc(51,"th"),r.cd(52,"#"),r.gc(),r.hc(53,"th"),r.cd(54," Invoice Number "),r.gc(),r.hc(55,"th"),r.cd(56,"Expiry days"),r.gc(),r.hc(57,"th"),r.cd(58," Guest Name "),r.gc(),r.hc(59,"th"),r.cd(60," Confirmation No. "),r.gc(),r.hc(61,"th"),r.cd(62,"GST No."),r.gc(),r.hc(63,"th"),r.cd(64," Room No. "),r.gc(),r.hc(65,"th"),r.cd(66,"Invoice Type"),r.gc(),r.hc(67,"th"),r.cd(68,"IRN Generated"),r.gc(),r.hc(69,"th"),r.cd(70," Date "),r.gc(),r.hc(71,"th"),r.cd(72," Added Date "),r.gc(),r.ad(73,S,2,0,"th",31),r.ad(74,L,2,0,"th",31),r.hc(75,"th"),r.cd(76,"Actions"),r.gc(),r.gc(),r.gc(),r.hc(77,"tbody",null,32),r.hc(79,"tr"),r.cc(80,"td"),r.hc(81,"td"),r.hc(82,"div",33),r.hc(83,"input",34),r.sc("change",(function(t){return e.checkedItemsAll(t)}))("ngModelChange",(function(t){return e.selectAll=t})),r.gc(),r.cc(84,"label",35),r.gc(),r.gc(),r.hc(85,"td",36),r.hc(86,"div",37),r.hc(87,"div",38),r.hc(88,"span",39),r.cc(89,"i",40),r.gc(),r.gc(),r.hc(90,"input",41,42),r.sc("ngModelChange",(function(t){return e.filters.search.invoice=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)})),r.gc(),r.gc(),r.gc(),r.cc(92,"td"),r.hc(93,"td",36),r.hc(94,"div",37),r.hc(95,"div",38),r.hc(96,"span",39),r.cc(97,"i",40),r.gc(),r.gc(),r.hc(98,"input",41,43),r.sc("ngModelChange",(function(t){return e.filters.search.name=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)})),r.gc(),r.gc(),r.gc(),r.hc(100,"td",36),r.hc(101,"div",37),r.hc(102,"div",38),r.hc(103,"span",39),r.cc(104,"i",40),r.gc(),r.gc(),r.hc(105,"input",41,44),r.sc("ngModelChange",(function(t){return e.filters.search.confirmation=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)})),r.gc(),r.gc(),r.gc(),r.hc(107,"td",45),r.hc(108,"div",37),r.hc(109,"div",38),r.hc(110,"span",39),r.cc(111,"i",40),r.gc(),r.gc(),r.hc(112,"input",41,46),r.sc("ngModelChange",(function(t){return e.filters.search.gstNumber=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)})),r.gc(),r.gc(),r.gc(),r.hc(114,"td",36),r.hc(115,"div",37),r.hc(116,"div",38),r.hc(117,"span",39),r.cc(118,"i",40),r.gc(),r.gc(),r.hc(119,"input",41,47),r.sc("ngModelChange",(function(t){return e.filters.search.roomNo=t}))("keyup",(function(){return e.onSearch.emit(e.filters)}))("search",(function(){return e.onSearch.emit(e.filters)})),r.gc(),r.gc(),r.gc(),r.cc(121,"td",36),r.hc(122,"td",36),r.ad(123,R,16,1,"div",48),r.gc(),r.cc(124,"td",36),r.cc(125,"td",36),r.ad(126,A,9,1,"td",49),r.ad(127,B,1,0,"td",49),r.cc(128,"td",36),r.gc(),r.ad(129,X,35,31,"tr",50),r.gc(),r.gc(),r.ad(130,tt,4,0,"div",51),r.gc(),r.gc(),r.ad(131,nt,14,7,"div",52),r.gc(),r.gc(),r.ad(132,ct,15,0,"ng-template",null,53,r.bd),r.ad(134,ht,12,4,"ng-template",null,54,r.bd)),2&t){const t=r.Oc(44);r.Nb(3),r.Ec("ngIf","Tax"!==e.manualType),r.Nb(1),r.Ec("ngIf","Tax"===e.manualType),r.Nb(5),r.Ec("ngModel",e.filters.search.filterType),r.Nb(6),r.Ec("ngModel",e.filters.search.filterBy),r.Nb(19),r.Ec("ngIf","Custom"==e.filters.search.filterBy),r.Nb(3),r.Ec("ngIf",null==e.dupinvoicesList?null:e.dupinvoicesList.length),r.Nb(1),r.Ec("ngIf","Credit"===e.manualType),r.Nb(1),r.Ec("ngIf","Debit"===e.manualType),r.Nb(1),r.Ec("ngIf","Tax"===e.manualType),r.Nb(3),r.Ec("items",e.invoicesList),r.Nb(30),r.Ec("ngIf",1==(null==e.companyDetails?null:e.companyDetails.ezy_gst_module)),r.Nb(1),r.Ec("ngIf",1==(null==e.companyDetails?null:e.companyDetails.ezy_gst_module)),r.Nb(9),r.Ec("ngModel",e.selectAll),r.Nb(7),r.Ec("ngModel",e.filters.search.invoice),r.Nb(8),r.Ec("ngModel",e.filters.search.name),r.Nb(7),r.Ec("ngModel",e.filters.search.confirmation),r.Nb(7),r.Ec("ngModel",e.filters.search.gstNumber),r.Nb(7),r.Ec("ngModel",e.filters.search.roomNo),r.Nb(4),r.Ec("ngIf",2===e.filters.active),r.Nb(3),r.Ec("ngIf",1==(null==e.companyDetails?null:e.companyDetails.ezy_gst_module)),r.Nb(1),r.Ec("ngIf",1==(null==e.companyDetails?null:e.companyDetails.ezy_gst_module)),r.Nb(2),r.Ec("ngForOf",t.viewPortItems),r.Nb(1),r.Ec("ngIf",!e.invoicesList.length),r.Nb(1),r.Ec("ngIf",e.invoicesList.length)}},directives:[o.p,M.a,C.r,C.i,C.l,C.m,C.t,P.a,C.a,v.A,C.b,o.o,O.d,O.f,O.c,s.h,o.n],pipes:[o.f],styles:[".manual[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   .view[_ngcontent-%COMP%]{cursor:pointer;text-decoration:underline;color:#2164e8;font-weight:600}.manual[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(2n){background:#fff}.manual[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background:#f0f0f0}.manual[_ngcontent-%COMP%]   .table-bordered[_ngcontent-%COMP%]{border:0}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-bottom:0;border-top:0}.manual[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .manual[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px;font-size:14px;white-space:nowrap;border:1px solid rgba(221,218,218,.3)}.manual[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-left:8px!important}.manual[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]{max-width:220px}.manual[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:5px;right:10px;cursor:pointer}.manual[_ngcontent-%COMP%]   tr.pending[_ngcontent-%COMP%]{background:#fd8787!important}.manual[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{max-width:150px}.manual[_ngcontent-%COMP%]   select.custom-select[_ngcontent-%COMP%]{height:auto}.manual[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.manual[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:13px}.manual[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:5px;border:0!important}.manual[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{max-width:50px!important;text-align:center}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){max-width:100px!important}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4)   div[_ngcontent-%COMP%]{max-width:140px!important}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5)   div[_ngcontent-%COMP%]{max-width:180px!important}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(6)   div[_ngcontent-%COMP%]{max-width:120px!important;max-width:100px!important}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(7)   div[_ngcontent-%COMP%], .manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(8), .manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(9){max-width:100px!important}.manual[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3)   div[_ngcontent-%COMP%]{max-width:-webkit-fit-content!important;max-width:-moz-fit-content!important;max-width:fit-content!important}.w-c-50[_ngcontent-%COMP%]{min-width:150px;margin-left:20px}.colorBg[_ngcontent-%COMP%]{color:#2164e8}.more[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.addCredit[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:17px}.each-block[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:5px 0;display:block;text-decoration:none}.each-block[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]{text-decoration:none}.each-block[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:11px;color:#151515;opacity:.5;font-weight:600}.each-block[_ngcontent-%COMP%]   .list-unstyled[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;font-size:13px}.bg-gray[_ngcontent-%COMP%]{background:#f0f0f0;padding:10px}.max-200[_ngcontent-%COMP%]{max-width:200px}.scale-2[_ngcontent-%COMP%]{transform:scale(1.3)}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#f5f5f5}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{white-space:nowrap;padding-left:1.5rem;padding-right:1.5rem}td[_ngcontent-%COMP%]:first-child, th[_ngcontent-%COMP%]:first-child{position:sticky;left:0}td[_ngcontent-%COMP%]:last-child, th[_ngcontent-%COMP%]:last-child{position:sticky;right:0}td[_ngcontent-%COMP%]:first-child{background:#fff}th[_ngcontent-%COMP%]:last-child{background:#f5f5f5}td[_ngcontent-%COMP%]:last-child{background:#fff}.input-group-text[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   .custom-select[_ngcontent-%COMP%]{background:#f6f6f6}.input-group.input-group-sm[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{background:#f6f6f6!important}virtual-scroller[_ngcontent-%COMP%]{width:100%;height:500px}.custom-select[_ngcontent-%COMP%]{font-size:14px;height:32px}.text-decoration-underline[_ngcontent-%COMP%]{text-decoration:underline}.help-link[_ngcontent-%COMP%]{position:absolute;right:0;top:10px}iframe[_ngcontent-%COMP%], video[_ngcontent-%COMP%]{width:100%}iframe[_ngcontent-%COMP%]{height:400px}.expiring_bg[_ngcontent-%COMP%]{background-color:#e65a5a!important}.expiring_bg[_ngcontent-%COMP%], .expiring_bg_warn[_ngcontent-%COMP%]{padding:5px 10px;border-radius:20px;color:#fff}.expiring_bg_warn[_ngcontent-%COMP%]{background:#eeb012!important}"]}),t})()}];let pt=(()=>{class t{}return t.\u0275mod=r.Zb({type:t}),t.\u0275inj=r.Yb({factory:function(e){return new(e||t)},imports:[[s.i.forChild(ut)],s.i]}),t})();var ft=n("HgEw"),mt=n("ZOsW"),bt=n("SiYC"),vt=n("CzEO");let yt=(()=>{class t{}return t.\u0275mod=r.Zb({type:t}),t.\u0275inj=r.Yb({factory:function(e){return new(e||t)},imports:[[o.c,pt,ft.b,C.d,v.B,mt.b,O.e,O.g,i.b,c.b,bt.b,P.b,M.b,vt.b.forRoot()]]}),t})()},MgRC:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var c=n("fXoL"),i=n("kmKP");let o=(()=>{class t{constructor(t,e){this.elementRef=t,this.userService=e,this.permissions={}}ngOnInit(){this.checkDocLevelAccess()}checkAccess(){this.userService.currentUser.subscribe(t=>{var e,n;if(null===(e=null==t?void 0:t.docinfo)||void 0===e?void 0:e.permissions){let e=null===(n=null==t?void 0:t.docinfo)||void 0===n?void 0:n.permissions;e.hasOwnProperty(this.accessType)&&(this.elementRef.nativeElement.disabled=!(e[this.accessType]>0))}})}checkDocLevelAccess(){var t;this.permissions=JSON.parse(localStorage.getItem("checkPermissions")),(null===(t=this.permissions)||void 0===t?void 0:t.hasOwnProperty(this.accessType))&&(this.elementRef.nativeElement.style["pointer-events"]=this.permissions[this.accessType]>0?"auto":"none",this.elementRef.nativeElement.style.cursor=this.permissions[this.accessType]>0?"pointer":"not-allowed",this.elementRef.nativeElement.disabled=!(this.permissions[this.accessType]>0))}}return t.\u0275fac=function(e){return new(e||t)(c.bc(c.o),c.bc(i.a))},t.\u0275dir=c.Wb({type:t,selectors:[["","appPermissionButton",""]],inputs:{moduleType:"moduleType",accessType:"accessType"}}),t})(),s=(()=>{class t{}return t.\u0275mod=c.Zb({type:t}),t.\u0275inj=c.Yb({factory:function(e){return new(e||t)}}),t})()},SiYC:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var c=n("fXoL"),i=n("3Pt+");let o=(()=>{class t{constructor(){}validate(t){let e=t.value;return e?this.validateGST(e)?null:{gst:"Invalid GST"}:t.errors}validateGST(t){return!(!t||!/[0-9]{2}[0-9A-Z]{13}/.test(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=c.Wb({type:t,selectors:[["","appValidateGST",""]],features:[c.Mb([{provide:i.g,useExisting:Object(c.gb)(()=>t),multi:!0}])]}),t})(),s=(()=>{class t{}return t.\u0275mod=c.Zb({type:t}),t.\u0275inj=c.Yb({factory:function(e){return new(e||t)}}),t})()},ZMzJ:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var c=n("fXoL");let i=(()=>{class t{constructor(t){this.ele=t}onInputChange(t){const e=this.ele.nativeElement.value;this.ele.nativeElement.value=e.replace(/[^0-9]*/g,""),e!==this.ele.nativeElement.value&&t.stopPropagation()}}return t.\u0275fac=function(e){return new(e||t)(c.bc(c.o))},t.\u0275dir=c.Wb({type:t,selectors:[["","appNumberInput",""]],hostBindings:function(t,e){1&t&&c.sc("input",(function(t){return e.onInputChange(t)}))}}),t})(),o=(()=>{class t{}return t.\u0275mod=c.Zb({type:t}),t.\u0275inj=c.Yb({factory:function(e){return new(e||t)}}),t})()},mLv5:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var c=n("fXoL");let i=(()=>{class t{constructor(t){this.el=t,this.regex=new RegExp(/^\d*\.?\d{0,2}$/g),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight","Del","Delete"]}onKeyDown(t){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(t.key))return;let e=this.el.nativeElement.value;const n=this.el.nativeElement.selectionStart,c=[e.slice(0,n),"Decimal"==t.key?".":t.key,e.slice(n)].join("");c&&!String(c).match(this.regex)&&t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(c.bc(c.o))},t.\u0275dir=c.Wb({type:t,selectors:[["","appDecimaNumber",""]],hostBindings:function(t,e){1&t&&c.sc("keydown",(function(t){return e.onKeyDown(t)}))}}),t})(),o=(()=>{class t{}return t.\u0275mod=c.Zb({type:t}),t.\u0275inj=c.Yb({factory:function(e){return new(e||t)}}),t})()}}]);