(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{Onwx:function(t,c,e){"use strict";e.r(c),e.d(c,"Gstr1Module",(function(){return T}));var n=e("ofXK"),a=e("tyNb"),s=e("fXoL"),i=e("1G5W"),r=e("t0ZU"),l=e("xtfN"),o=e("pw5d"),d=e("nbXG"),g=e("AytR"),u=e("mFJh"),h=e("tk/3"),v=e("1kSV"),p=e("5eHb"),b=e("PWHj");const m=function(){return["/gstr/dashboard"]},_=function(){return["./invoice"]},I=function(){return{type:"B2B",category:"Tax"}},D=function(){return{type:"SEZWP",category:"Tax"}},y=function(){return{type:"SEZWOP",category:"Tax"}},f=function(){return["../invoice"]},x=function(){return{type:"B2C",category:"Tax"}},N=function(){return{type:"B2B",category:"Crt-Dbt"}},w=function(){return{type:"B2C",category:"Crt-Dbt"}},z=function(){return["../ill-rated"]},M=function(){return["../advance-received"]},R=function(){return["../adjustment-of-advances"]},S=function(){return["../sac-hsn-outward"]},O=[{path:"",component:(()=>{class t{constructor(t,c,e,n,a,i){this.yearService=t,this.storageService=c,this.http=e,this.modal=n,this.router=a,this.toastr=i,this.gstr1InvoicesData={},this.loginDetails={},this.month="",this.year="",this.property=[],this.propertyList=[],this.reconcileSummary={},this.domain=g.a.apiDomain,this.destroyEvents=new s.q}ngOnInit(){this.yearService.getSelectedYear().pipe(Object(i.a)(this.destroyEvents)).subscribe(t=>{t&&(this.year=t,""!=this.month&&""!=this.year&&(this.getGSTR1Data(),this.getGSTR1DocumentSeries()))}),this.yearService.getSelectedMonth().pipe(Object(i.a)(this.destroyEvents)).subscribe(t=>{t&&(this.month=t,""!=this.month&&""!=this.year&&(this.getGSTR1Data(),this.getGSTR1DocumentSeries()))}),this.loginDetails=JSON.parse(this.storageService.getRawValue(d.b.LOGIN)||"")}returnSave(){var t;let c={company_code:null===(t=this.loginDetails)||void 0===t?void 0:t.company,month:JSON.stringify(this.month),year:JSON.stringify(this.year)};this.http.post(r.a.retSave,c).subscribe(t=>{t&&this.returnSaveOtp()})}returnSaveOtp(){this.modal.open(l.a,{size:"md",centered:!0}).result.then(t=>{var c;if(t){let e={company_code:null===(c=this.loginDetails)||void 0===c?void 0:c.company,month:JSON.stringify(this.month),year:JSON.stringify(this.year),otp:t};this.http.post(r.a.retSave,e).subscribe(t=>{t&&this.router.navigate(["/gstr/save-gstin"])})}})}SelectByData(t,c){console.log(t),t&&("property"===c&&(this.property=t),this.getGSTR1Data(),this.getGSTR1DocumentSeries())}getGSTR1Data(){let t={month:this.month,year:this.year,properties:JSON.stringify(this.property)};this.http.get(""+r.a.dashboardGSTR1,{params:t}).subscribe(t=>{var c,e;(null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.success)?this.gstr1InvoicesData=null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.data:this.toastr.error("Error")})}getGSTR1DocumentSeries(){this.http.get(""+r.a.document_series,{params:{month:this.month,year:this.year}}).subscribe(t=>{var c,e;(null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.success)?this.gstr1DocumentSequence=null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.data:this.toastr.error("Error")})}export_workbook(){this.http.get(""+r.a.export_workbook,{params:{month:this.month,year:this.year}}).subscribe(t=>{var c,e;console.log(t),(null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.success)&&window.open(`${this.domain}${null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.file_url}`)})}uploadExcelFile(t){this.modal.open(o.a,{size:"xl",centered:!0,windowClass:"custom-modal"})}ngOnDestroy(){this.destroyEvents.next(),this.destroyEvents.unsubscribe()}}return t.\u0275fac=function(c){return new(c||t)(s.bc(u.a),s.bc(d.a),s.bc(h.b),s.bc(v.k),s.bc(a.e),s.bc(p.d))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-gstr1"]],decls:426,vars:284,consts:[[1,"border-bottom","bg-linear","py-1","px-3"],[1,"container-fluid","px-5"],[1,"d-flex","no-gutters","justify-content-between"],[1,""],[1,"mb-0","text-white"],[1,"d-flex","align-items-center","crums"],[1,"mb-0","text-white",3,"routerLink"],[1,"cursor-pointer","underline"],[1,"ri-arrow-right-s-line","text-white"],[1,"text-white"],[1,"mt-1"],[1,"mt-4","px-1"],[1,"container-fluid"],[1,"row","mb-3"],[1,"col-md-12"],[1,"d-flex","justify-content-end"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"row"],[1,"card","border-0","mb-3"],[1,"card-body","p-0"],[1,"row","align-items-center","py-2"],[1,"col"],[1,"pl-3"],[1,"row","no-gutters","border","fill-color","py-2"],[1,"col","px-3"],[1,"col","px-3","text-left"],[1,"col","px-3","text-center","my-auto"],[1,"d-flex","align-items-center","justify-content-center"],["type","button",1,"btn","btn-sm","btn-primary","px-2",3,"routerLink","queryParams"],[1,"row","no-gutters","border","bg-light","py-2"],[1,"row","no-gutters","py-2","bg-light"],[1,"row","no-gutters","border","py-2","fill-color"]],template:function(t,c){1&t&&(s.hc(0,"section",0),s.hc(1,"div",1),s.hc(2,"div",2),s.hc(3,"div",3),s.hc(4,"h6",4),s.hc(5,"strong"),s.cd(6,"GSTR1-Summary"),s.gc(),s.gc(),s.hc(7,"div",5),s.hc(8,"div"),s.hc(9,"p",6),s.hc(10,"small",7),s.cd(11,"Dashboard"),s.gc(),s.gc(),s.gc(),s.hc(12,"div"),s.cc(13,"i",8),s.gc(),s.hc(14,"div"),s.hc(15,"p",9),s.hc(16,"small",3),s.cd(17,"GSTR1-Summary"),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(18,"div",10),s.cc(19,"app-ret-period"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(20,"section",11),s.hc(21,"div",12),s.hc(22,"div",13),s.hc(23,"div",14),s.hc(24,"div",15),s.hc(25,"button",16),s.sc("click",(function(){return c.export_workbook()})),s.cd(26,"Export"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(27,"div",17),s.hc(28,"div",14),s.hc(29,"div",18),s.hc(30,"div",19),s.hc(31,"div"),s.hc(32,"div",20),s.hc(33,"div",21),s.hc(34,"h6"),s.hc(35,"strong",22),s.cd(36,"Invoice type"),s.gc(),s.gc(),s.gc(),s.hc(37,"div",21),s.hc(38,"h6"),s.hc(39,"strong"),s.cd(40,"Count"),s.gc(),s.gc(),s.gc(),s.hc(41,"div",21),s.hc(42,"h6"),s.hc(43,"strong"),s.cd(44,"Taxable Value"),s.gc(),s.gc(),s.gc(),s.hc(45,"div",21),s.hc(46,"h6"),s.hc(47,"strong"),s.cd(48,"IGST"),s.gc(),s.gc(),s.gc(),s.hc(49,"div",21),s.hc(50,"h6"),s.hc(51,"strong"),s.cd(52,"CGST"),s.gc(),s.gc(),s.gc(),s.hc(53,"div",21),s.hc(54,"h6"),s.hc(55,"strong"),s.cd(56,"SGST"),s.gc(),s.gc(),s.gc(),s.hc(57,"div",21),s.hc(58,"h6"),s.hc(59,"strong"),s.cd(60,"Tax amount"),s.gc(),s.gc(),s.gc(),s.hc(61,"div",21),s.hc(62,"h6"),s.hc(63,"strong"),s.cd(64,"Invoice value"),s.gc(),s.gc(),s.gc(),s.cc(65,"div",21),s.gc(),s.hc(66,"div",23),s.hc(67,"div",24),s.hc(68,"p"),s.hc(69,"b",3),s.cd(70,"B2B"),s.gc(),s.gc(),s.gc(),s.hc(71,"div",25),s.hc(72,"p"),s.cd(73),s.gc(),s.gc(),s.hc(74,"div",25),s.hc(75,"p"),s.cd(76),s.xc(77,"currency"),s.gc(),s.gc(),s.hc(78,"div",25),s.hc(79,"p"),s.cd(80),s.xc(81,"currency"),s.gc(),s.gc(),s.hc(82,"div",25),s.hc(83,"p"),s.cd(84),s.xc(85,"currency"),s.gc(),s.gc(),s.hc(86,"div",25),s.hc(87,"p"),s.cd(88),s.xc(89,"currency"),s.gc(),s.gc(),s.hc(90,"div",25),s.hc(91,"p"),s.cd(92),s.xc(93,"currency"),s.gc(),s.gc(),s.hc(94,"div",25),s.hc(95,"p"),s.cd(96),s.xc(97,"currency"),s.gc(),s.gc(),s.hc(98,"div",26),s.hc(99,"div",27),s.hc(100,"button",28),s.cd(101,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(102,"div",29),s.hc(103,"div",24),s.hc(104,"p"),s.hc(105,"b",3),s.cd(106,"B2B-SEZWP"),s.gc(),s.gc(),s.gc(),s.hc(107,"div",25),s.hc(108,"p"),s.cd(109),s.gc(),s.gc(),s.hc(110,"div",25),s.hc(111,"p"),s.cd(112),s.xc(113,"currency"),s.gc(),s.gc(),s.hc(114,"div",25),s.hc(115,"p"),s.cd(116),s.xc(117,"currency"),s.gc(),s.gc(),s.hc(118,"div",25),s.hc(119,"p"),s.cd(120),s.xc(121,"currency"),s.gc(),s.gc(),s.hc(122,"div",25),s.hc(123,"p"),s.cd(124),s.xc(125,"currency"),s.gc(),s.gc(),s.hc(126,"div",25),s.hc(127,"p"),s.cd(128),s.xc(129,"currency"),s.gc(),s.gc(),s.hc(130,"div",25),s.hc(131,"p"),s.cd(132),s.xc(133,"currency"),s.gc(),s.gc(),s.hc(134,"div",26),s.hc(135,"div",27),s.hc(136,"button",28),s.cd(137,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(138,"div",23),s.hc(139,"div",24),s.hc(140,"p"),s.hc(141,"b",3),s.cd(142,"B2B-SEZWOP"),s.gc(),s.gc(),s.gc(),s.hc(143,"div",25),s.hc(144,"p"),s.cd(145),s.gc(),s.gc(),s.hc(146,"div",25),s.hc(147,"p"),s.cd(148),s.xc(149,"currency"),s.gc(),s.gc(),s.hc(150,"div",25),s.hc(151,"p"),s.cd(152),s.xc(153,"currency"),s.gc(),s.gc(),s.hc(154,"div",25),s.hc(155,"p"),s.cd(156),s.xc(157,"currency"),s.gc(),s.gc(),s.hc(158,"div",25),s.hc(159,"p"),s.cd(160),s.xc(161,"currency"),s.gc(),s.gc(),s.hc(162,"div",25),s.hc(163,"p"),s.cd(164),s.xc(165,"currency"),s.gc(),s.gc(),s.hc(166,"div",25),s.hc(167,"p"),s.cd(168),s.xc(169,"currency"),s.gc(),s.gc(),s.hc(170,"div",26),s.hc(171,"div",27),s.hc(172,"button",28),s.cd(173,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(174,"div",30),s.hc(175,"div",24),s.hc(176,"p"),s.hc(177,"b",3),s.cd(178,"B2C"),s.gc(),s.gc(),s.gc(),s.hc(179,"div",25),s.hc(180,"p"),s.cd(181),s.gc(),s.gc(),s.hc(182,"div",25),s.hc(183,"p"),s.cd(184),s.xc(185,"currency"),s.gc(),s.gc(),s.hc(186,"div",25),s.hc(187,"p"),s.cd(188),s.xc(189,"currency"),s.gc(),s.gc(),s.hc(190,"div",25),s.hc(191,"p"),s.cd(192),s.xc(193,"currency"),s.gc(),s.gc(),s.hc(194,"div",25),s.hc(195,"p"),s.cd(196),s.xc(197,"currency"),s.gc(),s.gc(),s.hc(198,"div",25),s.hc(199,"p"),s.cd(200),s.xc(201,"currency"),s.gc(),s.gc(),s.hc(202,"div",25),s.hc(203,"p"),s.cd(204),s.xc(205,"currency"),s.gc(),s.gc(),s.hc(206,"div",26),s.hc(207,"div",27),s.hc(208,"button",28),s.cd(209,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(210,"div",31),s.hc(211,"div",24),s.hc(212,"p"),s.hc(213,"b",3),s.cd(214," Credit/ Debit note (Registered) "),s.gc(),s.gc(),s.gc(),s.hc(215,"div",25),s.hc(216,"p"),s.cd(217),s.gc(),s.gc(),s.hc(218,"div",25),s.hc(219,"p"),s.cd(220),s.xc(221,"currency"),s.gc(),s.gc(),s.hc(222,"div",25),s.hc(223,"p"),s.cd(224),s.xc(225,"currency"),s.gc(),s.gc(),s.hc(226,"div",25),s.hc(227,"p"),s.cd(228),s.xc(229,"currency"),s.gc(),s.gc(),s.hc(230,"div",25),s.hc(231,"p"),s.cd(232),s.xc(233,"currency"),s.gc(),s.gc(),s.hc(234,"div",25),s.hc(235,"p"),s.cd(236),s.xc(237,"currency"),s.gc(),s.gc(),s.hc(238,"div",25),s.hc(239,"p"),s.cd(240),s.xc(241,"currency"),s.gc(),s.gc(),s.hc(242,"div",26),s.hc(243,"div",27),s.hc(244,"button",28),s.cd(245,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(246,"div",30),s.hc(247,"div",24),s.hc(248,"p"),s.hc(249,"b",3),s.cd(250,"Credit/ Debit note (Unregistered)"),s.gc(),s.gc(),s.gc(),s.hc(251,"div",25),s.hc(252,"p"),s.cd(253),s.gc(),s.gc(),s.hc(254,"div",25),s.hc(255,"p"),s.cd(256),s.xc(257,"currency"),s.gc(),s.gc(),s.hc(258,"div",25),s.hc(259,"p"),s.cd(260),s.xc(261,"currency"),s.gc(),s.gc(),s.hc(262,"div",25),s.hc(263,"p"),s.cd(264),s.xc(265,"currency"),s.gc(),s.gc(),s.hc(266,"div",25),s.hc(267,"p"),s.cd(268),s.xc(269,"currency"),s.gc(),s.gc(),s.hc(270,"div",25),s.hc(271,"p"),s.cd(272),s.xc(273,"currency"),s.gc(),s.gc(),s.hc(274,"div",25),s.hc(275,"p"),s.cd(276),s.xc(277,"currency"),s.gc(),s.gc(),s.hc(278,"div",26),s.hc(279,"div",27),s.hc(280,"button",28),s.cd(281,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(282,"div",31),s.hc(283,"div",24),s.hc(284,"p"),s.hc(285,"b",3),s.cd(286,"Nil Rated Supplies"),s.gc(),s.gc(),s.gc(),s.hc(287,"div",25),s.hc(288,"p"),s.cd(289),s.gc(),s.gc(),s.hc(290,"div",25),s.hc(291,"p"),s.cd(292),s.xc(293,"currency"),s.gc(),s.gc(),s.hc(294,"div",25),s.hc(295,"p"),s.cd(296),s.xc(297,"currency"),s.gc(),s.gc(),s.hc(298,"div",25),s.hc(299,"p"),s.cd(300),s.xc(301,"currency"),s.gc(),s.gc(),s.hc(302,"div",25),s.hc(303,"p"),s.cd(304),s.xc(305,"currency"),s.gc(),s.gc(),s.hc(306,"div",25),s.hc(307,"p"),s.cd(308),s.xc(309,"currency"),s.gc(),s.gc(),s.hc(310,"div",25),s.hc(311,"p"),s.cd(312),s.xc(313,"currency"),s.gc(),s.gc(),s.hc(314,"div",26),s.hc(315,"div",27),s.hc(316,"button",28),s.cd(317,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(318,"div",30),s.hc(319,"div",24),s.hc(320,"p"),s.hc(321,"b",3),s.cd(322,"Advance Received"),s.gc(),s.gc(),s.gc(),s.hc(323,"div",25),s.hc(324,"p"),s.cd(325),s.gc(),s.gc(),s.hc(326,"div",25),s.hc(327,"p"),s.cd(328),s.xc(329,"currency"),s.gc(),s.gc(),s.hc(330,"div",25),s.hc(331,"p"),s.cd(332),s.xc(333,"currency"),s.gc(),s.gc(),s.hc(334,"div",25),s.hc(335,"p"),s.cd(336),s.xc(337,"currency"),s.gc(),s.gc(),s.hc(338,"div",25),s.hc(339,"p"),s.cd(340),s.xc(341,"currency"),s.gc(),s.gc(),s.hc(342,"div",25),s.hc(343,"p"),s.cd(344),s.xc(345,"currency"),s.gc(),s.gc(),s.hc(346,"div",25),s.hc(347,"p"),s.cd(348),s.xc(349,"currency"),s.gc(),s.gc(),s.hc(350,"div",26),s.hc(351,"div",27),s.hc(352,"button",28),s.cd(353,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(354,"div",31),s.hc(355,"div",24),s.hc(356,"p"),s.hc(357,"b",3),s.cd(358,"Adjustment of Advances"),s.gc(),s.gc(),s.gc(),s.hc(359,"div",25),s.hc(360,"p"),s.cd(361),s.gc(),s.gc(),s.hc(362,"div",25),s.hc(363,"p"),s.cd(364),s.xc(365,"currency"),s.gc(),s.gc(),s.hc(366,"div",25),s.hc(367,"p"),s.cd(368),s.xc(369,"currency"),s.gc(),s.gc(),s.hc(370,"div",25),s.hc(371,"p"),s.cd(372),s.xc(373,"currency"),s.gc(),s.gc(),s.hc(374,"div",25),s.hc(375,"p"),s.cd(376),s.xc(377,"currency"),s.gc(),s.gc(),s.hc(378,"div",25),s.hc(379,"p"),s.cd(380),s.xc(381,"currency"),s.gc(),s.gc(),s.hc(382,"div",25),s.hc(383,"p"),s.cd(384),s.xc(385,"currency"),s.gc(),s.gc(),s.hc(386,"div",26),s.hc(387,"div",27),s.hc(388,"button",28),s.cd(389,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(390,"div",30),s.hc(391,"div",24),s.hc(392,"p"),s.hc(393,"b",3),s.cd(394,"HSN Summary of Outward supply"),s.gc(),s.gc(),s.gc(),s.hc(395,"div",25),s.hc(396,"p"),s.cd(397),s.gc(),s.gc(),s.hc(398,"div",25),s.hc(399,"p"),s.cd(400),s.xc(401,"currency"),s.gc(),s.gc(),s.hc(402,"div",25),s.hc(403,"p"),s.cd(404),s.xc(405,"currency"),s.gc(),s.gc(),s.hc(406,"div",25),s.hc(407,"p"),s.cd(408),s.xc(409,"currency"),s.gc(),s.gc(),s.hc(410,"div",25),s.hc(411,"p"),s.cd(412),s.xc(413,"currency"),s.gc(),s.gc(),s.hc(414,"div",25),s.hc(415,"p"),s.cd(416),s.xc(417,"currency"),s.gc(),s.gc(),s.hc(418,"div",25),s.hc(419,"p"),s.cd(420),s.xc(421,"currency"),s.gc(),s.gc(),s.hc(422,"div",26),s.hc(423,"div",27),s.hc(424,"button",28),s.cd(425,"View Details"),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.gc()),2&t&&(s.Nb(9),s.Ec("routerLink",s.Hc(267,m)),s.Nb(64),s.ed("",(null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2b?null:c.gstr1InvoicesData.tax_b2b.count)||0," "),s.Nb(3),s.dd(s.zc(77,87,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2b?null:c.gstr1InvoicesData.tax_b2b.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(81,90,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2b?null:c.gstr1InvoicesData.tax_b2b.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(85,93,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2b?null:c.gstr1InvoicesData.tax_b2b.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(89,96,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2b?null:c.gstr1InvoicesData.tax_b2b.sgst_amount,"INR")||0),s.Nb(4),s.ed("",s.zc(93,99,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2b?null:c.gstr1InvoicesData.tax_b2b.tax_amount,"INR")||0," "),s.Nb(4),s.dd(s.zc(97,102,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2b?null:c.gstr1InvoicesData.tax_b2b.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(268,_))("queryParams",s.Hc(269,I)),s.Nb(9),s.ed("",(null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_with_payment?null:c.gstr1InvoicesData.sez_with_payment.count)||0," "),s.Nb(3),s.dd(s.zc(113,105,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_with_payment?null:c.gstr1InvoicesData.sez_with_payment.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(117,108,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_with_payment?null:c.gstr1InvoicesData.sez_with_payment.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(121,111,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_with_payment?null:c.gstr1InvoicesData.sez_with_payment.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(125,114,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_with_payment?null:c.gstr1InvoicesData.sez_with_payment.sgst_amount,"INR")||0),s.Nb(4),s.ed("",s.zc(129,117,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_with_payment?null:c.gstr1InvoicesData.sez_with_payment.tax_amount,"INR")||0," "),s.Nb(4),s.dd(s.zc(133,120,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_with_payment?null:c.gstr1InvoicesData.sez_with_payment.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(270,_))("queryParams",s.Hc(271,D)),s.Nb(9),s.ed("",(null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_without_payment?null:c.gstr1InvoicesData.sez_without_payment.count)||0," "),s.Nb(3),s.dd(s.zc(149,123,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_without_payment?null:c.gstr1InvoicesData.sez_without_payment.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(153,126,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_without_payment?null:c.gstr1InvoicesData.sez_without_payment.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(157,129,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_without_payment?null:c.gstr1InvoicesData.sez_without_payment.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(161,132,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_without_payment?null:c.gstr1InvoicesData.sez_without_payment.sgst_amount,"INR")||0),s.Nb(4),s.ed("",s.zc(165,135,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_without_payment?null:c.gstr1InvoicesData.sez_without_payment.tax_amount,"INR")||0," "),s.Nb(4),s.dd(s.zc(169,138,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.sez_without_payment?null:c.gstr1InvoicesData.sez_without_payment.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(272,_))("queryParams",s.Hc(273,y)),s.Nb(9),s.dd((null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2c?null:c.gstr1InvoicesData.tax_b2c.count)||0),s.Nb(3),s.dd(s.zc(185,141,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2c?null:c.gstr1InvoicesData.tax_b2c.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(189,144,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2c?null:c.gstr1InvoicesData.tax_b2c.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(193,147,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2c?null:c.gstr1InvoicesData.tax_b2c.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(197,150,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2c?null:c.gstr1InvoicesData.tax_b2c.sgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(201,153,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2c?null:c.gstr1InvoicesData.tax_b2c.tax_amount,"INR")||0),s.Nb(4),s.dd(s.zc(205,156,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.tax_b2c?null:c.gstr1InvoicesData.tax_b2c.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(274,f))("queryParams",s.Hc(275,x)),s.Nb(9),s.dd((null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2b?null:c.gstr1InvoicesData.credit_b2b.count)||0),s.Nb(3),s.dd(s.zc(221,159,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2b?null:c.gstr1InvoicesData.credit_b2b.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(225,162,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2b?null:c.gstr1InvoicesData.credit_b2b.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(229,165,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2b?null:c.gstr1InvoicesData.credit_b2b.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(233,168,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2b?null:c.gstr1InvoicesData.credit_b2b.sgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(237,171,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2b?null:c.gstr1InvoicesData.credit_b2b.tax_amount,"INR")||0),s.Nb(4),s.dd(s.zc(241,174,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2b?null:c.gstr1InvoicesData.credit_b2b.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(276,f))("queryParams",s.Hc(277,N)),s.Nb(9),s.dd((null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2c?null:c.gstr1InvoicesData.credit_b2c.count)||0),s.Nb(3),s.dd(s.zc(257,177,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2c?null:c.gstr1InvoicesData.credit_b2c.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(261,180,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2c?null:c.gstr1InvoicesData.credit_b2c.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(265,183,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2c?null:c.gstr1InvoicesData.credit_b2c.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(269,186,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2c?null:c.gstr1InvoicesData.credit_b2c.sgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(273,189,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2c?null:c.gstr1InvoicesData.credit_b2c.tax_amount,"INR")||0),s.Nb(4),s.dd(s.zc(277,192,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.credit_b2c?null:c.gstr1InvoicesData.credit_b2c.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(278,f))("queryParams",s.Hc(279,w)),s.Nb(9),s.dd((null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.nil_rated_supplies?null:c.gstr1InvoicesData.nil_rated_supplies.count)||0),s.Nb(3),s.dd(s.zc(293,195,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.nil_rated_supplies?null:c.gstr1InvoicesData.nil_rated_supplies.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(297,198,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.nil_rated_supplies?null:c.gstr1InvoicesData.nil_rated_supplies.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(301,201,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.nil_rated_supplies?null:c.gstr1InvoicesData.nil_rated_supplies.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(305,204,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.nil_rated_supplies?null:c.gstr1InvoicesData.nil_rated_supplies.sgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(309,207,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.nil_rated_supplies?null:c.gstr1InvoicesData.nil_rated_supplies.tax_amount,"INR")||0),s.Nb(4),s.dd(s.zc(313,210,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.nil_rated_supplies?null:c.gstr1InvoicesData.nil_rated_supplies.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(280,z)),s.Nb(9),s.dd((null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.advance_received?null:c.gstr1InvoicesData.advance_received.count)||0),s.Nb(3),s.dd(s.zc(329,213,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.advance_received?null:c.gstr1InvoicesData.advance_received.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(333,216,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.advance_received?null:c.gstr1InvoicesData.advance_received.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(337,219,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.advance_received?null:c.gstr1InvoicesData.advance_received.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(341,222,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.advance_received?null:c.gstr1InvoicesData.advance_received.sgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(345,225,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.advance_received?null:c.gstr1InvoicesData.advance_received.tax_amount,"INR")||0),s.Nb(4),s.dd(s.zc(349,228,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.advance_received?null:c.gstr1InvoicesData.advance_received.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(281,M)),s.Nb(9),s.dd((null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.adjustment_of_advances?null:c.gstr1InvoicesData.adjustment_of_advances.count)||0),s.Nb(3),s.dd(s.zc(365,231,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.adjustment_of_advances?null:c.gstr1InvoicesData.adjustment_of_advances.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(369,234,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.adjustment_of_advances?null:c.gstr1InvoicesData.adjustment_of_advances.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(373,237,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.adjustment_of_advances?null:c.gstr1InvoicesData.adjustment_of_advances.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(377,240,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.adjustment_of_advances?null:c.gstr1InvoicesData.adjustment_of_advances.sgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(381,243,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.adjustment_of_advances?null:c.gstr1InvoicesData.adjustment_of_advances.tax_amount,"INR")||0),s.Nb(4),s.dd(s.zc(385,246,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.adjustment_of_advances?null:c.gstr1InvoicesData.adjustment_of_advances.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(282,R)),s.Nb(9),s.dd((null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.get_hsn_summary?null:c.gstr1InvoicesData.get_hsn_summary.count)||0),s.Nb(3),s.dd(s.zc(401,249,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.get_hsn_summary?null:c.gstr1InvoicesData.get_hsn_summary.taxable_value,"INR")||0),s.Nb(4),s.dd(s.zc(405,252,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.get_hsn_summary?null:c.gstr1InvoicesData.get_hsn_summary.igst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(409,255,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.get_hsn_summary?null:c.gstr1InvoicesData.get_hsn_summary.cgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(413,258,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.get_hsn_summary?null:c.gstr1InvoicesData.get_hsn_summary.sgst_amount,"INR")||0),s.Nb(4),s.dd(s.zc(417,261,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.get_hsn_summary?null:c.gstr1InvoicesData.get_hsn_summary.tax_amount,"INR")||0),s.Nb(4),s.dd(s.zc(421,264,null==c.gstr1InvoicesData||null==c.gstr1InvoicesData.get_hsn_summary?null:c.gstr1InvoicesData.get_hsn_summary.before_gst,"INR")||0),s.Nb(4),s.Ec("routerLink",s.Hc(283,S)))},directives:[a.f,b.a],pipes:[n.d],styles:[".date[_ngcontent-%COMP%]{max-width:250px;height:35px;font-size:13px}.col[_ngcontent-%COMP%]{margin:auto}.fill-color[_ngcontent-%COMP%]{background-color:#fff5f5;border-color:#ffe4e4!important}p[_ngcontent-%COMP%]{font-size:14px!important;margin-bottom:0!important}.h-77[_ngcontent-%COMP%]{height:77px}.crums[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px}.crums[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{-webkit-text-decoration-line:underline;text-decoration-line:underline}.form-control[_ngcontent-%COMP%]{font-size:14px;height:35px}.custom-select[_ngcontent-%COMP%]{height:35px}.btn-primary[_ngcontent-%COMP%]{background:#012254!important;border:0;border-radius:0!important;font-size:14px!important;padding:5px 15px}.btn-outline-primary[_ngcontent-%COMP%]{border:1px solid #012254!important;border-radius:0!important;font-size:14px!important;color:#012254}.uploadBtn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px!important}.view-history[_ngcontent-%COMP%]{color:#012254;cursor:pointer;text-decoration:underline}.flex-fill[_ngcontent-%COMP%]{max-width:300px!important}"]}),t})()},{path:"invoice",loadChildren:()=>Promise.all([e.e(0),e.e(58)]).then(e.bind(null,"QS6t")).then(t=>t.InvoiceModule)},{path:"invoice-details/:id",loadChildren:()=>e.e(32).then(e.bind(null,"KGWg")).then(t=>t.InvoiceDetailsModule)},{path:"ill-rated",loadChildren:()=>e.e(59).then(e.bind(null,"1qr5")).then(t=>t.NillRatedModule)},{path:"reconciliation",loadChildren:()=>e.e(60).then(e.bind(null,"PSHn")).then(t=>t.ReconciliationModule)},{path:"sac-hsn-outward",loadChildren:()=>e.e(61).then(e.bind(null,"CYM3")).then(t=>t.SacHsnOutwardModule)},{path:"save-gstin",loadChildren:()=>e.e(62).then(e.bind(null,"bXhV")).then(t=>t.SaveGstinModule)},{path:"gstr1-summary",loadChildren:()=>e.e(57).then(e.bind(null,"kj5Z")).then(t=>t.Gstr1SummaryModule)},{path:"advance-received",loadChildren:()=>e.e(56).then(e.bind(null,"GoIu")).then(t=>t.AdvanceReceivedModule)},{path:"adjustment-of-advances",loadChildren:()=>e.e(55).then(e.bind(null,"eaZ3")).then(t=>t.AdjustmentOfAdvancesModule)}];let k=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(c){return new(c||t)},imports:[[a.i.forChild(O)],a.i]}),t})();var C=e("3Pt+"),E=e("PCNd"),A=e("ZOsW");let T=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(c){return new(c||t)},imports:[[n.c,k,C.d,E.a,A.b]]}),t})()},PWHj:function(t,c,e){"use strict";e.d(c,"a",(function(){return d}));var n=e("fXoL"),a=e("1G5W"),s=e("mFJh"),i=e("3Pt+"),r=e("ofXK");function l(t,c){if(1&t&&(n.hc(0,"option",10),n.cd(1),n.gc()),2&t){const t=c.$implicit;n.Ec("value",t.short),n.Nb(1),n.dd(t.long)}}function o(t,c){if(1&t&&(n.hc(0,"option"),n.cd(1),n.gc()),2&t){const t=c.$implicit;n.Nb(1),n.dd(t)}}let d=(()=>{class t{constructor(t){this.yearService=t,this.destroyEvents=new n.q,this.yearsList=[],this.monthList=[],this.month="",this.year=""}ngOnInit(){this.yearService.years.pipe(Object(a.a)(this.destroyEvents)).subscribe(t=>this.yearsList=t),this.yearService.months.pipe(Object(a.a)(this.destroyEvents)).subscribe(t=>this.monthList=t);let t=JSON.parse(localStorage.getItem("dateFilters"));if((null==t?void 0:t.month)&&(null==t?void 0:t.year))this.month=t.month,this.year=t.year;else{const t=new Date;t.setMonth(t.getMonth()-1);let c=t.toLocaleString("default",{month:"long"});c=t.getMonth()+1;let e=t.getFullYear();this.month=c,this.year=e,this.setDates(c,e)}this.yearService.setSelectedYear(this.year),this.yearService.setSelectedMonth(this.month)}selectMonthYear(t,c){"month"===c&&t&&(this.month=t,this.setDates(t,null),this.yearService.setSelectedMonth(this.month)),"year"===c&&t&&(this.year=t,this.setDates(null,t),this.yearService.setSelectedYear(this.year))}setDates(t,c){localStorage.setItem("dateFilters",JSON.stringify({month:t||this.month,year:c||this.year}))}}return t.\u0275fac=function(c){return new(c||t)(n.bc(s.a))},t.\u0275cmp=n.Vb({type:t,selectors:[["app-ret-period"]],decls:13,vars:4,consts:[[1,"d-flex","align-items-center"],[1,"m-0"],[1,"pr-2","text-white"],[1,"flex-fill"],[1,""],["id","my-select","name","month",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"flex-fill","ml-3"],["id","my-select","name","year",1,"form-control","px-4",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,c){1&t&&(n.hc(0,"div",0),n.hc(1,"div"),n.hc(2,"p",1),n.hc(3,"small",2),n.cd(4,"Return Period"),n.gc(),n.gc(),n.gc(),n.hc(5,"div",3),n.hc(6,"div",4),n.hc(7,"select",5),n.sc("ngModelChange",(function(t){return c.month=t}))("ngModelChange",(function(t){return c.selectMonthYear(t,"month")})),n.ad(8,l,2,2,"option",6),n.gc(),n.gc(),n.gc(),n.hc(9,"div",7),n.hc(10,"div",4),n.hc(11,"select",8),n.sc("ngModelChange",(function(t){return c.year=t}))("ngModelChange",(function(t){return c.selectMonthYear(t,"year")})),n.ad(12,o,2,1,"option",9),n.gc(),n.gc(),n.gc(),n.gc()),2&t&&(n.Nb(7),n.Ec("ngModel",c.month),n.Nb(1),n.Ec("ngForOf",c.monthList),n.Nb(3),n.Ec("ngModel",c.year),n.Nb(1),n.Ec("ngForOf",c.yearsList))},directives:[i.r,i.i,i.l,r.o,i.m,i.t],styles:[".custom-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{font-size:13px;height:33px}"]}),t})()},pw5d:function(t,c,e){"use strict";e.d(c,"a",(function(){return x}));var n=e("t0ZU"),a=e("nbXG"),s=e("fXoL"),i=e("1kSV"),r=e("tk/3"),l=e("ofXK");function o(t,c){if(1&t){const t=s.ic();s.hc(0,"button",10),s.sc("click",(function(){return s.Qc(t),s.wc().resetbtn()})),s.cd(1,"Reset"),s.gc()}}function d(t,c){if(1&t){const t=s.ic();s.hc(0,"div"),s.hc(1,"label",14),s.cc(2,"i",15),s.hc(3,"h6"),s.hc(4,"strong"),s.cd(5,"Upload File"),s.gc(),s.gc(),s.gc(),s.hc(6,"input",16),s.sc("change",(function(c){return s.Qc(t),s.wc(2).handleFileInput(c)})),s.gc(),s.gc()}}function g(t,c){if(1&t&&(s.hc(0,"div",17),s.cc(1,"i",18),s.hc(2,"div",19),s.cd(3),s.gc(),s.gc()),2&t){const t=s.wc(2);s.Nb(3),s.dd(t.filename)}}function u(t,c){if(1&t&&(s.hc(0,"div",11),s.ad(1,d,7,0,"div",12),s.ad(2,g,4,1,"div",13),s.gc()),2&t){const t=s.wc();s.Nb(1),s.Ec("ngIf",!t.filename),s.Nb(1),s.Ec("ngIf",t.filename)}}function h(t,c){if(1&t&&(s.hc(0,"button",28),s.cd(1),s.gc()),2&t){const t=s.wc(),c=t.$implicit;s.Ec("id",t.index),s.Nb(1),s.dd(c.mappedHead||"Not Mapped")}}function v(t,c){if(1&t){const t=s.ic();s.hc(0,"button",33),s.sc("click",(function(){s.Qc(t);const e=c.$implicit,n=s.wc(2),a=n.$implicit,i=n.index;return s.wc(2).selectedITem(e,a,i)})),s.hc(1,"span"),s.cd(2),s.gc(),s.gc()}if(2&t){const t=c.$implicit;s.Ec("disabled",t.selected),s.Nb(2),s.dd(t.label)}}function p(t,c){if(1&t&&(s.hc(0,"div",29),s.hc(1,"button",30),s.cd(2),s.gc(),s.hc(3,"div",31),s.ad(4,v,3,2,"button",32),s.gc(),s.gc()),2&t){const t=s.wc(),c=t.index,e=t.$implicit,n=s.wc(2);s.Nb(1),s.Ec("id",c),s.Nb(1),s.dd(e.mappedHead||"Not Mapped"),s.Nb(2),s.Ec("ngForOf",n.tableArrs.thValues)}}function b(t,c){if(1&t&&(s.hc(0,"th"),s.ad(1,h,2,2,"button",26),s.ad(2,p,5,3,"div",27),s.gc()),2&t){const t=s.wc(2);s.Nb(1),s.Ec("ngIf",t.xcelModal.showMappedBtnTh),s.Nb(1),s.Ec("ngIf",!t.xcelModal.showMappedBtnTh)}}function m(t,c){if(1&t&&(s.hc(0,"th"),s.cd(1),s.gc()),2&t){const t=c.$implicit;s.Nb(1),s.dd(t.value)}}function _(t,c){if(1&t&&(s.hc(0,"td"),s.cd(1),s.gc()),2&t){const t=c.$implicit,e=s.wc().$implicit;s.Nb(1),s.dd(e[t.value])}}function I(t,c){if(1&t&&(s.hc(0,"tr"),s.ad(1,_,2,1,"td",25),s.gc()),2&t){const t=s.wc(2);s.Nb(1),s.Ec("ngForOf",t.tableArrs.gstr2XcelTableHeadings)}}function D(t,c){if(1&t&&(s.hc(0,"div",20),s.hc(1,"div",21),s.hc(2,"div",22),s.hc(3,"table",23),s.hc(4,"thead",24),s.hc(5,"tr"),s.ad(6,b,3,2,"th",25),s.gc(),s.hc(7,"tr"),s.ad(8,m,2,1,"th",25),s.gc(),s.gc(),s.hc(9,"tbody"),s.ad(10,I,2,1,"tr",25),s.gc(),s.gc(),s.gc(),s.gc(),s.gc()),2&t){const t=s.wc();s.Nb(6),s.Ec("ngForOf",t.tableArrs.gstr2XcelTableHeadings),s.Nb(2),s.Ec("ngForOf",t.tableArrs.gstr2XcelTableHeadings),s.Nb(2),s.Ec("ngForOf",t.tableArrs.gstr2XcelList)}}function y(t,c){if(1&t){const t=s.ic();s.hc(0,"button",10),s.sc("click",(function(){return s.Qc(t),s.wc().uploadService()})),s.cd(1,"Upload"),s.gc()}}function f(t,c){if(1&t){const t=s.ic();s.hc(0,"button",10),s.sc("click",(function(){return s.Qc(t),s.wc().submitMappedData()})),s.cd(1,"Submit"),s.gc()}}let x=(()=>{class t{constructor(t,c,e){this.activeModal=t,this.http=c,this.storageService=e,this.loginDetails={},this.companyDetails={},this.dupThValues=[],this.tableArrs={thValues:[],gstr2XcelTableHeadings:[],gstr2XcelList:[],mappedArr:[]},this.xcelModal={uploadedFileData:!1,mappedBtn:!1,uploadedFilepath:"",showMappedBtnTh:!1}}ngOnInit(){var t;this.loginDetails=JSON.parse(this.storageService.getRawValue(a.b.LOGIN)||""),(null===(t=this.loginDetails)||void 0===t?void 0:t.company)&&this.getCompanyDetails()}handleFileInput(t){this.filename=t.target.files[0].name,this.fileToUpload=t.target.files[0]}uploadService(){if(this.fileToUpload){const t=new FormData;t.append("file",this.fileToUpload,this.fileToUpload.name),t.append("is_private","1"),t.append("folder","Home"),t.append("doctype",n.b.gstr2a),this.http.post(n.a.uploadFile,t).subscribe(t=>{var c,e,a;(null===(c=t.message)||void 0===c?void 0:c.file_url)?(this.xcelModal.uploadedFilepath=null===(e=t.message)||void 0===e?void 0:e.file_url,this.xcelModal.uploadedFileData=!0,this.http.post(""+n.a.gstr2Excel,{data:{file_path:null===(a=t.message)||void 0===a?void 0:a.file_url,company:this.loginDetails.company}}).subscribe(t=>{var c,e;if(t.message.success&&(this.xcelModal.mappedBtn=!0,this.tableArrs.gstr2XcelList=t.message.data,Object.keys(t.message.data[0]).map((t,c)=>{t&&this.tableArrs.gstr2XcelTableHeadings.push({value:t,id:c,selected:!1,mappedHead:""})}),""!==(null===(c=this.companyDetails)||void 0===c?void 0:c.mapping_fields)&&this.tableArrs.gstr2XcelTableHeadings.length>0)){this.xcelModal.showMappedBtnTh=!0;let t=JSON.parse(null===(e=this.companyDetails)||void 0===e?void 0:e.mapping_fields);this.tableArrs.gstr2XcelTableHeadings.forEach(c=>(t.forEach(t=>{c.value==Object.values(t)[0]&&(c.mappedHead=Object.values(t)[1])}),c)),this.tableArrs.thValues.forEach(c=>(t.forEach(t=>{c.label==Object.values(t)[1]&&(c.selected=!0)}),c)),this.tableArrs.thValues=this.tableArrs.thValues.filter(t=>!t.selected)}})):console.log(t)})}}selectedITem(t,c,e){console.log(t,e,c),t.selected=!t.selected,""!=c.mappedHead&&(this.tableArrs.thValues.map(t=>(t.label==c.mappedHead&&(t.selected=!1),t)),this.tableArrs.mappedArr.splice(this.tableArrs.mappedArr.findIndex(t=>t.mappedTh==c.mappedHead),1)),console.log("====== th  ",this.tableArrs.thValues),this.tableArrs.gstr2XcelTableHeadings=this.tableArrs.gstr2XcelTableHeadings.map(c=>(c.id===e&&(c.mappedHead=t.label),c));let n={};n[t.fieldname]=c.value,n.mappedTh=t.label,this.tableArrs.mappedArr.push(n),console.log("......mappedArr=====",this.tableArrs.mappedArr)}submitMappedData(){this.http.post(""+n.a.gstr2AMapped,{data:{file_path:this.xcelModal.uploadedFilepath,company:this.loginDetails.company,mapping_fields:this.tableArrs.mappedArr}}).subscribe(t=>{t.message.success&&(this.tableArrs={gstr2XcelTableHeadings:[],gstr2XcelList:[],mappedArr:[]},this.getCompanyDetails(),this.activeModal.close())})}getCompanyDetails(){var t;this.http.get(`${n.a.resource}${n.b.company}/${null===(t=this.loginDetails)||void 0===t?void 0:t.company}`).subscribe(t=>{t.data&&(this.companyDetails=t.data,this.getGstr2ATheads())})}getGstr2ATheads(){this.http.get(""+n.a.gstr2ATheads).subscribe(t=>{var c,e;(null===(c=null==t?void 0:t.message)||void 0===c?void 0:c.fields)&&(this.tableArrs.thValues=null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.fields,this.tableArrs.thValues.map(t=>{t&&(t.selected=!1)}))})}resetbtn(){this.xcelModal.showMappedBtnTh=!1,this.tableArrs.gstr2XcelTableHeadings.map(t=>t.mappedHead=""),this.tableArrs.thValues=this.tableArrs.thValues.map(t=>t.selected=!1)}modalCancel(t){this.tableArrs.gstr2XcelTableHeadings=[],this.tableArrs.gstr2XcelList=[],this.tableArrs.mappedArr=[],this.tableArrs.thValues.length>0&&this.tableArrs.thValues.map(t=>{(null==t?void 0:t.selected)&&(t.selected=!1)}),this.activeModal.close()}close(){this.activeModal.close()}}return t.\u0275fac=function(c){return new(c||t)(s.bc(i.d),s.bc(r.b),s.bc(a.a))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-upload-excel-file"]],decls:16,vars:5,consts:[[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"cardMaxHght"],["class","file-upload p-5",4,"ngIf"],["class","row ",4,"ngIf"],[1,"modal-footer"],["type","reset",1,"btn","btn-outline-dark",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"file-upload","p-5"],[4,"ngIf"],["class","text-center",4,"ngIf"],["for","file",1,"d-block","cursor-pointer","text-center"],[1,"ri-upload-cloud-line"],["accept",".xlsx","type","file","name","","id","file",1,"opacity-0",3,"change"],[1,"text-center"],[1,"ri-file-text-line","text-success","line-height-0"],[1,"my-3"],[1,"row"],[1,"col-md-12"],[1,"c-border","border-top-0"],[1,"table","table-bordered"],[1,"bg-light"],[4,"ngFor","ngForOf"],["class","btn bg-white shadow-sm  d-block px-3",3,"id",4,"ngIf"],["ngbDropdown","","class","d-inline-block c-border","container","body",4,"ngIf"],[1,"btn","bg-white","shadow-sm","d-block","px-3",3,"id"],["ngbDropdown","","container","body",1,"d-inline-block","c-border"],["ngbDropdownToggle","",1,"btn","bg-white","shadow-sm","d-block","px-3",3,"id"],["ngbDropdownMenu","",1,"c-border","shadow-sm","dropdownDiv"],["ngbDropdownItem","",3,"disabled","click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"disabled","click"]],template:function(t,c){1&t&&(s.hc(0,"div"),s.hc(1,"div",0),s.hc(2,"h5",1),s.cd(3,"Column Mapping"),s.gc(),s.ad(4,o,2,0,"button",2),s.hc(5,"button",3),s.sc("click",(function(){return c.close()})),s.hc(6,"span",4),s.cd(7,"\xd7"),s.gc(),s.gc(),s.gc(),s.hc(8,"div",5),s.ad(9,u,3,2,"div",6),s.ad(10,D,11,3,"div",7),s.gc(),s.hc(11,"div",8),s.hc(12,"button",9),s.sc("click",(function(){return c.modalCancel("Save click")})),s.cd(13,"Cancel"),s.gc(),s.ad(14,y,2,0,"button",2),s.ad(15,f,2,0,"button",2),s.gc(),s.gc()),2&t&&(s.Nb(4),s.Ec("ngIf",c.xcelModal.showMappedBtnTh),s.Nb(5),s.Ec("ngIf",!c.xcelModal.uploadedFileData),s.Nb(1),s.Ec("ngIf",c.xcelModal.uploadedFileData),s.Nb(4),s.Ec("ngIf",!c.xcelModal.mappedBtn),s.Nb(1),s.Ec("ngIf",c.xcelModal.mappedBtn))},directives:[l.p,l.o,i.e,i.j,i.h,i.g],styles:[".cardMaxHght[_ngcontent-%COMP%]{max-height:68vh;overflow-y:auto}.dropdownDiv[_ngcontent-%COMP%]{max-height:230px;overflow-y:scroll}.file-upload[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:100px}"]}),t})()},xtfN:function(t,c,e){"use strict";e.d(c,"a",(function(){return s}));var n=e("fXoL"),a=e("1kSV");let s=(()=>{class t{constructor(t){this.modal=t}ngOnInit(){}close(){this.modal.close()}otpEntered(t){6==t.target.value.length&&this.modal.close(t.target.value)}}return t.\u0275fac=function(c){return new(c||t)(n.bc(a.d))},t.\u0275cmp=n.Vb({type:t,selectors:[["app-otp"]],decls:10,vars:0,consts:[[1,"card"],[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"row","justify-content-center"],["id","partitioned","type","text","maxlength","6","minlength","6","name","otp","required","",3,"keyup"]],template:function(t,c){1&t&&(n.hc(0,"div",0),n.hc(1,"div",1),n.hc(2,"h5",2),n.cd(3,"Enter OTP"),n.gc(),n.hc(4,"button",3),n.sc("click",(function(){return c.close()})),n.hc(5,"span",4),n.cd(6,"\xd7"),n.gc(),n.gc(),n.gc(),n.hc(7,"div",5),n.hc(8,"div",6),n.hc(9,"input",7),n.sc("keyup",(function(t){return c.otpEntered(t)})),n.gc(),n.gc(),n.gc(),n.gc())},styles:["#partitioned[_ngcontent-%COMP%]{padding-left:15px;letter-spacing:42px;border:0;background-image:linear-gradient(270deg,#000 70%,hsla(0,0%,100%,0) 0);background-position:bottom;background-size:50px 1px;background-repeat:repeat-x;background-position-x:35px;width:300px}input[_ngcontent-%COMP%]:focus{outline:none!important}"]}),t})()}}]);