(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{ZMzJ:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return i}));var n=c("fXoL");let l=(()=>{class e{constructor(e){this.ele=e}onInputChange(e){const t=this.ele.nativeElement.value;this.ele.nativeElement.value=t.replace(/[^0-9]*/g,""),t!==this.ele.nativeElement.value&&e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(n.bc(n.o))},e.\u0275dir=n.Wb({type:e,selectors:[["","appNumberInput",""]],hostBindings:function(e,t){1&e&&n.sc("input",(function(e){return t.onInputChange(e)}))}}),e})(),i=(()=>{class e{}return e.\u0275mod=n.Zb({type:e}),e.\u0275inj=n.Yb({factory:function(t){return new(t||e)}}),e})()},"y+IW":function(e,t,c){"use strict";c.r(t),c.d(t,"EmailSettingsModule",(function(){return le}));var n=c("ofXK"),l=c("tyNb"),i=c("t0ZU"),a=c("fXoL"),o=c("tk/3"),s=c("5eHb"),r=c("1kSV"),d=c("3Pt+"),u=c("HgEw"),g=c("ZMzJ"),m=c("CzEO");function h(e,t){1&e&&(a.hc(0,"span"),a.cd(1,"SMTP Settings "),a.cc(2,"i",15),a.gc())}function p(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function f(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function b(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function M(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function _(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function v(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function w(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function E(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function N(e,t){if(1&e){const e=a.ic();a.hc(0,"div",18),a.hc(1,"div",19),a.hc(2,"label",45),a.cd(3,"Use SSL"),a.gc(),a.hc(4,"select",46,47),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).smtpSettings.use_ssl=t})),a.hc(6,"option",48),a.cd(7,"Select Status"),a.gc(),a.hc(8,"option",49),a.cd(9,"Yes"),a.gc(),a.hc(10,"option",50),a.cd(11,"No"),a.gc(),a.gc(),a.ad(12,E,2,0,"small",23),a.gc(),a.gc()}if(2&e){const e=a.Oc(5),t=a.wc(3);a.Nb(4),a.Ec("ngModel",t.smtpSettings.use_ssl),a.Nb(8),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function C(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function I(e,t){if(1&e){const e=a.ic();a.hc(0,"div",18),a.hc(1,"div",19),a.hc(2,"label",45),a.cd(3,"Use TLS"),a.gc(),a.hc(4,"select",51,52),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).smtpSettings.use_tls=t})),a.hc(6,"option",48),a.cd(7,"Select Status"),a.gc(),a.hc(8,"option",49),a.cd(9,"Yes"),a.gc(),a.hc(10,"option",50),a.cd(11,"No"),a.gc(),a.gc(),a.ad(12,C,2,0,"small",23),a.gc(),a.gc()}if(2&e){const e=a.Oc(5),t=a.wc(3);a.Nb(4),a.Ec("ngModel",t.smtpSettings.use_tls),a.Nb(8),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function S(e,t){if(1&e){const e=a.ic();a.hc(0,"form",null,16),a.hc(2,"div",5),a.hc(3,"div",17),a.hc(4,"div",5),a.hc(5,"div",18),a.hc(6,"div",19),a.hc(7,"input",20,21),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).smtpSettings.email_id=t})),a.gc(),a.hc(9,"label",22),a.cd(10,"Email Address"),a.gc(),a.ad(11,p,2,0,"small",23),a.gc(),a.gc(),a.hc(12,"div",18),a.hc(13,"div",19),a.hc(14,"input",24,25),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).smtpSettings.name=t})),a.gc(),a.hc(16,"label",26),a.cd(17,"Domain name"),a.gc(),a.ad(18,f,2,0,"small",23),a.gc(),a.gc(),a.hc(19,"div",18),a.hc(20,"div",19),a.hc(21,"input",27,28),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).smtpSettings.email_server=t})),a.gc(),a.hc(23,"label",29),a.cd(24,"Email Server"),a.gc(),a.ad(25,b,2,0,"small",23),a.gc(),a.gc(),a.hc(26,"div",18),a.hc(27,"div",19),a.hc(28,"input",30,31),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).smtpSettings.incoming_port=t})),a.gc(),a.hc(30,"label",32),a.cd(31,"Incoming Port"),a.gc(),a.ad(32,M,2,0,"small",23),a.gc(),a.gc(),a.hc(33,"div",18),a.hc(34,"div",19),a.hc(35,"input",33,34),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).smtpSettings.attachment_limit=t})),a.gc(),a.hc(37,"label",35),a.cd(38,"Attachment Limit(in MB)"),a.gc(),a.ad(39,_,2,0,"small",23),a.gc(),a.gc(),a.hc(40,"div",18),a.hc(41,"div",19),a.hc(42,"input",36,37),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).smtpSettings.smtp_server=t})),a.gc(),a.hc(44,"label",38),a.cd(45,"SMTP Server"),a.gc(),a.ad(46,v,2,0,"small",23),a.gc(),a.gc(),a.hc(47,"div",18),a.hc(48,"div",19),a.hc(49,"input",39,40),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).smtpSettings.smtp_port=t})),a.gc(),a.hc(51,"label",41),a.cd(52,"SMTP Port"),a.gc(),a.ad(53,w,2,0,"small",23),a.gc(),a.gc(),a.ad(54,N,13,2,"div",42),a.ad(55,I,13,2,"div",42),a.gc(),a.hc(56,"div",3),a.hc(57,"button",43),a.sc("click",(function(){a.Qc(e);const t=a.Oc(1);return a.wc(2).onSubmit(t)})),a.cd(58,"save"),a.gc(),a.gc(),a.gc(),a.gc(),a.gc()}if(2&e){const e=a.Oc(8),t=a.Oc(15),c=a.Oc(22),n=a.Oc(29),l=a.Oc(36),i=a.Oc(43),o=a.Oc(50),s=a.wc(2);a.Nb(7),a.Ec("ngModel",s.smtpSettings.email_id),a.Nb(4),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),a.Nb(3),a.Ec("ngModel",s.smtpSettings.name),a.Nb(4),a.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),a.Nb(3),a.Ec("ngModel",s.smtpSettings.email_server),a.Nb(4),a.Ec("ngIf",c.touched&&(null==c||null==c.errors?null:c.errors.required)),a.Nb(3),a.Ec("ngModel",s.smtpSettings.incoming_port),a.Nb(4),a.Ec("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),a.Nb(3),a.Ec("ngModel",s.smtpSettings.attachment_limit),a.Nb(4),a.Ec("ngIf",l.touched&&(null==l||null==l.errors?null:l.errors.required)),a.Nb(3),a.Ec("ngModel",s.smtpSettings.smtp_server),a.Nb(4),a.Ec("ngIf",i.touched&&(null==i||null==i.errors?null:i.errors.required)),a.Nb(3),a.Ec("ngModel",s.smtpSettings.smtp_port),a.Nb(4),a.Ec("ngIf",o.touched&&(null==o||null==o.errors?null:o.errors.required)),a.Nb(1),a.Ec("ngIf","Administrator"==(null==s.loginUser?null:s.loginUser.full_name)),a.Nb(1),a.Ec("ngIf","Administrator"==(null==s.loginUser?null:s.loginUser.full_name))}}function T(e,t){1&e&&(a.hc(0,"ngb-panel",12),a.ad(1,h,3,0,"ng-template",13),a.ad(2,S,59,16,"ng-template",14),a.gc())}function q(e,t){1&e&&(a.hc(0,"span"),a.cd(1,"Email Templates "),a.cc(2,"i",15),a.gc())}function y(e,t){if(1&e){const e=a.ic();a.hc(0,"div",57),a.hc(1,"div",58),a.hc(2,"div",59),a.hc(3,"h6"),a.hc(4,"b"),a.cd(5),a.gc(),a.gc(),a.hc(6,"p"),a.hc(7,"b"),a.cd(8,"Subject"),a.gc(),a.hc(9,"span",60),a.cd(10),a.gc(),a.gc(),a.gc(),a.hc(11,"div",61),a.hc(12,"button",62),a.sc("click",(function(){a.Qc(e);const c=t.$implicit;return a.wc(3).deleteTemp(c)})),a.cd(13,"Delete"),a.gc(),a.hc(14,"button",63),a.sc("click",(function(){a.Qc(e);const c=t.$implicit,n=a.wc(3),l=a.Oc(17);return n.editTemp(c,l)})),a.cd(15,"Edit"),a.gc(),a.gc(),a.gc(),a.gc()}if(2&e){const e=t.$implicit;a.Nb(5),a.dd(e.name),a.Nb(5),a.ed(" : ",e.subject," ")}}function A(e,t){if(1&e){const e=a.ic();a.cc(0,"div",0),a.hc(1,"div",5),a.hc(2,"div",18),a.hc(3,"div",54),a.sc("click",(function(){a.Qc(e);const t=a.wc(2),c=a.Oc(17);return t.addNewTemp(c)})),a.hc(4,"h6"),a.hc(5,"b"),a.cc(6,"i",55),a.cd(7," Create New Template "),a.gc(),a.gc(),a.gc(),a.gc(),a.ad(8,y,16,2,"div",56),a.gc()}if(2&e){const e=a.wc(2);a.Nb(8),a.Ec("ngForOf",e.emailTemplates)}}function x(e,t){1&e&&(a.hc(0,"ngb-panel",53),a.ad(1,q,3,0,"ng-template",13),a.ad(2,A,9,1,"ng-template",14),a.gc())}function k(e,t){1&e&&(a.hc(0,"span"),a.cd(1,"Email Account "),a.cc(2,"i",15),a.gc())}function O(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function D(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function $(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function U(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function Q(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function R(e,t){if(1&e){const e=a.ic();a.hc(0,"div",18),a.hc(1,"div",19),a.hc(2,"label",77),a.cd(3,"Initial Sync Count"),a.gc(),a.hc(4,"select",78,79),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailAccount.initial_sync_count=t})),a.hc(6,"option",48),a.cd(7,"Selected Mode"),a.gc(),a.hc(8,"option",80),a.cd(9,"100"),a.gc(),a.hc(10,"option",81),a.cd(11,"250"),a.gc(),a.hc(12,"option",82),a.cd(13,"500"),a.gc(),a.gc(),a.ad(14,Q,2,0,"small",23),a.gc(),a.gc()}if(2&e){const e=a.Oc(5),t=a.wc(3);a.Nb(4),a.Ec("ngModel",t.emailAccount.initial_sync_count),a.Nb(10),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function P(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function j(e,t){if(1&e){const e=a.ic();a.hc(0,"div",18),a.hc(1,"div",19),a.hc(2,"label",83),a.cd(3,"Create Contact"),a.gc(),a.hc(4,"select",84,85),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailAccount.create_contact=t})),a.hc(6,"option",48),a.cd(7,"Select Status"),a.gc(),a.hc(8,"option",49),a.cd(9,"Yes"),a.gc(),a.hc(10,"option",50),a.cd(11,"No"),a.gc(),a.gc(),a.ad(12,P,2,0,"small",23),a.gc(),a.gc()}if(2&e){const e=a.Oc(5),t=a.wc(3);a.Nb(4),a.Ec("ngModel",t.emailAccount.create_contact),a.Nb(8),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function F(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function Y(e,t){if(1&e){const e=a.ic();a.hc(0,"div",18),a.hc(1,"div",19),a.hc(2,"label",86),a.cd(3,"Enable Outgoing"),a.gc(),a.hc(4,"select",87,88),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailAccount.enable_outgoing=t})),a.hc(6,"option",48),a.cd(7,"Select Status"),a.gc(),a.hc(8,"option",49),a.cd(9,"Yes"),a.gc(),a.hc(10,"option",50),a.cd(11,"No"),a.gc(),a.gc(),a.ad(12,F,2,0,"small",23),a.gc(),a.gc()}if(2&e){const e=a.Oc(5),t=a.wc(3);a.Nb(4),a.Ec("ngModel",t.emailAccount.enable_outgoing),a.Nb(8),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function J(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function z(e,t){if(1&e){const e=a.ic();a.hc(0,"div",18),a.hc(1,"div",19),a.hc(2,"label",89),a.cd(3,"Default Outgoing"),a.gc(),a.hc(4,"select",90,91),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailAccount.default_outgoing=t})),a.hc(6,"option",48),a.cd(7,"Select Status"),a.gc(),a.hc(8,"option",49),a.cd(9,"Yes"),a.gc(),a.hc(10,"option",50),a.cd(11,"No"),a.gc(),a.gc(),a.ad(12,J,2,0,"small",23),a.gc(),a.gc()}if(2&e){const e=a.Oc(5),t=a.wc(3);a.Nb(4),a.Ec("ngModel",t.emailAccount.default_outgoing),a.Nb(8),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function L(e,t){1&e&&(a.hc(0,"small",44),a.cd(1,"Required"),a.gc())}function Z(e,t){if(1&e){const e=a.ic();a.hc(0,"div",18),a.hc(1,"div",19),a.hc(2,"label",92),a.cd(3,"Track Email Status"),a.gc(),a.hc(4,"select",93,94),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailAccount.track_email_status=t})),a.hc(6,"option",48),a.cd(7,"Select Status"),a.gc(),a.hc(8,"option",49),a.cd(9,"Yes"),a.gc(),a.hc(10,"option",50),a.cd(11,"No"),a.gc(),a.gc(),a.ad(12,L,2,0,"small",23),a.gc(),a.gc()}if(2&e){const e=a.Oc(5),t=a.wc(3);a.Nb(4),a.Ec("ngModel",t.emailAccount.track_email_status),a.Nb(8),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required))}}function H(e,t){if(1&e){const e=a.ic();a.hc(0,"form",null,65),a.hc(2,"div",5),a.hc(3,"div",17),a.hc(4,"div",5),a.hc(5,"div",18),a.hc(6,"div",19),a.hc(7,"input",66,21),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).emailAccount.email_id=t})),a.gc(),a.hc(9,"label",67),a.cd(10,"Email Address"),a.gc(),a.ad(11,O,2,0,"small",23),a.gc(),a.gc(),a.hc(12,"div",18),a.hc(13,"div",19),a.hc(14,"input",68,69),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).emailAccount.password=t})),a.gc(),a.hc(16,"label",70),a.cd(17,"Password"),a.gc(),a.ad(18,D,2,0,"small",23),a.gc(),a.gc(),a.hc(19,"div",18),a.hc(20,"div",19),a.hc(21,"input",71,72),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).emailAccount.email_account_name=t})),a.gc(),a.hc(23,"label",73),a.cd(24,"Email Account Name"),a.gc(),a.ad(25,$,2,0,"small",23),a.gc(),a.gc(),a.hc(26,"div",18),a.hc(27,"div",19),a.hc(28,"input",74,75),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).emailAccount.domain=t})),a.gc(),a.hc(30,"label",76),a.cd(31,"Domain"),a.gc(),a.ad(32,U,2,0,"small",23),a.gc(),a.gc(),a.ad(33,R,15,2,"div",42),a.ad(34,j,13,2,"div",42),a.ad(35,Y,13,2,"div",42),a.ad(36,z,13,2,"div",42),a.ad(37,Z,13,2,"div",42),a.gc(),a.gc(),a.gc(),a.hc(38,"div",3),a.hc(39,"button",43),a.sc("click",(function(){a.Qc(e);const t=a.Oc(1);return a.wc(2).onSubmitaccountForm(t)})),a.cd(40,"save"),a.gc(),a.gc(),a.gc()}if(2&e){const e=a.Oc(8),t=a.Oc(15),c=a.Oc(22),n=a.Oc(29),l=a.wc(2);a.Nb(7),a.Ec("ngModel",l.emailAccount.email_id),a.Nb(4),a.Ec("ngIf",e.touched&&(null==e||null==e.errors?null:e.errors.required)),a.Nb(3),a.Ec("ngModel",l.emailAccount.password),a.Nb(4),a.Ec("ngIf",t.touched&&(null==t||null==t.errors?null:t.errors.required)),a.Nb(3),a.Ec("ngModel",l.emailAccount.email_account_name),a.Nb(4),a.Ec("ngIf",c.touched&&(null==c||null==c.errors?null:c.errors.required)),a.Nb(3),a.Ec("ngModel",l.emailAccount.domain),a.Nb(4),a.Ec("ngIf",n.touched&&(null==n||null==n.errors?null:n.errors.required)),a.Nb(1),a.Ec("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),a.Nb(1),a.Ec("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),a.Nb(1),a.Ec("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),a.Nb(1),a.Ec("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name)),a.Nb(1),a.Ec("ngIf","Administrator"==(null==l.loginUser?null:l.loginUser.full_name))}}function W(e,t){1&e&&(a.hc(0,"ngb-panel",64),a.ad(1,k,3,0,"ng-template",13),a.ad(2,H,41,13,"ng-template",14),a.gc())}function X(e,t){if(1&e){const e=a.ic();a.hc(0,"quill-editor",118,119),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailTempData.response_html=t})),a.gc()}if(2&e){const e=a.wc(3);a.Ec("ngModel",e.emailTempData.response_html)}}function B(e,t){if(1&e){const e=a.ic();a.hc(0,"textarea",120),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailTempData.response_html=t})),a.gc()}if(2&e){const e=a.wc(3);a.Ec("ngModel",e.emailTempData.response_html)}}function V(e,t){if(1&e){const e=a.ic();a.hc(0,"textarea",121),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(3).emailTempData.response=t})),a.gc()}if(2&e){const e=a.wc(3);a.Ec("ngModel",e.emailTempData.response)}}function G(e,t){if(1&e){const e=a.ic();a.hc(0,"form",102,16),a.sc("ngSubmit",(function(){a.Qc(e);const t=a.Oc(1),c=a.wc().$implicit;return a.wc().emailForm(t,c)})),a.hc(2,"div",19),a.hc(3,"input",103,104),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).emailTempData.name=t})),a.gc(),a.hc(5,"label",105),a.cd(6,"Email Template"),a.gc(),a.gc(),a.hc(7,"div",19),a.hc(8,"input",106,107),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).emailTempData.subject=t})),a.gc(),a.hc(10,"label",108),a.cd(11,"Subject"),a.gc(),a.gc(),a.hc(12,"div",109),a.hc(13,"input",110),a.sc("ngModelChange",(function(t){return a.Qc(e),a.wc(2).emailTempData.use_html=t})),a.gc(),a.hc(14,"label",111),a.cd(15," html code "),a.gc(),a.gc(),a.ad(16,X,2,1,"quill-editor",112),a.ad(17,B,1,1,"textarea",113),a.ad(18,V,1,1,"textarea",114),a.hc(19,"div",115),a.hc(20,"button",116),a.sc("click",(function(){return a.Qc(e),a.wc().$implicit.dismiss("Cross click")})),a.cd(21,"Cancel"),a.gc(),a.hc(22,"button",117),a.cd(23,"Save"),a.gc(),a.gc(),a.gc()}if(2&e){const e=a.wc(2);a.Nb(3),a.Ec("ngModel",e.emailTempData.name)("readonly",e.checkTempMethod),a.Nb(5),a.Ec("ngModel",e.emailTempData.subject),a.Nb(5),a.Ec("ngModel",e.emailTempData.use_html),a.Nb(3),a.Ec("ngIf",e.emailTempData.use_html),a.Nb(1),a.Ec("ngIf",e.emailTempData.use_html),a.Nb(1),a.Ec("ngIf",!e.emailTempData.use_html)}}function K(e,t){1&e&&(a.hc(0,"div",122),a.hc(1,"h3"),a.cd(2,"Please Wait"),a.gc(),a.gc())}function ee(e,t){if(1&e&&(a.hc(0,"div",95),a.hc(1,"h5",96),a.cd(2,"Email"),a.gc(),a.hc(3,"button",97),a.sc("click",(function(){return t.$implicit.dismiss("Cross click")})),a.hc(4,"span",98),a.cd(5,"\xd7"),a.gc(),a.gc(),a.gc(),a.hc(6,"div",99),a.ad(7,G,24,7,"form",100),a.ad(8,K,3,0,"div",101),a.gc()),2&e){const e=a.wc();a.Nb(7),a.Ec("ngIf",e.emailTempData),a.Nb(1),a.Ec("ngIf",!e.emailTempData)}}const te=function(){return["/home"]},ce=[{path:"",component:(()=>{class e{constructor(e,t,c){this.http=e,this.toaster=t,this.modal=c,this.loginUser={},this.smtpSettings={},this.emailTemplates={},this.emailAccount={},this.emailTempData={},this.checkTempMethod=!1,this.use_html=!0}ngOnInit(){this.loginUser=JSON.parse(localStorage.getItem("login")),this.loginUSerRole=this.loginUser.rolesFilter.some(e=>"ezy-IT"==e),this.getSmtpData(),this.getEmailAccountData(),this.getTemplateData()}getSmtpData(){this.http.get(`${i.a.resource}/${i.b.emailDomain}`).subscribe(e=>{e.data&&(e.data.length>1?this.http.get(`${i.a.resource}/${i.b.emailDomain}/${e.data[0].name}`).subscribe(e=>{this.smtpSettings=null==e?void 0:e.data}):this.smtpSettings={})})}onSubmit(e){var t,c;(null===(t=this.smtpSettings)||void 0===t?void 0:t.name)?this.http.put(`${i.a.resource}/${i.b.emailDomain}/${null===(c=this.smtpSettings)||void 0===c?void 0:c.name}`,e.value).subscribe(e=>{e&&(this.smtpSettings=null==e?void 0:e.data,this.toaster.success("Updated"))}):this.http.post(`${i.a.resource}/${i.b.emailDomain}`,e.value).subscribe(e=>{e&&(this.smtpSettings=null==e?void 0:e.data,this.toaster.success("Added"))})}getEmailAccountData(){let e={filters:[],limit_start:0,limit_page_length:20,order_by:"`tabEmail Account`.`creation` desc"};e.filters.push(["default_outgoing","=",1]),e.fields=JSON.stringify(["name","default_outgoing"]),e.filters=JSON.stringify(e.filters),this.http.get(`${i.a.resource}/${i.b.emailAccount}`,{params:e}).subscribe(e=>{e.data&&this.http.get(`${i.a.resource}/${i.b.emailAccount}/${e.data[0].name}`).subscribe(e=>{this.emailAccount=null==e?void 0:e.data})})}onSubmitaccountForm(e){var t,c;(null===(t=this.emailAccount)||void 0===t?void 0:t.name)?this.http.put(`${i.a.resource}/${i.b.emailAccount}/${null===(c=this.emailAccount)||void 0===c?void 0:c.name}`,e.value).subscribe(e=>{e&&(this.emailAccount=null==e?void 0:e.data,this.toaster.success("Updated"))}):this.http.post(`${i.a.resource}/${i.b.emailAccount}`,e.value).subscribe(e=>{e&&(this.emailAccount=null==e?void 0:e.data,this.toaster.success("Added"))})}getTemplateData(){let e={filters:[]};e.fields=JSON.stringify(["name","subject","response_html","response","use_html"]),this.http.get(`${i.a.resource}/${i.b.emailTemplates}`,{params:e}).subscribe(e=>{0!=e.data.length&&(this.emailTemplates=e.data)})}addNewTemp(e){this.emailTempData={},this.checkTempMethod=!1,this.modal.open(e,{size:"lg",centered:!0})}emailForm(e,t){var c,n;let l=1==e.value.use_html?{name:e.value.template_name,subject:e.value.subject,response_html:e.value.message,use_html:1,owner:null===(c=this.loginUser)||void 0===c?void 0:c.name}:{name:e.value.template_name,subject:e.value.subject,response:e.value.emailTemplatesText,use_html:0,owner:null===(n=this.loginUser)||void 0===n?void 0:n.name};this.checkTempMethod?this.http.put(`${i.a.resource}/${i.b.emailTemplates}/${l.name}`,l).subscribe(e=>{e&&(t.dismiss("close"),this.getTemplateData(),this.toaster.success("Updated"))}):this.http.post(`${i.a.resource}/${i.b.emailTemplates}`,l).subscribe(e=>{e&&(t.dismiss("close"),this.getTemplateData(),this.toaster.success("Added"))})}deleteTemp(e){if(!window.confirm(`Are you sure to delete ${e.name} Template? `))return null;this.http.delete(`${i.a.resource}/${i.b.emailTemplates}/${e.name}`).subscribe(t=>{"ok"==(null==t?void 0:t.message)&&(this.getTemplateData(),this.toaster.success(e.name+" Template is deleted"))})}editTemp(e,t){this.emailTempData=e,this.checkTempMethod=!0,this.modal.open(t,{size:"lg",centered:!0})}}return e.\u0275fac=function(t){return new(t||e)(a.bc(o.b),a.bc(s.d),a.bc(r.k))},e.\u0275cmp=a.Vb({type:e,selectors:[["app-email-settings"]],decls:18,vars:6,consts:[[1,"row","mb-3"],[1,"col-md-6"],[1,"text-white","mt-1"],[1,"text-right"],["type","button",1,"btn","btn-outline-primary","mb-0","text-uppercase",3,"routerLink"],[1,"row"],[1,"col-md-12"],["activeIds","static-1",3,"closeOthers"],["id","static-1",4,"ngIf"],["id","static-2",4,"ngIf"],["id","static-3",4,"ngIf"],["emailtemplate",""],["id","static-1"],["ngbPanelTitle",""],["ngbPanelContent",""],[1,"ri-add-line","float-right"],["form","ngForm"],[1,"col-lg-12","col-md-12"],[1,"col-lg-6","col-md-6"],[1,"form-group"],["type","text","appMatInput","","name","email_id","id","email_id","required","",1,"form-control",3,"ngModel","ngModelChange"],["email_id","ngModel"],["for","email_id",1,"mat-label"],["class","text-danger",4,"ngIf"],["type","text","appMatInput","","name","name","id","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","name",1,"mat-label"],["type","text","appMatInput","","name","email_server","id","email_server","required","",1,"form-control",3,"ngModel","ngModelChange"],["email_server","ngModel"],["for","email_server",1,"mat-label"],["type","text","appMatInput","","appNumberInput","","name","incoming_port","id","incoming_port","required","",1,"form-control",3,"ngModel","ngModelChange"],["incoming_port","ngModel"],["for","incoming_port",1,"mat-label"],["type","text","appMatInput","","appNumberInput","","name","attachment_limit","id","attachment_limit","required","",1,"form-control",3,"ngModel","ngModelChange"],["attachment_limit","ngModel"],["for","attachment_limit",1,"mat-label"],["type","text","appMatInput","","name","smtp_server","id","smtp_server","required","",1,"form-control",3,"ngModel","ngModelChange"],["smtp_server","ngModel"],["for","smtp_server",1,"mat-label"],["type","text","appMatInput","","appNumberInput","","name","smtp_port","id","smtp_port","required","",1,"form-control",3,"ngModel","ngModelChange"],["smtp_port","ngModel"],["for","smtp_port",1,"mat-label"],["class","col-lg-6 col-md-6",4,"ngIf"],["type","button",1,"btn","btn-primary","mb-0","text-uppercase","ml-3",3,"click"],[1,"text-danger"],["for","use_ssl",1,"mat-label"],["appMatInput","","name","use_ssl","id","use_ssl","required","",1,"custom-select",3,"ngModel","ngModelChange"],["use_ssl","ngModel"],["selected","","hidden","","disabled",""],["value","1"],["value","0"],["appMatInput","","name","use_tls","id","use_tls","required","",1,"custom-select",3,"ngModel","ngModelChange"],["use_tls","ngModel"],["id","static-2"],[1,"text-center","newTemplate",3,"click"],[1,"ri-add-line"],["class","col-6 mb-3 email-trmplates",4,"ngFor","ngForOf"],[1,"col-6","mb-3","email-trmplates"],[1,"row","m-0","justify-content-between","align-items-center","p-2","listTemplate"],[1,"col"],[1,"text-truncate-company"],[1,"col","text-right"],["type","button",1,"btn","btn-info",3,"click"],["type","button",1,"btn","btn-info","ml-2",3,"click"],["id","static-3"],["accountForm","ngForm"],["type","text","appMatInput","","name","email_id","id","email_id_ac","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","email_id_ac",1,"mat-label"],["type","password","appMatInput","","name","password","id","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["for","password",1,"mat-label"],["type","text","appMatInput","","name","email_account_name","id","email_account_name","required","",1,"form-control",3,"ngModel","ngModelChange"],["email_account_name","ngModel"],["for","email_account_name",1,"mat-label"],["type","text","appMatInput","","name","domain","id","domain","required","",1,"form-control",3,"ngModel","ngModelChange"],["domain","ngModel"],["for","domain",1,"mat-label"],["for","initial_sync_count",1,"mat-label"],["appMatInput","","name","initial_sync_count","id","initial_sync_count","required","",1,"custom-select",3,"ngModel","ngModelChange"],["initial_sync_count","ngModel"],["value","100"],["value","250"],["value","500"],["for","create_contact",1,"mat-label"],["appMatInput","","name","create_contact","id","create_contact","required","",1,"custom-select",3,"ngModel","ngModelChange"],["create_contact","ngModel"],["for","enable_outgoing",1,"mat-label"],["appMatInput","","name","enable_outgoing","id","enable_outgoing","required","",1,"custom-select",3,"ngModel","ngModelChange"],["enable_outgoing","ngModel"],["for","default_outgoing",1,"mat-label"],["appMatInput","","name","default_outgoing","id","default_outgoing","required","",1,"custom-select",3,"ngModel","ngModelChange"],["default_outgoing","ngModel"],["for","track_email_status",1,"mat-label"],["appMatInput","","name","track_email_status","id","track_email_status","required","",1,"custom-select",3,"ngModel","ngModelChange"],["track_email_status","ngModel"],[1,"modal-header"],["id","modal-basic-title",1,""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngSubmit",4,"ngIf"],["class","text-center p-4",4,"ngIf"],[3,"ngSubmit"],["type","text","appMatInput","","id","template_name","name","template_name","required","",1,"form-control",3,"ngModel","readonly","ngModelChange"],["template_name","ngModel"],["for","GuestName",1,"mat-label"],["type","text","appMatInput","","id","subject","name","subject","required","",1,"form-control",3,"ngModel","ngModelChange"],["subject","ngModel"],["for","subject",1,"mat-label"],[1,"form-check"],["type","checkbox","value","","name","use_html","id","flexCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexCheckDefault",1,"form-check-label"],["class","ql-container","id","message","name","message","required","",3,"ngModel","ngModelChange",4,"ngIf"],["name","","id","","cols","30","rows","10","class","w-100","id","message","name","message","placeholder","Enter html code",3,"ngModel","ngModelChange",4,"ngIf"],["name","","id","","cols","30","rows","10","class","w-100","id","emailTemplatesText","name","emailTemplatesText",3,"ngModel","ngModelChange",4,"ngIf"],[1,"mt-3","text-right"],["type","button",1,"btn","btn-outline-primary","mb-0","text-uppercase",3,"click"],["type","submit",1,"btn","btn-primary","ml-2"],["id","message","name","message","required","",1,"ql-container",3,"ngModel","ngModelChange"],["message","ngModel"],["name","","id","","cols","30","rows","10","id","message","name","message","placeholder","Enter html code",1,"w-100",3,"ngModel","ngModelChange"],["name","","id","","cols","30","rows","10","id","emailTemplatesText","name","emailTemplatesText",1,"w-100",3,"ngModel","ngModelChange"],[1,"text-center","p-4"]],template:function(e,t){1&e&&(a.hc(0,"section"),a.hc(1,"div",0),a.hc(2,"div",1),a.hc(3,"h4",2),a.hc(4,"b"),a.cd(5,"Email Settings"),a.gc(),a.gc(),a.gc(),a.hc(6,"div",1),a.hc(7,"div",3),a.hc(8,"button",4),a.cd(9,"Cancel"),a.gc(),a.gc(),a.gc(),a.gc(),a.hc(10,"div",5),a.hc(11,"div",6),a.hc(12,"ngb-accordion",7),a.ad(13,T,3,0,"ngb-panel",8),a.ad(14,x,3,0,"ngb-panel",9),a.ad(15,W,3,0,"ngb-panel",10),a.gc(),a.gc(),a.gc(),a.gc(),a.ad(16,ee,9,2,"ng-template",null,11,a.bd)),2&e&&(a.Nb(8),a.Ec("routerLink",a.Hc(5,te)),a.Nb(4),a.Ec("closeOthers",!0),a.Nb(1),a.Ec("ngIf","Administrator"==(null==t.loginUser?null:t.loginUser.full_name)||t.loginUSerRole),a.Nb(1),a.Ec("ngIf","Administrator"==(null==t.loginUser?null:t.loginUser.full_name)||t.loginUSerRole),a.Nb(1),a.Ec("ngIf","Administrator"==(null==t.loginUser?null:t.loginUser.full_name)||t.loginUSerRole))},directives:[l.f,r.b,n.p,r.v,r.x,r.w,d.u,d.j,d.k,d.b,u.a,d.q,d.i,d.l,g.a,d.r,d.m,d.t,n.o,d.a,m.a],styles:[".newTemplate[_ngcontent-%COMP%]{background-color:#c1c1c1;padding:27px 0}.listTemplate[_ngcontent-%COMP%], .newTemplate[_ngcontent-%COMP%]{border-radius:4px;overflow:hidden;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important;cursor:pointer}.listTemplate[_ngcontent-%COMP%]{background-color:#fff}.text-truncate-company[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;white-space:nowrap;text-transform:capitalize;width:200px;overflow:hidden;vertical-align:bottom;text-align:left}.email-trmplates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex}.email-trmplates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{padding-right:10px}"]}),e})()}];let ne=(()=>{class e{}return e.\u0275mod=a.Zb({type:e}),e.\u0275inj=a.Yb({factory:function(t){return new(t||e)},imports:[[l.i.forChild(ce)],l.i]}),e})(),le=(()=>{class e{}return e.\u0275mod=a.Zb({type:e}),e.\u0275inj=a.Yb({factory:function(t){return new(t||e)},imports:[[n.c,d.d,ne,g.b,r.D,u.b,r.c,m.b.forRoot()]]}),e})()}}]);