{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-05-11 10:00:42.965465",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Invoices",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "html": "<html dir=\"ltr\" lang=\"en\">\n   <style type=\"text/css\">\n      /*table { page-break-inside:initial }*/\n      /*tr    { page-break-inside:initial; page-break-after:auto }*/\n      /*thead { display:table-header-group }*/\n      /*tfoot { display:table-footer-group }*/\n      \n      /* --- Nice page breaks for tables --- */\n        table {\n            page-break-inside: auto\n        \n        }\n        \n        tr {\n            page-break-inside: avoid;\n            page-break-after: auto\n        }\n        \n        thead {\n            display: table-header-group\n        }\n        \n        tfoot {\n            display: table-footer-group\n        }\n   </style>\n   <style>\n      @import url(\"https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css\");\n      body:last-child .print-format td img{width: auto !important;}\n      .print-format{\n        padding: 0;\n        font-size: 8pt;\n      }\n      body {\n          font-size: 8pt;\n          background: #fff;\n          width: 100%;\n          box-sizing: content-box\n      }\n      @media print {\n      @page {\n        margin:0;\n        size: A4 !important;\n        DIN A4 standard, Europe \n      }\n      /*@page{*/\n      /*    size:landscape; */\n      /*    margin: 0; */\n      /* }*/\n      }\n      \n      .print-format{\n          position: relative;\n      }\n      \n      #header {\n        text-align: right;\n        width: 100%;\n        /* ( 45 mm - 10 mm margin ) */\n        height: 35mm;\n        /* Overwrite empty header inserted by frappe */\n        margin-top: -10mm;\n        overflow: hidden;\n        padding-left: 32.25mm;\n        padding-right: 25.8mm;\n        position: relative;\n    }\n      \n      #pagenum {\n        text-align: right;\n        margin-right: 20mm;\n        margin-top: 4.23mm;\n        margin-bottom: 4.23mm;\n    }\n\n      \n      .table-bordered td,\n      .table-bordered th {\n      padding: 0;\n      border: 0 !important;\n      }\n      .table th {\n      border: 1px solid rgba(221, 218, 218, 0.3);\n      padding: 5px;\n      border-collapse:collapse;\n      }\n      .table td {\n      border: 1px solid rgba(221, 218, 218, 0.3);\n      padding: 10px;\n      border-collapse:collapse;\n      }\n      * {\n      padding: 0;\n      margin: 0;\n      font-family: sans-serif;\n      border-spacing: 0;\n      }\n      .w-100{\n      width:100%;\n      }\n      /* .container {\n      width: 1200px;\n      padding: 0;\n      margin-right: auto;\n      margin-left: auto;\n      clear: both;\n      } */\n      /* .border {\n      border: 1px solid rgba(102, 102, 102, 0.479);\n      border-radius: 6px;\n      margin-bottom: 4px;\n      width: 100%;\n      } */\n      .border-top {\n      /*border-top: 1px solid rgba(102, 102, 102, 0.479);*/\n      margin: 5px 0;\n      padding-top: 5px;\n      }\n      .b-h {\n      border: 1px solid rgba(102, 102, 102, 0.479);\n      }\n      .table {\n      width: 98%;\n      text-align: left;\n      box-sizing: 0;\n      border: none;\n      }\n      img {\n      max-width: 100%;\n      }\n      .logo{\n        width: 300px;\n        height: auto;\n        text-align: center;\n        margin: 0 auto;\n      }\n      .logo img {\n        max-width: 100%;\n        height: auto;\n      }\n      /*.print-format td .qr img{margin: 10px;height: 200px;width: auto !important;}*/\n      strong {\n      font-weight: 700;\n      }\n      .heading {\n      /*padding: 5px;*/\n      /*border-bottom: 1px solid rgba(102, 102, 102, 0.479);*/\n      }\n      .heading h4 {\n      font-size: 12px;\n      margin: 0;\n      }\n      .c-p-8 {\n      padding: 0px;\n      }\n      .px-2 {\n      margin: 0;\n      padding: 0 0px;\n      }\n      .p-2 {\n      margin: 0;\n      padding: 7px;\n      }\n      h5 {\n      font-size: 14px;\n      margin-bottom: 10px;\n      }\n      p {\n      line-height: 20px;\n      font-size: 8pt;\n      }\n      .party .max-500 {\n      max-width: 550px;\n      }\n      .goods2 thead {\n      border-top: 1px solid rgba(102, 102, 102, 0.479);\n      }\n      .goods table {\n          width: 100%;\n      }\n      .goods table,\n      .goods td,\n      .goods th {\n      border: 1px solid rgba(102, 102, 102, 0.479);\n      padding: 10px 3px !important;\n      font-size: 8pt;\n      text-transform: capitalize;\n      }\n      .border{\n          border: 1px solid rgba(221, 218, 218, 0.3);\n      }\n      .goods2 th,\n      .goods2 td {\n      padding: 7px 3px;\n      }\n      .goods {\n      border-collapse: collapse;\n      }\n      .text-right {\n      text-align: right;\n      }\n      .c-p-8 table td {\n      padding: 5px;\n      }\n      .mr-2{\n      margin-right: 10px !important;\n      }\n      .mb-0 {\n      margin: 10px !important;\n      }\n      .goods.mb-0 {\n      margin: 0 !important;\n      }\n      address{font-size: 8pt;}\n      .d-flex{\n      display:flex;\n      }\n      .qr-img{\n        width: 200px;\n        height: auto;\n        text-align: center;\n        margin: 0 auto;\n      }\n      .pdfTable table {\n            page-break-inside: auto\n        }\n        \n        .pdfTable tr {\n            page-break-inside: avoid;\n            page-break-after: auto\n        }\n        \n        .pdfTable thead {\n            display: table-header-group\n        }\n        \n        .pdfTable tfoot {\n            display: table-footer-group\n        }\n        \n        #footer-html{\n            position: fixed;\n            bottom: 5px;\n            left: 10px;\n        }\n        \n        #footer-html p{\n            font-weight: bold;\n            font-size: 7px;\n        }\n        .d-jst-btw{\n            display:flex;\n            justify-content: space-evenly !important;\n            position:fixed;\n            bottom:0;\n            left:5px;\n            align-items: center !important;\n        }\n        .guest{\n         font-size:12px !important ;\n}\n.ml-2{\n    margin-left:20px;\n}\n.wid-25{\n    width:400px !important;\n    /*white-space:nowrap;*/\n    padding:10px 0 !important;\n}\n.white-space{\n    white-space:nowrap;\n}\n   </style>\n   <body>\n      <div class='print-format'>\n         <div class=\"m-2\">\n            <table>\n               <tr>\n                  <td>\n                     <div>\n                        <table class=\"table mb-0\">\n                           <tbody>\n                              <tr>\n                                 <td width=\"80%\" style=\"vertical-align: middle;\">\n                                      {% set company_details=frappe.get_doc('company', company) %}\n                                    <div class=\"logo\">\n                                       <div class=\"mb-3\">\n                                          <img class=\"img-fluid \" src=\"{{company_logo_base}}\" alt=\"\">\n                                       </div>\n                                    </div>\n                                     <p>{{company_details.legal_name}} <br>\n                                    {{company_details.address_1}}, {{company_details.address_2}},{{company_details.location}}, {{company_details.pincode}}</p>\n                                 </td>\n                                 <td width=\"20%\" align=\"right\">\n                                    <div class=\"qr qr-img\">\n                                       <img class=\"img-fluid\" src=\"{{qr_code_image}}\" alt=\"\">\n                                    </div>\n                                 </td>\n                              </tr>\n                           </tbody>\n                        </table>\n                     </div>\n                     <div>\n                        <table class=\"table mb-0\">\n                           <tbody>\n                              <tr>\n                                 <td width=\"100%\">\n                                    <div>\n                                       <div class=\"c-p-8\">\n                                          <table class='table'>\n                                             <tr>\n                                                <td colspan='3'>\n                                                  <div class=\"heading\">\n                                                    <h4><strong>1. e-Invoice Details</strong></h4>\n                                                  </div>\n                                                </td>\n                                             </tr>\n                                             <tr>\n                                                 {% if ( invoice_category=='Tax Invoice' or invoice_category=='Debit Invoice' ) %}\n                                                <td><strong>IRN</strong> : <br>{{irn_number if irn_number else \"\"}}</td>\n                                                <td><strong>Ack. No </strong> : <br>{{ack_no if ack_no else \"\"}}</td>\n                                                <td><strong>Ack. Date </strong> : <br> {{ack_date if ack_date else \"\"}}</td>\n                                                {% elif ( invoice_category=='Credit Invoice' ) %}\n                                                <td><strong>IRN</strong> : <br>{{credit_irn_number}}</td>\n                                                <td><strong>Ack. No </strong> : <br>{{credit_ack_no}}</td>\n                                                <td><strong>Ack. Date </strong> : <br>{{credit_ack_date}}</td>\n                                                {% endif %}\n                                             </tr>\n                                          </table>\n                                       </div>\n                                    </div>\n                                 </td>\n                              </tr>\n                           </tbody>\n                        </table>\n                     </div>\n                     <div>\n                        <table class=\"table mb-0\">\n                           <tbody>\n                              <tr>\n                                 <td width=\"100%\">\n                                    <div class=\"\">\n                                       <div class=\"c-p-8\">\n                                          <table class='table'>\n                                             <tr>\n                                                <td colspan='4'>\n                                                  <div class=\"heading\">\n                                                    <h4><strong>2. Transaction Details</strong></h4>\n                                                  </div>\n                                                </td>\n                                             </tr>\n                                             <tr>\n                                                <td width=\"25%\"><strong>Category</strong> : {{invoice_type}}</td>\n                                                <td width=\"25%\"><strong>Invoice No</strong> : {{name}} </td>\n                                                <td width=\"25%\"><strong>Document Date</strong> : {{invoice_date}}</td>\n                                                <td width=\"25%\"><strong>Room Number</strong> : {{room_number}} </td>\n                                                <!--<td width=\"33.33%\"></td>-->\n                                             </tr>\n                                          </table>\n                                          <!--<table class=\"\">-->\n                                          <!--    <tr>-->\n                                          <!--        <td width=\"33.33%\"><strong>Document Date </strong> : {{invoice_date}}</td>-->\n                                          <!--        <td width=\"33.33%\"><strong>Document Date </strong> :225 </td>-->\n                                          <!--        <td width=\"33.33%\"></td>-->\n                                          <!--    </tr>-->\n                                          <!--</table>-->\n                                       </div>\n                                    </div>\n                                 </td>\n                              </tr>\n                           </tbody>\n                        </table>\n                     </div>\n                     <div>\n                        <table class=\"table mb-0\" >\n                           <tbody>\n                              <tr>\n                                 <td width=\"100%\">\n                                    <div class=\"\">\n                                       <div class=\"c-p-8\">\n                                          <table class='table'>\n                                             <tr>\n                                                <td colspan='2'>\n                                                  <div class=\"heading\">\n                                                    <h4><strong>3. Party Details</strong></h4>\n                                                   </div>\n                                                </td>\n                                             </tr>\n                                             <tr>\n                                                <td  style=\"vertical-align: top;width:50%\">\n                                                   <div>\n                                                      <h5><strong>Seller</strong></h5>\n                                                   </div>\n                                                   {% set company_details=frappe.db.get_value('company',{'name':company},['gst_number','fssai_number','address_1','address_2','vat_reporting','location','pincode','legal_name','company_name','place_of_supply'],as_dict=1)%}\n                        \n                                                    <div class=\"max-500\">\n                                                      <div class=\"d-flex\">\n                                                          \n                                                         <p class=\"mb-1 mr-2\"><strong>GSTIN</strong> : {{company_details.gst_number}}, </p>\n                                                         <p><strong>PAN</strong> : {{company_details.gst_number[2:12]}}</p>\n                                                      </div>\n                                                      <p><strong>FSSAI LIC No :</strong> {{company_details.fssai_number}}</p>\n                                                      <p>{{company_details.company_name}}<br>{{company_details.legal_name}} <br>\n                                                         {{company_details.address_1}}, {{company_details.address_2}},<br>{{company_details.location}}, {{company_details.pincode}}\n                                                      </p>\n                                                   </div>\n                                                </td>\n                                                <td  style=\"vertical-align: top;width:50%\">\n                                                   <div>\n                                                      <h5><strong>Purchaser</strong></h5>\n                                                   </div>\n                                                  \n                                                   {% set tax_payer_details=frappe.db.get_value('TaxPayerDetail',{'name':gst_number},['legal_name','address_1','state_code','address_2','location','pincode'],as_dict=1)%}\n                                                    {% set summary_details=frappe.db.get_value('Summaries',{'name':summary},[\"po_number\"],as_dict=1)%}\n                                                    <!--{% set company_details=frappe.db.get_value('company',{'name':company},[\"place_of_supply\"],as_dict=1)%}-->\n                                                    {% set invoices_details=frappe.db.get_value('Invoices',{'name':invoice_number},['invoice_object_from_file','place_of_supply_json'],as_dict=1)%}\n                                                   \n                                                   <div>\n                                                      <div class=\"mb-1 mr-2\">\n                                                         <p><strong>Guest Name</strong> : {{guest_name}}</p>\n                                                      </div>\n                                                      <div class=\"d-flex mb-1 mr-2\">\n                                                        {% if ( invoice_type=='B2B') %}\n                                                         <p><strong>GSTIN:</strong> {{gst_number}},</p>\n                                                         \n                                                         <p><strong>PAN:</strong> {{gst_number[2:12] if tax_payer_details else \"\"}},</p>\n                                                      </div>\n                                                      <p>{{tax_payer_details.legal_name if tax_payer_details else \"\"}}\n                                                         <br> {{tax_payer_details.address_1 if tax_payer_details else \"\"}},<br>\n                                                         \n                                                         {% if (tax_payer_details.address_1 !=tax_payer_details.address_2 ) %}\n                                                        \n                                                         {{tax_payer_details.address_2  if tax_payer_details else \"\"}}\n                                                         {% endif %}\n                                                         {{tax_payer_details.location  if tax_payer_details else \"\"}}, {{tax_payer_details.pincode  if tax_payer_details else \"\"}}\n                                                      </p>\n                                                      <!--<p><strong>Place of Supply</strong> : {{company_details.place_of_supply}}</p>-->\n                                                      <p><strong>Place of Supply</strong> :  {% if (invoices_details.place_of_supply_json) %}\n                                                       {{invoices_details.place_of_supply_json}}\n                                                     {% else %}\n                                                      {{json.loads(invoices_details.invoice_object_from_file).data.place_of_supply_json}}\n                                                     {%  endif %}</p>\n                                                      \n                                                      {% elif (invoice_type =='B2C') %}\n                                                       <p class='mr-2'><strong>Confirmation Number </strong> : {{confirmation_number}}</p><br>\n                                                      {%  endif %}\n                                                      \n                                                   </div>\n                                                </td>\n                                             </tr>\n                                          </table>\n                                       </div>\n                                    </div>\n                                 </td>\n                              </tr>\n                           </tbody>\n                        </table>\n                     </div>\n                  </td>\n                </tr>\n            </table>\n         </div>\n         <div class=\"border mb-0\">\n            <div class=\"heading p-2\" style='border-bottom: 1px solid rgba(221, 218, 218, 0.3);'>\n              <h4><strong>4. Item Details</strong></h4>\n            </div>\n            <div class=\"c-p-8\">\n                <table class='table mb-0'>\n                {% set testing = frappe.db.sql(\"\"\"select DATE_FORMAT(date,'%d-%m-%Y') as Date, item_name as Description, sac_code as 'SAC/HSN Code', item_value as 'Item Value', gst_rate as 'GST Rate', cgst_amount+sgst_amount+igst_amount as 'GST Amount', vat_amount as VAT, cess_amount as 'C.CESS', state_cess_amount as 'S.CESS', item_value_after_gst as 'Total Item Value' from `tabItems` where `tabItems`.parent='{}'\"\"\".format(name),as_dict=1) %}\n                {% set tempData2 = testing|first %}\n                \n                <thead>\n                     <tr>\n                      {% for k,x in tempData2.items()%}\n                      <th class=\"check text-center\"><strong>{{ k }}</strong></th>\n                      {% endfor %}\n                    </tr>\n                </thead>\n                <tbody>\n                   {% for i in testing %} \n                   <tr>\n                      {% for k,v in i.items() %}\n                      <td style=\"text-align: center;\"> \n                       <p style='white-space: nowrap;'>  {{ v }}</p>\n                      </td>\n                      {% endfor %} \n                   </tr>\n                   {% endfor %} \n                </tbody>\n             </table>\n            </div>\n          </div>\n          <div style='margin-top: 10px'>\n             <table class='table mb-0'>\n                <tbody>\n                   <tr>\n                      <td width=\"100%\">\n                         <div>\n                            <div class=\"c-p-8\">\n                               <table class='table'>\n                                  {% set tempData = frappe.db.sql(\"\"\"select sac_hsn_code as 'HSN/SAC CODE', amount_before_gst as SALES, cgst as CGST, sgst as SGST, igst as IGST, cess as 'CESS TAX', state_cess as 'CESS TAX2',vat as 'VAT' from `tabSAC HSN Tax Summaries` where parent='{}'\"\"\".format(name),as_dict=1) %}\n                                  {% set tempData2 = tempData|first %}\n                                  <thead>\n                                     <tr>\n                                        {% for k,x in tempData2.items()%}\n                                        <th>{{ k }}</th>\n                                        {% endfor %}\n                                     </tr>\n                                  </thead>\n                                  <tbody>\n                                     {% for v in tempData%}\n                                     <tr>\n                                        {% for k,x in v.items()%}\n                                        <td>{{x}}</td>\n                                        {% endfor %}\n                                     </tr>\n                                     {% endfor %}\n                                  </tbody>\n                               </table>\n                            </div>\n                         </div>\n                      </td>\n                   </tr>\n                </tbody>\n             </table>\n          </div>\n            {% set company_details=frappe.db.get_value('company',{'name':company},['gst_number','fssai_number','address_1','address_2','location','pincode','legal_name'],as_dict=1)%}\n          \n          <div style='margin-top: 10px'>\n            <table class=\"table mb-0 \"  >\n            <tbody>\n               <tr>\n                  <td width=\"100%\">\n                     <div>\n                        <div class=\"c-p-8\">\n                           <table class='table'>\n                              <thead>\n                                 <tr>\n                                    <th>Taxable Value</th>\n                                    <th>CGST\n                                    </th>\n                                    <th>SGST\n                                    </th>\n                                    <th>IGST\n                                    </th>\n                                    <th>CESS\n                                    </th>\n                                    <th>State CESS\t</th>\n                                    <th>Discount</th>\n                                    <th>\n                                       Other Changes\t\n                                    </th>\n                                    <th>Round Off\t</th>\n                                    <th>Total Inv. Value</th>\n                                 </tr>\n                              </thead>\n                              <tbody>\n                                 <!--{% for item in sac_hsn_based_taxes %}-->\n                                 <tr>\n                                    <td class=\"text-right\">{{pms_invoice_summary_without_gst}}\t</td>\n                                    <td class=\"text-right\">{{cgst_amount}}</td>\n                                    <td class=\"text-right\">{{sgst_amount}}</td>\n                                    <td class=\"text-right\">{{igst_amount}}</td>\n                                    <td class=\"text-right\">{{total_central_cess_amount}}</td>\n                                    <td class=\"text-right\">{{total_state_cess_amount}}</td>\n                                    <td class=\"text-right\">{{discount_value_before_gst}}</td>\n                                    <td class=\"text-right\">{{other_charges if company_details.vat_reporting == 1 else other_charges_before_tax}}</td>\n                                    <td class=\"text-right\">{{invoice_round_off_amount}}</td>\n                                    <td class=\"text-right\">{{sales_amount_after_tax}}</td>\n                                 </tr>\n                                 <!--{% endfor %}-->\n                              </tbody>\n                           </table>\n                        </div>\n                     </div>\n                  </td>\n               </tr>\n            </tbody>\n         </table>\n          </div>\n          \n          <div style='margin-top: 10px'>\n             <table class=\"table mb-0\" >\n                <tbody>\n                   <tr>\n                      <td width=\"100%\">\n                         <div>\n                            <div class=\"c-p-8\">\n                               <table class='table-list'>\n                                  <tbody>\n                                     <tr>\n                                        <td width=\"40%\" style=\"vertical-align: left;\">\n                                           <div class=\"\">\n                                              <div class=\"c-p-8\">\n                                                 <div style=\"padding: 2px 5px\"><strong>Generated\n                                                    By</strong> :\n                                                    {{modified_by}}\n                                                 </div>\n                                                 <div style=\"padding:2px 5px\"><strong>Print Date </strong> :\n                                                    {{frappe.utils.formatdate(creation, 'dd-MM-yyyy')}}\n                                                 </div>\n                                              </div>\n                                           </div>\n                                        </td>\n                                        <td width=\"60%\" align=\"right\">\n                                           <div class=\"\">\n                                              <div class=\"c-p-8\">\n                                                 <div>\n                                                    <div style=\"padding:2px 5px\">\n                                                       <p style='margin: 0'>\n                                                          <strong>Amount In Words :</strong>\n                                                          {{frappe.utils.money_in_words(total_invoice_amount) }}\n                                                       </p>\n                                                    </div>\n                                                     {% if ( invoice_category=='Tax Invoice' or invoice_category=='Debit Invoice' ) %}\n                                                    <div style=\"padding:2px 5px\"><strong>System Generated On </strong> :\n                                                       {{frappe.utils.formatdate(ack_date, 'dd-MM-yyyy')}}\n                                                    </div>\n                                                    {% elif ( invoice_category=='Credit Invoice' ) %}\n                                                    <div style=\"padding:2px 5px\"><strong>System Generated On </strong> :\n                                                       {{frappe.utils.formatdate(credit_ack_date, 'dd-MM-yyyy')}}\n                                                    </div>\n                                                    {% endif %}\n                                                    \n                                                    \n                                                 </div>\n                                              </div>\n                                           </div>\n                                          \n                                        </td>\n                                     </tr>\n                                  </tbody>\n                               </table>\n                            </div>\n                         </div>\n                        \n                      </td>\n                   </tr>\n                </tbody>\n             </table>\n          </div>\n          \n        <div>\n        {% set company_details=frappe.db.get_value('company',{'name':company},['application_reference_number','data_filing'],as_dict=1)%}\n            \n            <div class=\"d-jst-btw\">\n                <div class=\"wid-25 \">\n                   <p style=\"font-size: 7px !important;\">\n                       <strong>\n                           This is a computer generated summary no signature required.\n                       </strong>\n                   </p> \n                </div>\n                 <div class=\"wid-25  white-space \">\n                                   <p>\n                    <strong>Appliction Reference Number - </strong>{{company_details.application_reference_number }}\n                </p>\n                <p>\n                   <strong>Date of filing - </strong>{{company_details.data_filing }}\n                </p>\n                </div>\n            </div>\n            \n            \n           <!--<div id=\"footer-html\">-->\n           <!--         <p style=\"font-size: 7px !important;\">This is a computer generated summary no signature required.</p>-->\n           <!--          <div >-->\n           <!--     <strong>Appliction Reference Number - </strong>{{company_details.application_reference_number }}-->\n           <!-- </div>-->\n           <!-- <div >-->\n           <!--     <strong>Date of filing - </strong>{{company_details.data_filing }}-->\n           <!-- </div>-->\n           <!--     </div>-->\n            </div>\n           \n    </div>\n    \n   \n    \n    \n\n   </body>\n</html>",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2023-03-31 17:24:05.227779",
 "modified_by": "Administrator",
 "module": "Version2 App",
 "name": "E-Tax Invoice",
 "owner": "Administrator",
 "parent": "Invoices",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}